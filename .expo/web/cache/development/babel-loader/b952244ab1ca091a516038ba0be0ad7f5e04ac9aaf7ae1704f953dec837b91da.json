{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nvar _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Documents\\\\Tricade\\\\src\\\\views\\\\SnakeGameScreen.js\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useEffect, useRef, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport { auth, db } from '../firebaseConfig';\nimport { doc, getDoc, setDoc, increment, updateDoc } from 'firebase/firestore';\nimport { screenWidth as width, screenHeight as height, wp, hp, SPACING, FONT_SIZES, scaleDimension, scaleFont, getResponsiveDimension } from '../utils/dimensions';\nimport { checkAndUpdateMissions } from '../utils/missions';\nimport { GAME_SCORES, getExpForLevel, SPECIAL_AVATARS } from '../utils/scoreConfig';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar pixelFont = 'PressStart2P_400Regular';\nvar BOARD_SIZE = 20;\nvar BOARD_MARGIN = scaleDimension(20);\nvar MAX_BOARD_SIZE = Math.min(wp(90), hp(70)) - BOARD_MARGIN * 2;\nvar CELL_SIZE = Math.floor(MAX_BOARD_SIZE / BOARD_SIZE);\nvar BOARD_PIXEL_SIZE = CELL_SIZE * BOARD_SIZE;\nvar INITIAL_SPEED = 100;\nvar SPEED_INCREMENT = 3;\nvar INIT_SNAKE = [{\n  x: 10,\n  y: 10\n}, {\n  x: 9,\n  y: 10\n}, {\n  x: 8,\n  y: 10\n}];\nvar INIT_DIRECTION = 'right';\nvar pixelStroke = [{\n  textShadowOffset: {\n    width: -4,\n    height: 0\n  },\n  textShadowColor: '#000',\n  textShadowRadius: 0\n}, {\n  textShadowOffset: {\n    width: 4,\n    height: 0\n  },\n  textShadowColor: '#000',\n  textShadowRadius: 0\n}, {\n  textShadowOffset: {\n    width: 0,\n    height: -4\n  },\n  textShadowColor: '#000',\n  textShadowRadius: 0\n}, {\n  textShadowOffset: {\n    width: 0,\n    height: 4\n  },\n  textShadowColor: '#000',\n  textShadowRadius: 0\n}, {\n  textShadowOffset: {\n    width: -4,\n    height: -4\n  },\n  textShadowColor: '#000',\n  textShadowRadius: 0\n}, {\n  textShadowOffset: {\n    width: 4,\n    height: -4\n  },\n  textShadowColor: '#000',\n  textShadowRadius: 0\n}, {\n  textShadowOffset: {\n    width: -4,\n    height: 4\n  },\n  textShadowColor: '#000',\n  textShadowRadius: 0\n}, {\n  textShadowOffset: {\n    width: 4,\n    height: 4\n  },\n  textShadowColor: '#000',\n  textShadowRadius: 0\n}];\nfunction getRandomFood(snake) {\n  var food;\n  do {\n    food = {\n      x: Math.floor(Math.random() * (BOARD_SIZE - 2)) + 1,\n      y: Math.floor(Math.random() * (BOARD_SIZE - 2)) + 1\n    };\n  } while (snake.some(function (seg) {\n    return seg.x === food.x && seg.y === food.y;\n  }));\n  return food;\n}\nvar OPPOSITE_DIRECTIONS = {\n  up: 'down',\n  down: 'up',\n  left: 'right',\n  right: 'left'\n};\nvar changeAvatarWithAnimation = function changeAvatarWithAnimation(newAvatar) {\n  Animated.sequence([Animated.timing(fadeAnim, {\n    toValue: 0,\n    duration: 500,\n    useNativeDriver: true\n  }), Animated.timing(fadeAnim, {\n    toValue: 1,\n    duration: 500,\n    useNativeDriver: true\n  })]).start();\n  setAvatar(newAvatar);\n};\nfunction addSnakeWinExp() {\n  return _addSnakeWinExp.apply(this, arguments);\n}\nfunction _addSnakeWinExp() {\n  _addSnakeWinExp = _asyncToGenerator(function* () {\n    if (!auth.currentUser) return;\n    var userRef = doc(db, 'users', auth.currentUser.uid);\n    var userDoc = yield getDoc(userRef);\n    var exp = 0,\n      level = 0;\n    if (userDoc.exists()) {\n      exp = userDoc.data().exp || 0;\n      level = userDoc.data().level || 0;\n    }\n    exp += GAME_SCORES.snake;\n    var newLevel = level;\n    var expMax = getExpForLevel(newLevel + 1);\n    if (exp >= expMax) {\n      exp -= expMax;\n      newLevel += 1;\n    }\n    var updates = {\n      exp: exp,\n      level: newLevel\n    };\n    var special = SPECIAL_AVATARS.find(function (a) {\n      return a.level === newLevel;\n    });\n    if (special) {\n      updates.photoURL = null;\n      updates.avatarSpecial = special.image;\n    }\n    yield setDoc(userRef, updates, {\n      merge: true\n    });\n    var statsRef = doc(db, 'users', auth.currentUser.uid, 'snakeStats', 'stats');\n    var statsDoc = yield getDoc(statsRef);\n    var prev = {\n      victorias: 0,\n      derrotas: 0\n    };\n    if (statsDoc.exists()) {\n      prev = statsDoc.data();\n    }\n    yield setDoc(statsRef, {\n      victorias: prev.victorias + 1,\n      derrotas: prev.derrotas\n    }, {\n      merge: true\n    });\n    var missionReward = yield checkAndUpdateMissions(auth.currentUser.uid, 'SNAKE', {\n      victorias: prev.victorias + 1,\n      derrotas: prev.derrotas\n    });\n    if (missionReward > 0) {\n      yield updateDoc(userRef, {\n        level: increment(missionReward)\n      });\n    }\n  });\n  return _addSnakeWinExp.apply(this, arguments);\n}\nexport default function SnakeGameScreen(_ref) {\n  var _this = this;\n  var navigation = _ref.navigation;\n  var _useState = useState([].concat(INIT_SNAKE)),\n    _useState2 = _slicedToArray(_useState, 2),\n    snake = _useState2[0],\n    setSnake = _useState2[1];\n  var _useState3 = useState(INIT_DIRECTION),\n    _useState4 = _slicedToArray(_useState3, 2),\n    direction = _useState4[0],\n    setDirection = _useState4[1];\n  var _useState5 = useState(getRandomFood(INIT_SNAKE)),\n    _useState6 = _slicedToArray(_useState5, 2),\n    food = _useState6[0],\n    setFood = _useState6[1];\n  var _useState7 = useState(0),\n    _useState8 = _slicedToArray(_useState7, 2),\n    score = _useState8[0],\n    setScore = _useState8[1];\n  var _useState9 = useState(false),\n    _useState0 = _slicedToArray(_useState9, 2),\n    gameOver = _useState0[0],\n    setGameOver = _useState0[1];\n  var _useState1 = useState(false),\n    _useState10 = _slicedToArray(_useState1, 2),\n    isPaused = _useState10[0],\n    setIsPaused = _useState10[1];\n  var _useState11 = useState(0),\n    _useState12 = _slicedToArray(_useState11, 2),\n    highScore = _useState12[0],\n    setHighScore = _useState12[1];\n  var _useState13 = useState(0),\n    _useState14 = _slicedToArray(_useState13, 2),\n    lastScore = _useState14[0],\n    setLastScore = _useState14[1];\n  var _useState15 = useState(0),\n    _useState16 = _slicedToArray(_useState15, 2),\n    totalGames = _useState16[0],\n    setTotalGames = _useState16[1];\n  var _useState17 = useState(0),\n    _useState18 = _slicedToArray(_useState17, 2),\n    totalPixels = _useState18[0],\n    setTotalPixels = _useState18[1];\n  var _useState19 = useState(0),\n    _useState20 = _slicedToArray(_useState19, 2),\n    foodsEaten = _useState20[0],\n    setFoodsEaten = _useState20[1];\n  var gameLoopRef = useRef(null);\n  var lastDirectionRef = useRef(INIT_DIRECTION);\n  var pulseAnim = useRef(new Animated.Value(1)).current;\n  var fadeAnim = useRef(new Animated.Value(1)).current;\n  var shakeAnim = useRef(new Animated.Value(0)).current;\n  var resetGame = function resetGame() {\n    setSnake([].concat(INIT_SNAKE));\n    setDirection(INIT_DIRECTION);\n    lastDirectionRef.current = INIT_DIRECTION;\n    setFood(getRandomFood(INIT_SNAKE));\n    setScore(0);\n    setFoodsEaten(0);\n    setGameOver(false);\n    setIsPaused(false);\n    fadeAnim.setValue(1);\n    shakeAnim.setValue(0);\n  };\n  var updateStatsInFirestore = function () {\n    var _ref2 = _asyncToGenerator(function* (score) {\n      try {\n        if (!auth.currentUser) return;\n        var statsRef = doc(db, 'users', auth.currentUser.uid, 'snakeStats', 'stats');\n        var userDocRef = doc(db, 'users', auth.currentUser.uid);\n        var statsDoc = yield getDoc(statsRef);\n        var prev = {\n          bestScore: 0,\n          lastScore: 0,\n          totalGames: 0,\n          totalPixels: 0\n        };\n        if (statsDoc.exists()) {\n          prev = statsDoc.data();\n        }\n        var newStats = {\n          bestScore: Math.max(prev.bestScore || 0, score),\n          lastScore: score,\n          totalGames: (prev.totalGames || 0) + 1,\n          totalPixels: (prev.totalPixels || 0) + score\n        };\n        yield setDoc(statsRef, newStats, {\n          merge: true\n        });\n        var missionReward = yield checkAndUpdateMissions(auth.currentUser.uid, 'SNAKE', newStats);\n        if (missionReward > 0) {\n          yield updateDoc(userDocRef, {\n            level: increment(missionReward)\n          });\n        }\n        yield addSnakeWinExp();\n      } catch (e) {\n        console.error('Error updating snake stats:', e);\n      }\n    });\n    return function updateStatsInFirestore(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var handleGameOver = function handleGameOver() {\n    setGameOver(true);\n    updateStatsInFirestore(score);\n    Animated.sequence([Animated.timing(fadeAnim, {\n      toValue: 1,\n      duration: 500,\n      useNativeDriver: true\n    }), Animated.timing(shakeAnim, {\n      toValue: 10,\n      duration: 100,\n      useNativeDriver: true\n    }), Animated.timing(shakeAnim, {\n      toValue: -10,\n      duration: 100,\n      useNativeDriver: true\n    }), Animated.timing(shakeAnim, {\n      toValue: 0,\n      duration: 100,\n      useNativeDriver: true\n    })]).start();\n    Alert.alert('Game Over', `Comidas: ${foodsEaten}\\nPuntos: ${score}`, [{\n      text: 'Jugar de nuevo',\n      onPress: resetGame\n    }]);\n  };\n  var moveSnake = function moveSnake() {\n    if (gameOver || isPaused) return;\n    setSnake(function (prevSnake) {\n      var head = _objectSpread({}, prevSnake[0]);\n      var currentDirection = lastDirectionRef.current;\n      switch (currentDirection) {\n        case 'up':\n          head.y--;\n          break;\n        case 'down':\n          head.y++;\n          break;\n        case 'left':\n          head.x--;\n          break;\n        case 'right':\n          head.x++;\n          break;\n      }\n      if (head.x < 0 || head.x >= BOARD_SIZE || head.y < 0 || head.y >= BOARD_SIZE) {\n        handleGameOver();\n        return prevSnake;\n      }\n      var selfCollision = prevSnake.some(function (segment) {\n        return segment.x === head.x && segment.y === head.y;\n      });\n      if (selfCollision) {\n        handleGameOver();\n        return prevSnake;\n      }\n      var newSnake = [head].concat(_toConsumableArray(prevSnake));\n      if (head.x === food.x && head.y === food.y) {\n        setScore(function (prev) {\n          return prev + 2;\n        });\n        setFoodsEaten(function (prev) {\n          return prev + 1;\n        });\n        setFood(getRandomFood(newSnake));\n      } else {\n        newSnake.pop();\n      }\n      return newSnake;\n    });\n  };\n  useEffect(function () {\n    var handleKeyPress = function handleKeyPress(e) {\n      if (gameOver) return;\n      var key = e.key.toLowerCase();\n      var newDirection = null;\n      switch (key) {\n        case 'arrowup':\n        case 'w':\n          newDirection = 'up';\n          break;\n        case 'arrowdown':\n        case 's':\n          newDirection = 'down';\n          break;\n        case 'arrowleft':\n        case 'a':\n          newDirection = 'left';\n          break;\n        case 'arrowright':\n        case 'd':\n          newDirection = 'right';\n          break;\n        case ' ':\n          setIsPaused(function (prev) {\n            return !prev;\n          });\n          return;\n      }\n      if (newDirection && OPPOSITE_DIRECTIONS[newDirection] !== lastDirectionRef.current) {\n        lastDirectionRef.current = newDirection;\n        setDirection(newDirection);\n      }\n    };\n    window.addEventListener('keydown', handleKeyPress);\n    return function () {\n      return window.removeEventListener('keydown', handleKeyPress);\n    };\n  }, [gameOver]);\n  useEffect(function () {\n    var speed = Math.max(INITIAL_SPEED - score * SPEED_INCREMENT, 120);\n    gameLoopRef.current = setInterval(moveSnake, speed);\n    return function () {\n      return clearInterval(gameLoopRef.current);\n    };\n  }, [score, gameOver, isPaused]);\n  useEffect(function () {\n    var pulse = Animated.sequence([Animated.timing(pulseAnim, {\n      toValue: 1.08,\n      duration: 1000,\n      useNativeDriver: true\n    }), Animated.timing(pulseAnim, {\n      toValue: 1,\n      duration: 1000,\n      useNativeDriver: true\n    })]);\n    Animated.loop(pulse).start();\n    return function () {\n      pulseAnim.stopAnimation();\n    };\n  }, []);\n  var renderBoard = function renderBoard() {\n    return Array(BOARD_SIZE).fill().map(function (_, y) {\n      return _jsxDEV(View, {\n        style: styles.row,\n        children: Array(BOARD_SIZE).fill().map(function (_, x) {\n          var isSnake = snake.some(function (segment) {\n            return segment.x === x && segment.y === y;\n          });\n          var isHead = snake[0].x === x && snake[0].y === y;\n          var isFood = food.x === x && food.y === y;\n          var snakeIndex = snake.findIndex(function (segment) {\n            return segment.x === x && segment.y === y;\n          });\n          return _jsxDEV(View, {\n            style: [styles.cell, isSnake && (isHead ? styles.snakeHead : styles.snakeBody)],\n            children: [isSnake && !isHead && _jsxDEV(View, {\n              style: styles.scale\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 17\n            }, _this), isHead && _jsxDEV(_Fragment, {\n              children: [_jsxDEV(View, {\n                style: styles.scaleTop\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 367,\n                columnNumber: 19\n              }, _this), _jsxDEV(View, {\n                style: [styles.snakeEye, {\n                  top: CELL_SIZE * 0.25,\n                  left: CELL_SIZE * 0.25\n                }]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 19\n              }, _this), _jsxDEV(View, {\n                style: [styles.snakeEye, {\n                  top: CELL_SIZE * 0.25,\n                  right: CELL_SIZE * 0.25\n                }]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 375,\n                columnNumber: 19\n              }, _this)]\n            }, void 0, true), isFood && _jsxDEV(Animated.View, {\n              style: [styles.food, {\n                transform: [{\n                  scale: pulseAnim\n                }]\n              }],\n              children: [_jsxDEV(View, {\n                style: {\n                  position: 'absolute',\n                  width: CELL_SIZE * 0.14,\n                  height: CELL_SIZE * 0.18,\n                  backgroundColor: '#8B4513',\n                  top: -CELL_SIZE * 0.09,\n                  left: CELL_SIZE * 0.8 / 2 - CELL_SIZE * 0.07,\n                  borderRadius: CELL_SIZE * 0.07,\n                  zIndex: 2\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 390,\n                columnNumber: 19\n              }, _this), _jsxDEV(View, {\n                style: {\n                  position: 'absolute',\n                  width: CELL_SIZE * 0.18,\n                  height: CELL_SIZE * 0.12,\n                  backgroundColor: '#228B22',\n                  top: -CELL_SIZE * 0.11,\n                  left: CELL_SIZE * 0.8 / 2,\n                  borderTopLeftRadius: CELL_SIZE * 0.09,\n                  borderTopRightRadius: CELL_SIZE * 0.09,\n                  transform: [{\n                    rotate: '-25deg'\n                  }],\n                  zIndex: 1\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 19\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 17\n            }, _this)]\n          }, `cell-${x}-${y}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 13\n          }, _this);\n        })\n      }, `row-${y}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 7\n      }, _this);\n    });\n  };\n  var handleDirectionPress = function handleDirectionPress(newDirection) {\n    if (gameOver || isPaused) return;\n    if (OPPOSITE_DIRECTIONS[newDirection] !== lastDirectionRef.current) {\n      lastDirectionRef.current = newDirection;\n      setDirection(newDirection);\n    }\n  };\n  var handleBack = function handleBack() {\n    if (gameLoopRef.current) {\n      clearInterval(gameLoopRef.current);\n    }\n    navigation.goBack();\n  };\n  return _jsxDEV(SafeAreaView, {\n    style: styles.container,\n    children: [_jsxDEV(TouchableOpacity, {\n      style: styles.backButton,\n      onPress: handleBack,\n      children: _jsxDEV(View, {\n        style: styles.backBox,\n        children: _jsxDEV(Text, {\n          style: styles.backText,\n          children: '<'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 7\n    }, this), _jsxDEV(View, {\n      style: styles.cornerDotTL\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 7\n    }, this), _jsxDEV(View, {\n      style: styles.cornerDotTR\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 448,\n      columnNumber: 7\n    }, this), _jsxDEV(View, {\n      style: styles.cornerDotBL\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 449,\n      columnNumber: 7\n    }, this), _jsxDEV(View, {\n      style: styles.cornerDotBR\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 450,\n      columnNumber: 7\n    }, this), _jsxDEV(View, {\n      style: styles.scanlinesBg,\n      children: Array.from({\n        length: 20\n      }).map(function (_, i) {\n        return _jsxDEV(View, {\n          style: styles.scanline\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 11\n        }, _this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 453,\n      columnNumber: 7\n    }, this), _jsxDEV(View, {\n      style: styles.header,\n      children: [_jsxDEV(Text, {\n        style: [styles.title].concat(pixelStroke),\n        children: \"SNAKE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 9\n      }, this), _jsxDEV(View, {\n        style: styles.scoreContainer,\n        children: [_jsxDEV(Text, {\n          style: styles.score,\n          children: [\"Score: \", score]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 11\n        }, this), _jsxDEV(Text, {\n          style: styles.highScore,\n          children: [\"High Score: \", highScore]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 463,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 459,\n      columnNumber: 7\n    }, this), _jsxDEV(View, {\n      style: styles.boardContainer,\n      children: _jsxDEV(View, {\n        style: styles.boardBorder,\n        children: _jsxDEV(View, {\n          style: styles.board,\n          children: [renderBoard(), gameOver && _jsxDEV(Animated.View, {\n            style: [styles.gameOverOverlay, {\n              opacity: fadeAnim,\n              transform: [{\n                translateX: shakeAnim\n              }]\n            }],\n            children: _jsxDEV(View, {\n              style: styles.gameOverBox,\n              children: [_jsxDEV(Text, {\n                style: [styles.gameOverText].concat(pixelStroke),\n                children: \"GAME\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 482,\n                columnNumber: 19\n              }, this), _jsxDEV(Text, {\n                style: [styles.gameOverText].concat(pixelStroke),\n                children: \"OVER\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 483,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 467,\n      columnNumber: 7\n    }, this), _jsxDEV(View, {\n      style: styles.controls,\n      children: [_jsxDEV(View, {\n        style: styles.controlRow,\n        children: _jsxDEV(TouchableOpacity, {\n          style: [styles.controlButton, styles.glowBtn],\n          onPress: function onPress() {\n            return handleDirectionPress('up');\n          },\n          children: _jsxDEV(Text, {\n            style: styles.controlText,\n            children: \"\\u2191\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 497,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 493,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 492,\n        columnNumber: 9\n      }, this), _jsxDEV(View, {\n        style: styles.controlRow,\n        children: [_jsxDEV(TouchableOpacity, {\n          style: [styles.controlButton, styles.glowBtn],\n          onPress: function onPress() {\n            return handleDirectionPress('left');\n          },\n          children: _jsxDEV(Text, {\n            style: styles.controlText,\n            children: \"\\u2190\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 505,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 501,\n          columnNumber: 11\n        }, this), _jsxDEV(TouchableOpacity, {\n          style: [styles.controlButton, styles.pauseButton, styles.glowBtn],\n          onPress: function onPress() {\n            return setIsPaused(function (prev) {\n              return !prev;\n            });\n          },\n          children: _jsxDEV(Text, {\n            style: styles.controlText,\n            children: isPaused ? '▶' : '⏸'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 511,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 507,\n          columnNumber: 11\n        }, this), _jsxDEV(TouchableOpacity, {\n          style: [styles.controlButton, styles.glowBtn],\n          onPress: function onPress() {\n            return handleDirectionPress('right');\n          },\n          children: _jsxDEV(Text, {\n            style: styles.controlText,\n            children: \"\\u2192\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 517,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 513,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 500,\n        columnNumber: 9\n      }, this), _jsxDEV(View, {\n        style: styles.controlRow,\n        children: _jsxDEV(TouchableOpacity, {\n          style: [styles.controlButton, styles.glowBtn],\n          onPress: function onPress() {\n            return handleDirectionPress('down');\n          },\n          children: _jsxDEV(Text, {\n            style: styles.controlText,\n            children: \"\\u2193\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 525,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 521,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 520,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 491,\n      columnNumber: 7\n    }, this), _jsxDEV(View, {\n      style: {\n        alignItems: 'center',\n        marginTop: 10,\n        marginBottom: 20\n      },\n      children: _jsxDEV(TouchableOpacity, {\n        style: [styles.restartButton, styles.glowBtn, {\n          marginTop: 0\n        }],\n        onPress: resetGame,\n        children: _jsxDEV(Text, {\n          style: styles.restartButtonText,\n          children: gameOver ? 'Play Again' : 'Restart'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 535,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 531,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 530,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 438,\n    columnNumber: 5\n  }, this);\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#0a0a23',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    padding: scaleDimension(24)\n  },\n  scanlinesBg: _objectSpread(_objectSpread({}, StyleSheet.absoluteFillObject), {}, {\n    zIndex: 0,\n    flexDirection: 'column',\n    justifyContent: 'space-between',\n    opacity: 0.13\n  }),\n  scanline: {\n    width: '100%',\n    height: 3,\n    backgroundColor: '#fff',\n    marginBottom: 7,\n    opacity: 0.18\n  },\n  cornerDotTL: {\n    position: 'absolute',\n    top: hp(2.5),\n    left: wp(4),\n    width: scaleDimension(12),\n    height: scaleDimension(12),\n    backgroundColor: '#ff2e7e',\n    borderRadius: scaleDimension(6),\n    zIndex: 2\n  },\n  cornerDotTR: {\n    position: 'absolute',\n    top: hp(2.5),\n    right: wp(4),\n    width: scaleDimension(12),\n    height: scaleDimension(12),\n    backgroundColor: '#00fff7',\n    borderRadius: scaleDimension(6),\n    zIndex: 2\n  },\n  cornerDotBL: {\n    position: 'absolute',\n    bottom: hp(2.5),\n    left: wp(4),\n    width: scaleDimension(12),\n    height: scaleDimension(12),\n    backgroundColor: '#00fff7',\n    borderRadius: scaleDimension(6),\n    zIndex: 2\n  },\n  cornerDotBR: {\n    position: 'absolute',\n    bottom: hp(2.5),\n    right: wp(4),\n    width: scaleDimension(12),\n    height: scaleDimension(12),\n    backgroundColor: '#ff2e7e',\n    borderRadius: scaleDimension(6),\n    zIndex: 2\n  },\n  header: {\n    alignItems: 'center',\n    marginBottom: SPACING.lg,\n    zIndex: 1\n  },\n  title: {\n    fontSize: scaleFont(38),\n    fontFamily: pixelFont,\n    color: '#00fff7',\n    marginBottom: SPACING.sm,\n    letterSpacing: 2\n  },\n  scoreContainer: {\n    backgroundColor: '#23233a',\n    borderRadius: getResponsiveDimension(14),\n    borderWidth: scaleDimension(5),\n    borderColor: '#00fff7',\n    padding: SPACING.md,\n    alignItems: 'center'\n  },\n  score: {\n    fontSize: scaleFont(18),\n    fontFamily: pixelFont,\n    color: '#ff2e7e',\n    marginBottom: SPACING.xs\n  },\n  highScore: {\n    fontSize: scaleFont(14),\n    fontFamily: pixelFont,\n    color: '#00fff7'\n  },\n  boardContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginVertical: SPACING.xl,\n    zIndex: 1\n  },\n  boardBorder: {\n    borderWidth: scaleDimension(5),\n    borderColor: '#00fff7',\n    borderRadius: getResponsiveDimension(22),\n    padding: SPACING.sm,\n    backgroundColor: '#23233a',\n    shadowColor: '#00fff7',\n    shadowOpacity: 0.3,\n    shadowRadius: 12,\n    shadowOffset: {\n      width: 0,\n      height: 0\n    }\n  },\n  board: {\n    width: BOARD_PIXEL_SIZE,\n    height: BOARD_PIXEL_SIZE,\n    backgroundColor: '#101926',\n    borderWidth: scaleDimension(4),\n    borderColor: '#ff2e7e',\n    borderRadius: getResponsiveDimension(16)\n  },\n  row: {\n    flexDirection: 'row'\n  },\n  cell: {\n    width: CELL_SIZE,\n    height: CELL_SIZE,\n    borderWidth: 0.5,\n    borderColor: '#16213e',\n    position: 'relative'\n  },\n  snakeHead: {\n    backgroundColor: '#ff2e7e',\n    borderRadius: CELL_SIZE / 3,\n    shadowColor: '#ff2e7e',\n    shadowOpacity: 0.8,\n    shadowRadius: 8,\n    shadowOffset: {\n      width: 0,\n      height: 0\n    },\n    borderWidth: 1,\n    borderColor: '#ff69b4',\n    position: 'relative',\n    overflow: 'hidden',\n    width: CELL_SIZE,\n    height: CELL_SIZE\n  },\n  snakeBody: {\n    backgroundColor: '#00fff7',\n    borderRadius: CELL_SIZE / 4,\n    shadowColor: '#00fff7',\n    shadowOpacity: 0.6,\n    shadowRadius: 6,\n    shadowOffset: {\n      width: 0,\n      height: 0\n    },\n    borderWidth: 1,\n    borderColor: '#7fffd4',\n    position: 'relative',\n    overflow: 'hidden',\n    width: CELL_SIZE,\n    height: CELL_SIZE\n  },\n  scale: {\n    position: 'absolute',\n    width: CELL_SIZE * 0.7,\n    height: CELL_SIZE * 0.7,\n    backgroundColor: 'rgba(255, 255, 255, 0.15)',\n    borderRadius: CELL_SIZE * 0.35,\n    top: CELL_SIZE * 0.15,\n    left: CELL_SIZE * 0.15,\n    borderWidth: 1,\n    borderColor: 'rgba(255, 255, 255, 0.3)'\n  },\n  scaleTop: {\n    position: 'absolute',\n    width: CELL_SIZE * 0.7,\n    height: CELL_SIZE * 0.7,\n    backgroundColor: 'rgba(255, 255, 255, 0.2)',\n    borderRadius: CELL_SIZE * 0.35,\n    top: CELL_SIZE * 0.15,\n    left: CELL_SIZE * 0.15,\n    borderWidth: 1,\n    borderColor: 'rgba(255, 255, 255, 0.4)'\n  },\n  snakeEye: {\n    position: 'absolute',\n    width: CELL_SIZE * 0.2,\n    height: CELL_SIZE * 0.2,\n    backgroundColor: '#000',\n    borderRadius: CELL_SIZE * 0.1,\n    borderWidth: 1,\n    borderColor: '#fff'\n  },\n  food: {\n    width: CELL_SIZE * 0.8,\n    height: CELL_SIZE * 0.8,\n    backgroundColor: '#ff0000',\n    borderRadius: CELL_SIZE * 0.8 / 2,\n    shadowColor: '#ff0000',\n    shadowOpacity: 0.8,\n    shadowRadius: 8,\n    shadowOffset: {\n      width: 0,\n      height: 0\n    },\n    position: 'absolute',\n    left: CELL_SIZE * 0.1,\n    top: CELL_SIZE * 0.1,\n    overflow: 'visible',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  controls: {\n    marginTop: SPACING.xl,\n    alignItems: 'center',\n    zIndex: 1\n  },\n  controlRow: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    marginVertical: SPACING.xs\n  },\n  controlButton: {\n    width: getResponsiveDimension(60),\n    height: getResponsiveDimension(60),\n    backgroundColor: '#23233a',\n    borderRadius: getResponsiveDimension(8),\n    justifyContent: 'center',\n    alignItems: 'center',\n    margin: SPACING.xs,\n    borderWidth: scaleDimension(2),\n    borderColor: '#00fff7'\n  },\n  pauseButton: {\n    backgroundColor: '#16213e',\n    borderColor: '#ff2e7e'\n  },\n  controlText: {\n    fontSize: scaleFont(24),\n    fontFamily: pixelFont,\n    color: '#fff'\n  },\n  restartButton: {\n    backgroundColor: '#23233a',\n    paddingHorizontal: 30,\n    paddingVertical: 15,\n    borderRadius: 25,\n    marginTop: 0,\n    borderWidth: 2,\n    borderColor: '#ff2e7e',\n    zIndex: 1\n  },\n  restartButtonText: {\n    color: '#ff2e7e',\n    fontSize: scaleFont(18),\n    fontFamily: pixelFont\n  },\n  glowBtn: {\n    shadowColor: '#00fff7',\n    shadowOpacity: 0.3,\n    shadowRadius: 12,\n    shadowOffset: {\n      width: 0,\n      height: 0\n    }\n  },\n  backButton: {\n    position: 'absolute',\n    top: height * 0.025,\n    left: width * 0.04,\n    zIndex: 10\n  },\n  backBox: {\n    width: 36,\n    height: 36,\n    borderRadius: 8,\n    backgroundColor: '#3a2172',\n    borderWidth: 2,\n    borderColor: '#ff2e7e',\n    alignItems: 'center',\n    justifyContent: 'center',\n    shadowColor: '#ff2e7e',\n    shadowOpacity: 0.3,\n    shadowRadius: 6,\n    shadowOffset: {\n      width: 0,\n      height: 0\n    }\n  },\n  backText: {\n    color: '#ff2e7e',\n    fontFamily: pixelFont,\n    fontSize: Math.min(width * 0.06, 22),\n    marginLeft: 2,\n    marginTop: -2\n  },\n  gameOverOverlay: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    backgroundColor: 'rgba(0, 0, 0, 0.85)',\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderRadius: getResponsiveDimension(16)\n  },\n  gameOverBox: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 6,\n    borderColor: '#00fff7',\n    borderRadius: 20,\n    backgroundColor: '#0a0a23',\n    padding: SPACING.xl,\n    width: '80%',\n    shadowColor: '#00fff7',\n    shadowOpacity: 0.5,\n    shadowRadius: 20,\n    shadowOffset: {\n      width: 0,\n      height: 0\n    }\n  },\n  gameOverText: {\n    color: '#ff2e7e',\n    fontSize: scaleFont(36),\n    fontFamily: pixelFont,\n    letterSpacing: 2,\n    marginVertical: 2\n  }\n});","map":{"version":3,"names":["React","useEffect","useRef","useState","View","Text","StyleSheet","TouchableOpacity","SafeAreaView","Alert","Animated","Modal","auth","db","doc","getDoc","setDoc","increment","updateDoc","screenWidth","width","screenHeight","height","wp","hp","SPACING","FONT_SIZES","scaleDimension","scaleFont","getResponsiveDimension","checkAndUpdateMissions","GAME_SCORES","getExpForLevel","SPECIAL_AVATARS","jsxDEV","_jsxDEV","Fragment","_Fragment","pixelFont","BOARD_SIZE","BOARD_MARGIN","MAX_BOARD_SIZE","Math","min","CELL_SIZE","floor","BOARD_PIXEL_SIZE","INITIAL_SPEED","SPEED_INCREMENT","INIT_SNAKE","x","y","INIT_DIRECTION","pixelStroke","textShadowOffset","textShadowColor","textShadowRadius","getRandomFood","snake","food","random","some","seg","OPPOSITE_DIRECTIONS","up","down","left","right","changeAvatarWithAnimation","newAvatar","sequence","timing","fadeAnim","toValue","duration","useNativeDriver","start","setAvatar","addSnakeWinExp","_addSnakeWinExp","apply","arguments","_asyncToGenerator","currentUser","userRef","uid","userDoc","exp","level","exists","data","newLevel","expMax","updates","special","find","a","photoURL","avatarSpecial","image","merge","statsRef","statsDoc","prev","victorias","derrotas","missionReward","SnakeGameScreen","_ref","_this","navigation","_useState","concat","_useState2","_slicedToArray","setSnake","_useState3","_useState4","direction","setDirection","_useState5","_useState6","setFood","_useState7","_useState8","score","setScore","_useState9","_useState0","gameOver","setGameOver","_useState1","_useState10","isPaused","setIsPaused","_useState11","_useState12","highScore","setHighScore","_useState13","_useState14","lastScore","setLastScore","_useState15","_useState16","totalGames","setTotalGames","_useState17","_useState18","totalPixels","setTotalPixels","_useState19","_useState20","foodsEaten","setFoodsEaten","gameLoopRef","lastDirectionRef","pulseAnim","Value","current","shakeAnim","resetGame","setValue","updateStatsInFirestore","_ref2","userDocRef","bestScore","newStats","max","e","console","error","_x","handleGameOver","alert","text","onPress","moveSnake","prevSnake","head","_objectSpread","currentDirection","selfCollision","segment","newSnake","_toConsumableArray","pop","handleKeyPress","key","toLowerCase","newDirection","window","addEventListener","removeEventListener","speed","setInterval","clearInterval","pulse","loop","stopAnimation","renderBoard","Array","fill","map","_","style","styles","row","children","isSnake","isHead","isFood","snakeIndex","findIndex","cell","snakeHead","snakeBody","scale","fileName","_jsxFileName","lineNumber","columnNumber","scaleTop","snakeEye","top","transform","position","backgroundColor","borderRadius","zIndex","borderTopLeftRadius","borderTopRightRadius","rotate","handleDirectionPress","handleBack","goBack","container","backButton","backBox","backText","cornerDotTL","cornerDotTR","cornerDotBL","cornerDotBR","scanlinesBg","from","length","i","scanline","header","title","scoreContainer","boardContainer","boardBorder","board","gameOverOverlay","opacity","translateX","gameOverBox","gameOverText","controls","controlRow","controlButton","glowBtn","controlText","pauseButton","alignItems","marginTop","marginBottom","restartButton","restartButtonText","create","flex","justifyContent","padding","absoluteFillObject","flexDirection","bottom","lg","fontSize","fontFamily","color","sm","letterSpacing","borderWidth","borderColor","md","xs","marginVertical","xl","shadowColor","shadowOpacity","shadowRadius","shadowOffset","overflow","margin","paddingHorizontal","paddingVertical","marginLeft"],"sources":["C:/Users/Administrator/Documents/Tricade/src/views/SnakeGameScreen.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, SafeAreaView, Alert, Animated, Modal } from 'react-native';\nimport { auth, db } from '../firebaseConfig';\nimport { doc, getDoc, setDoc, increment, updateDoc } from 'firebase/firestore';\nimport {\n  screenWidth as width,\n  screenHeight as height,\n  wp,\n  hp,\n  SPACING,\n  FONT_SIZES,\n  scaleDimension,\n  scaleFont,\n  getResponsiveDimension\n} from '../utils/dimensions';\nimport { checkAndUpdateMissions } from '../utils/missions';\nimport { GAME_SCORES, getExpForLevel, SPECIAL_AVATARS } from '../utils/scoreConfig';\n\nconst pixelFont = 'PressStart2P_400Regular';\nconst BOARD_SIZE = 20;\nconst BOARD_MARGIN = scaleDimension(20);\nconst MAX_BOARD_SIZE = Math.min(wp(90), hp(70)) - BOARD_MARGIN * 2;\nconst CELL_SIZE = Math.floor(MAX_BOARD_SIZE / BOARD_SIZE);\nconst BOARD_PIXEL_SIZE = CELL_SIZE * BOARD_SIZE;\nconst INITIAL_SPEED = 100;\nconst SPEED_INCREMENT = 3;\nconst INIT_SNAKE = [\n  { x: 10, y: 10 },\n  { x: 9, y: 10 },\n  { x: 8, y: 10 },\n];\nconst INIT_DIRECTION = 'right';\n\nconst pixelStroke = [\n  { textShadowOffset: { width: -4, height: 0 }, textShadowColor: '#000', textShadowRadius: 0 },\n  { textShadowOffset: { width: 4, height: 0 }, textShadowColor: '#000', textShadowRadius: 0 },\n  { textShadowOffset: { width: 0, height: -4 }, textShadowColor: '#000', textShadowRadius: 0 },\n  { textShadowOffset: { width: 0, height: 4 }, textShadowColor: '#000', textShadowRadius: 0 },\n  { textShadowOffset: { width: -4, height: -4 }, textShadowColor: '#000', textShadowRadius: 0 },\n  { textShadowOffset: { width: 4, height: -4 }, textShadowColor: '#000', textShadowRadius: 0 },\n  { textShadowOffset: { width: -4, height: 4 }, textShadowColor: '#000', textShadowRadius: 0 },\n  { textShadowOffset: { width: 4, height: 4 }, textShadowColor: '#000', textShadowRadius: 0 },\n];\n\nfunction getRandomFood(snake) {\n  let food;\n  do {\n    food = {\n      x: Math.floor(Math.random() * (BOARD_SIZE - 2)) + 1,\n      y: Math.floor(Math.random() * (BOARD_SIZE - 2)) + 1,\n    };\n  } while (snake.some(seg => seg.x === food.x && seg.y === food.y));\n  return food;\n}\n\nconst OPPOSITE_DIRECTIONS = {\n  up: 'down',\n  down: 'up',\n  left: 'right',\n  right: 'left',\n};\n\n// Función para cambiar el avatar con animación\nconst changeAvatarWithAnimation = (newAvatar) => {\n  Animated.sequence([\n    Animated.timing(fadeAnim, {\n      toValue: 0,\n      duration: 500,\n      useNativeDriver: true,\n    }),\n    Animated.timing(fadeAnim, {\n      toValue: 1,\n      duration: 500,\n      useNativeDriver: true,\n    }),\n  ]).start();\n  setAvatar(newAvatar);\n};\n\n// Sumar experiencia y nivel al terminar una partida de Snake\nasync function addSnakeWinExp() {\n  if (!auth.currentUser) return;\n  const userRef = doc(db, 'users', auth.currentUser.uid);\n  const userDoc = await getDoc(userRef);\n  let exp = 0, level = 0;\n  if (userDoc.exists()) {\n    exp = userDoc.data().exp || 0;\n    level = userDoc.data().level || 0;\n  }\n  exp += GAME_SCORES.snake;\n  let newLevel = level;\n  let expMax = getExpForLevel(newLevel + 1);\n  // Subir solo un nivel por victoria\n  if (exp >= expMax) {\n    exp -= expMax;\n    newLevel += 1;\n  }\n  let updates = { exp, level: newLevel };\n  const special = SPECIAL_AVATARS.find(a => a.level === newLevel);\n  if (special) {\n    updates.photoURL = null;\n    updates.avatarSpecial = special.image; // Store only the filename string\n  }\n  await setDoc(userRef, updates, { merge: true });\n\n  // Actualizar estadísticas y trofeos\n  const statsRef = doc(db, 'users', auth.currentUser.uid, 'snakeStats', 'stats');\n  const statsDoc = await getDoc(statsRef);\n  let prev = { victorias: 0, derrotas: 0 };\n  if (statsDoc.exists()) {\n    prev = statsDoc.data();\n  }\n  await setDoc(statsRef, {\n    victorias: prev.victorias + 1,\n    derrotas: prev.derrotas\n  }, { merge: true });\n\n  // Verificar misiones\n  const missionReward = await checkAndUpdateMissions(\n    auth.currentUser.uid,\n    'SNAKE',\n    {\n      victorias: prev.victorias + 1,\n      derrotas: prev.derrotas\n    }\n  );\n\n  // Si hay recompensa por misiones, sumarla al nivel\n  if (missionReward > 0) {\n    await updateDoc(userRef, { level: increment(missionReward) });\n  }\n}\n\nexport default function SnakeGameScreen({ navigation }) {\n  const [snake, setSnake] = useState([...INIT_SNAKE]);\n  const [direction, setDirection] = useState(INIT_DIRECTION);\n  const [food, setFood] = useState(getRandomFood(INIT_SNAKE));\n  const [score, setScore] = useState(0);\n  const [gameOver, setGameOver] = useState(false);\n  const [isPaused, setIsPaused] = useState(false);\n  const [highScore, setHighScore] = useState(0);\n  const [lastScore, setLastScore] = useState(0);\n  const [totalGames, setTotalGames] = useState(0);\n  const [totalPixels, setTotalPixels] = useState(0);\n  const [foodsEaten, setFoodsEaten] = useState(0);\n  const gameLoopRef = useRef(null);\n  const lastDirectionRef = useRef(INIT_DIRECTION);\n  const pulseAnim = useRef(new Animated.Value(1)).current;\n  const fadeAnim = useRef(new Animated.Value(1)).current;\n  const shakeAnim = useRef(new Animated.Value(0)).current;\n\n  const resetGame = () => {\n    setSnake([...INIT_SNAKE]);\n    setDirection(INIT_DIRECTION);\n    lastDirectionRef.current = INIT_DIRECTION;\n    setFood(getRandomFood(INIT_SNAKE));\n    setScore(0);\n    setFoodsEaten(0);\n    setGameOver(false);\n    setIsPaused(false);\n    fadeAnim.setValue(1);\n    shakeAnim.setValue(0);\n  };\n\n  const updateStatsInFirestore = async (score) => {\n    try {\n      if (!auth.currentUser) return;\n      const statsRef = doc(db, 'users', auth.currentUser.uid, 'snakeStats', 'stats');\n      const userDocRef = doc(db, 'users', auth.currentUser.uid);\n      const statsDoc = await getDoc(statsRef);\n      let prev = { bestScore: 0, lastScore: 0, totalGames: 0, totalPixels: 0 };\n      if (statsDoc.exists()) {\n        prev = statsDoc.data();\n      }\n      const newStats = {\n        bestScore: Math.max(prev.bestScore || 0, score),\n        lastScore: score,\n        totalGames: (prev.totalGames || 0) + 1,\n        totalPixels: (prev.totalPixels || 0) + score,\n      };\n      await setDoc(statsRef, newStats, { merge: true });\n\n      // Verificar misiones\n      const missionReward = await checkAndUpdateMissions(\n        auth.currentUser.uid,\n        'SNAKE',\n        newStats\n      );\n\n      // Si hay recompensa por misiones, sumarla al nivel\n      if (missionReward > 0) {\n        await updateDoc(userDocRef, { level: increment(missionReward) });\n      }\n\n      // Sumar experiencia y nivel al terminar una partida de Snake\n      await addSnakeWinExp();\n    } catch (e) {\n      console.error('Error updating snake stats:', e);\n    }\n  };\n\n  const handleGameOver = () => {\n    setGameOver(true);\n    updateStatsInFirestore(score);\n    \n    // Game over animation\n    Animated.sequence([\n      Animated.timing(fadeAnim, {\n        toValue: 1,\n        duration: 500,\n        useNativeDriver: true,\n      }),\n      Animated.timing(shakeAnim, {\n        toValue: 10,\n        duration: 100,\n        useNativeDriver: true,\n      }),\n      Animated.timing(shakeAnim, {\n        toValue: -10,\n        duration: 100,\n        useNativeDriver: true,\n      }),\n      Animated.timing(shakeAnim, {\n        toValue: 0,\n        duration: 100,\n        useNativeDriver: true,\n      })\n    ]).start();\n\n    Alert.alert(\n      'Game Over',\n      `Comidas: ${foodsEaten}\\nPuntos: ${score}`,\n      [{ text: 'Jugar de nuevo', onPress: resetGame }]\n    );\n  };\n\n  const moveSnake = () => {\n    if (gameOver || isPaused) return;\n\n    setSnake(prevSnake => {\n      const head = { ...prevSnake[0] };\n      const currentDirection = lastDirectionRef.current;\n\n      switch (currentDirection) {\n        case 'up': head.y--; break;\n        case 'down': head.y++; break;\n        case 'left': head.x--; break;\n        case 'right': head.x++; break;\n      }\n\n      if (head.x < 0 || head.x >= BOARD_SIZE || head.y < 0 || head.y >= BOARD_SIZE) {\n        handleGameOver();\n        return prevSnake;\n      }\n\n      const selfCollision = prevSnake.some((segment) => {\n        return segment.x === head.x && segment.y === head.y;\n      });\n\n      if (selfCollision) {\n        handleGameOver();\n        return prevSnake;\n      }\n\n      const newSnake = [head, ...prevSnake];\n\n      if (head.x === food.x && head.y === food.y) {\n        setScore(prev => prev + 2);\n        setFoodsEaten(prev => prev + 1);\n        setFood(getRandomFood(newSnake));\n      } else {\n        newSnake.pop();\n      }\n\n      return newSnake;\n    });\n  };\n\n  useEffect(() => {\n    const handleKeyPress = (e) => {\n      if (gameOver) return;\n\n      const key = e.key.toLowerCase();\n      let newDirection = null;\n\n      switch (key) {\n        case 'arrowup':\n        case 'w':\n          newDirection = 'up';\n          break;\n        case 'arrowdown':\n        case 's':\n          newDirection = 'down';\n          break;\n        case 'arrowleft':\n        case 'a':\n          newDirection = 'left';\n          break;\n        case 'arrowright':\n        case 'd':\n          newDirection = 'right';\n          break;\n        case ' ':\n          setIsPaused(prev => !prev);\n          return;\n      }\n\n      if (newDirection && OPPOSITE_DIRECTIONS[newDirection] !== lastDirectionRef.current) {\n        lastDirectionRef.current = newDirection;\n        setDirection(newDirection);\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyPress);\n    return () => window.removeEventListener('keydown', handleKeyPress);\n  }, [gameOver]);\n\n  useEffect(() => {\n    const speed = Math.max(INITIAL_SPEED - (score * SPEED_INCREMENT), 120);\n    gameLoopRef.current = setInterval(moveSnake, speed);\n    return () => clearInterval(gameLoopRef.current);\n  }, [score, gameOver, isPaused]);\n\n  useEffect(() => {\n    const pulse = Animated.sequence([\n      Animated.timing(pulseAnim, {\n        toValue: 1.08,\n        duration: 1000,\n        useNativeDriver: true,\n      }),\n      Animated.timing(pulseAnim, {\n        toValue: 1,\n        duration: 1000,\n        useNativeDriver: true,\n      })\n    ]);\n\n    Animated.loop(pulse).start();\n\n    return () => {\n      pulseAnim.stopAnimation();\n    };\n  }, []);\n\n  const renderBoard = () => {\n    return Array(BOARD_SIZE).fill().map((_, y) => (\n      <View key={`row-${y}`} style={styles.row}>\n        {Array(BOARD_SIZE).fill().map((_, x) => {\n          const isSnake = snake.some(segment => segment.x === x && segment.y === y);\n          const isHead = snake[0].x === x && snake[0].y === y;\n          const isFood = food.x === x && food.y === y;\n          const snakeIndex = snake.findIndex(segment => segment.x === x && segment.y === y);\n\n          return (\n            <View\n              key={`cell-${x}-${y}`}\n              style={[\n                styles.cell,\n                isSnake && (isHead ? styles.snakeHead : styles.snakeBody),\n              ]}\n            >\n              {isSnake && !isHead && (\n                <View style={styles.scale} />\n              )}\n              {isHead && (\n                <>\n                  <View style={styles.scaleTop} />\n                  <View style={[\n                    styles.snakeEye,\n                    {\n                      top: CELL_SIZE * 0.25,\n                      left: CELL_SIZE * 0.25,\n                    }\n                  ]} />\n                  <View style={[\n                    styles.snakeEye,\n                    {\n                      top: CELL_SIZE * 0.25,\n                      right: CELL_SIZE * 0.25,\n                    }\n                  ]} />\n                </>\n              )}\n              {isFood && (\n                <Animated.View style={[\n                  styles.food,\n                  { transform: [{ scale: pulseAnim }] }\n                ]}>\n                  {/* Stem */}\n                  <View style={{\n                    position: 'absolute',\n                    width: CELL_SIZE * 0.14,\n                    height: CELL_SIZE * 0.18,\n                    backgroundColor: '#8B4513',\n                    top: -CELL_SIZE * 0.09,\n                    left: (CELL_SIZE * 0.8) / 2 - (CELL_SIZE * 0.07),\n                    borderRadius: CELL_SIZE * 0.07,\n                    zIndex: 2,\n                  }} />\n                  {/* Leaf */}\n                  <View style={{\n                    position: 'absolute',\n                    width: CELL_SIZE * 0.18,\n                    height: CELL_SIZE * 0.12,\n                    backgroundColor: '#228B22',\n                    top: -CELL_SIZE * 0.11,\n                    left: (CELL_SIZE * 0.8) / 2,\n                    borderTopLeftRadius: CELL_SIZE * 0.09,\n                    borderTopRightRadius: CELL_SIZE * 0.09,\n                    transform: [{ rotate: '-25deg' }],\n                    zIndex: 1,\n                  }} />\n                </Animated.View>\n              )}\n            </View>\n          );\n        })}\n      </View>\n    ));\n  };\n\n  const handleDirectionPress = (newDirection) => {\n    if (gameOver || isPaused) return;\n    if (OPPOSITE_DIRECTIONS[newDirection] !== lastDirectionRef.current) {\n      lastDirectionRef.current = newDirection;\n      setDirection(newDirection);\n    }\n  };\n\n  const handleBack = () => {\n    if (gameLoopRef.current) {\n      clearInterval(gameLoopRef.current);\n    }\n    navigation.goBack();\n  };\n\n  return (\n    <SafeAreaView style={styles.container}>\n      {/* Back Button */}\n      <TouchableOpacity style={styles.backButton} onPress={handleBack}>\n        <View style={styles.backBox}>\n          <Text style={styles.backText}>{'<'}</Text>\n        </View>\n      </TouchableOpacity>\n\n      {/* Corner dots */}\n      <View style={styles.cornerDotTL} />\n      <View style={styles.cornerDotTR} />\n      <View style={styles.cornerDotBL} />\n      <View style={styles.cornerDotBR} />\n\n      {/* Scanlines effect */}\n      <View style={styles.scanlinesBg}>\n        {Array.from({ length: 20 }).map((_, i) => (\n          <View key={i} style={styles.scanline} />\n        ))}\n      </View>\n\n      <View style={styles.header}>\n        <Text style={[styles.title, ...pixelStroke]}>SNAKE</Text>\n        <View style={styles.scoreContainer}>\n          <Text style={styles.score}>Score: {score}</Text>\n          <Text style={styles.highScore}>High Score: {highScore}</Text>\n        </View>\n      </View>\n\n      <View style={styles.boardContainer}>\n        <View style={styles.boardBorder}>\n          <View style={styles.board}>\n            {renderBoard()}\n            {gameOver && (\n              <Animated.View \n                style={[\n                  styles.gameOverOverlay,\n                  {\n                    opacity: fadeAnim,\n                    transform: [{ translateX: shakeAnim }]\n                  }\n                ]}\n              >\n                <View style={styles.gameOverBox}>\n                  <Text style={[styles.gameOverText, ...pixelStroke]}>GAME</Text>\n                  <Text style={[styles.gameOverText, ...pixelStroke]}>OVER</Text>\n                </View>\n              </Animated.View>\n            )}\n          </View>\n        </View>\n      </View>\n\n      <View style={styles.controls}>\n        <View style={styles.controlRow}>\n          <TouchableOpacity\n            style={[styles.controlButton, styles.glowBtn]}\n            onPress={() => handleDirectionPress('up')}\n          >\n            <Text style={styles.controlText}>↑</Text>\n          </TouchableOpacity>\n        </View>\n        <View style={styles.controlRow}>\n          <TouchableOpacity\n            style={[styles.controlButton, styles.glowBtn]}\n            onPress={() => handleDirectionPress('left')}\n          >\n            <Text style={styles.controlText}>←</Text>\n          </TouchableOpacity>\n          <TouchableOpacity\n            style={[styles.controlButton, styles.pauseButton, styles.glowBtn]}\n            onPress={() => setIsPaused(prev => !prev)}\n          >\n            <Text style={styles.controlText}>{isPaused ? '▶' : '⏸'}</Text>\n          </TouchableOpacity>\n          <TouchableOpacity\n            style={[styles.controlButton, styles.glowBtn]}\n            onPress={() => handleDirectionPress('right')}\n          >\n            <Text style={styles.controlText}>→</Text>\n          </TouchableOpacity>\n        </View>\n        <View style={styles.controlRow}>\n          <TouchableOpacity\n            style={[styles.controlButton, styles.glowBtn]}\n            onPress={() => handleDirectionPress('down')}\n          >\n            <Text style={styles.controlText}>↓</Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n\n      <View style={{ alignItems: 'center', marginTop: 10, marginBottom: 20 }}>\n        <TouchableOpacity\n          style={[styles.restartButton, styles.glowBtn, { marginTop: 0 }]}\n          onPress={resetGame}\n        >\n          <Text style={styles.restartButtonText}>\n            {gameOver ? 'Play Again' : 'Restart'}\n          </Text>\n        </TouchableOpacity>\n      </View>\n    </SafeAreaView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#0a0a23',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    padding: scaleDimension(24),\n  },\n  scanlinesBg: {\n    ...StyleSheet.absoluteFillObject,\n    zIndex: 0,\n    flexDirection: 'column',\n    justifyContent: 'space-between',\n    opacity: 0.13,\n  },\n  scanline: {\n    width: '100%',\n    height: 3,\n    backgroundColor: '#fff',\n    marginBottom: 7,\n    opacity: 0.18,\n  },\n  cornerDotTL: {\n    position: 'absolute',\n    top: hp(2.5),\n    left: wp(4),\n    width: scaleDimension(12),\n    height: scaleDimension(12),\n    backgroundColor: '#ff2e7e',\n    borderRadius: scaleDimension(6),\n    zIndex: 2,\n  },\n  cornerDotTR: {\n    position: 'absolute',\n    top: hp(2.5),\n    right: wp(4),\n    width: scaleDimension(12),\n    height: scaleDimension(12),\n    backgroundColor: '#00fff7',\n    borderRadius: scaleDimension(6),\n    zIndex: 2,\n  },\n  cornerDotBL: {\n    position: 'absolute',\n    bottom: hp(2.5),\n    left: wp(4),\n    width: scaleDimension(12),\n    height: scaleDimension(12),\n    backgroundColor: '#00fff7',\n    borderRadius: scaleDimension(6),\n    zIndex: 2,\n  },\n  cornerDotBR: {\n    position: 'absolute',\n    bottom: hp(2.5),\n    right: wp(4),\n    width: scaleDimension(12),\n    height: scaleDimension(12),\n    backgroundColor: '#ff2e7e',\n    borderRadius: scaleDimension(6),\n    zIndex: 2,\n  },\n  header: {\n    alignItems: 'center',\n    marginBottom: SPACING.lg,\n    zIndex: 1,\n  },\n  title: {\n    fontSize: scaleFont(38),\n    fontFamily: pixelFont,\n    color: '#00fff7',\n    marginBottom: SPACING.sm,\n    letterSpacing: 2,\n  },\n  scoreContainer: {\n    backgroundColor: '#23233a',\n    borderRadius: getResponsiveDimension(14),\n    borderWidth: scaleDimension(5),\n    borderColor: '#00fff7',\n    padding: SPACING.md,\n    alignItems: 'center',\n  },\n  score: {\n    fontSize: scaleFont(18),\n    fontFamily: pixelFont,\n    color: '#ff2e7e',\n    marginBottom: SPACING.xs,\n  },\n  highScore: {\n    fontSize: scaleFont(14),\n    fontFamily: pixelFont,\n    color: '#00fff7',\n  },\n  boardContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginVertical: SPACING.xl,\n    zIndex: 1,\n  },\n  boardBorder: {\n    borderWidth: scaleDimension(5),\n    borderColor: '#00fff7',\n    borderRadius: getResponsiveDimension(22),\n    padding: SPACING.sm,\n    backgroundColor: '#23233a',\n    shadowColor: '#00fff7',\n    shadowOpacity: 0.3,\n    shadowRadius: 12,\n    shadowOffset: { width: 0, height: 0 },\n  },\n  board: {\n    width: BOARD_PIXEL_SIZE,\n    height: BOARD_PIXEL_SIZE,\n    backgroundColor: '#101926',\n    borderWidth: scaleDimension(4),\n    borderColor: '#ff2e7e',\n    borderRadius: getResponsiveDimension(16),\n  },\n  row: {\n    flexDirection: 'row',\n  },\n  cell: {\n    width: CELL_SIZE,\n    height: CELL_SIZE,\n    borderWidth: 0.5,\n    borderColor: '#16213e',\n    position: 'relative',\n  },\n  snakeHead: {\n    backgroundColor: '#ff2e7e',\n    borderRadius: CELL_SIZE / 3,\n    shadowColor: '#ff2e7e',\n    shadowOpacity: 0.8,\n    shadowRadius: 8,\n    shadowOffset: { width: 0, height: 0 },\n    borderWidth: 1,\n    borderColor: '#ff69b4',\n    position: 'relative',\n    overflow: 'hidden',\n    width: CELL_SIZE,\n    height: CELL_SIZE,\n  },\n  snakeBody: {\n    backgroundColor: '#00fff7',\n    borderRadius: CELL_SIZE / 4,\n    shadowColor: '#00fff7',\n    shadowOpacity: 0.6,\n    shadowRadius: 6,\n    shadowOffset: { width: 0, height: 0 },\n    borderWidth: 1,\n    borderColor: '#7fffd4',\n    position: 'relative',\n    overflow: 'hidden',\n    width: CELL_SIZE,\n    height: CELL_SIZE,\n  },\n  scale: {\n    position: 'absolute',\n    width: CELL_SIZE * 0.7,\n    height: CELL_SIZE * 0.7,\n    backgroundColor: 'rgba(255, 255, 255, 0.15)',\n    borderRadius: CELL_SIZE * 0.35,\n    top: CELL_SIZE * 0.15,\n    left: CELL_SIZE * 0.15,\n    borderWidth: 1,\n    borderColor: 'rgba(255, 255, 255, 0.3)',\n  },\n  scaleTop: {\n    position: 'absolute',\n    width: CELL_SIZE * 0.7,\n    height: CELL_SIZE * 0.7,\n    backgroundColor: 'rgba(255, 255, 255, 0.2)',\n    borderRadius: CELL_SIZE * 0.35,\n    top: CELL_SIZE * 0.15,\n    left: CELL_SIZE * 0.15,\n    borderWidth: 1,\n    borderColor: 'rgba(255, 255, 255, 0.4)',\n  },\n  snakeEye: {\n    position: 'absolute',\n    width: CELL_SIZE * 0.2,\n    height: CELL_SIZE * 0.2,\n    backgroundColor: '#000',\n    borderRadius: CELL_SIZE * 0.1,\n    borderWidth: 1,\n    borderColor: '#fff',\n  },\n  food: {\n    width: CELL_SIZE * 0.8,\n    height: CELL_SIZE * 0.8,\n    backgroundColor: '#ff0000',\n    borderRadius: (CELL_SIZE * 0.8) / 2,\n    shadowColor: '#ff0000',\n    shadowOpacity: 0.8,\n    shadowRadius: 8,\n    shadowOffset: { width: 0, height: 0 },\n    position: 'absolute',\n    left: CELL_SIZE * 0.1,\n    top: CELL_SIZE * 0.1,\n    overflow: 'visible',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  controls: {\n    marginTop: SPACING.xl,\n    alignItems: 'center',\n    zIndex: 1,\n  },\n  controlRow: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    marginVertical: SPACING.xs,\n  },\n  controlButton: {\n    width: getResponsiveDimension(60),\n    height: getResponsiveDimension(60),\n    backgroundColor: '#23233a',\n    borderRadius: getResponsiveDimension(8),\n    justifyContent: 'center',\n    alignItems: 'center',\n    margin: SPACING.xs,\n    borderWidth: scaleDimension(2),\n    borderColor: '#00fff7',\n  },\n  pauseButton: {\n    backgroundColor: '#16213e',\n    borderColor: '#ff2e7e',\n  },\n  controlText: {\n    fontSize: scaleFont(24),\n    fontFamily: pixelFont,\n    color: '#fff',\n  },\n  restartButton: {\n    backgroundColor: '#23233a',\n    paddingHorizontal: 30,\n    paddingVertical: 15,\n    borderRadius: 25,\n    marginTop: 0,\n    borderWidth: 2,\n    borderColor: '#ff2e7e',\n    zIndex: 1,\n  },\n  restartButtonText: {\n    color: '#ff2e7e',\n    fontSize: scaleFont(18),\n    fontFamily: pixelFont,\n  },\n  glowBtn: {\n    shadowColor: '#00fff7',\n    shadowOpacity: 0.3,\n    shadowRadius: 12,\n    shadowOffset: { width: 0, height: 0 },\n  },\n  backButton: {\n    position: 'absolute',\n    top: height * 0.025,\n    left: width * 0.04,\n    zIndex: 10,\n  },\n  backBox: {\n    width: 36,\n    height: 36,\n    borderRadius: 8,\n    backgroundColor: '#3a2172',\n    borderWidth: 2,\n    borderColor: '#ff2e7e',\n    alignItems: 'center',\n    justifyContent: 'center',\n    shadowColor: '#ff2e7e',\n    shadowOpacity: 0.3,\n    shadowRadius: 6,\n    shadowOffset: { width: 0, height: 0 },\n  },\n  backText: {\n    color: '#ff2e7e',\n    fontFamily: pixelFont,\n    fontSize: Math.min(width * 0.06, 22),\n    marginLeft: 2,\n    marginTop: -2,\n  },\n  gameOverOverlay: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    backgroundColor: 'rgba(0, 0, 0, 0.85)',\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderRadius: getResponsiveDimension(16),\n  },\n  gameOverBox: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 6,\n    borderColor: '#00fff7',\n    borderRadius: 20,\n    backgroundColor: '#0a0a23',\n    padding: SPACING.xl,\n    width: '80%',\n    shadowColor: '#00fff7',\n    shadowOpacity: 0.5,\n    shadowRadius: 20,\n    shadowOffset: { width: 0, height: 0 },\n  },\n  gameOverText: {\n    color: '#ff2e7e',\n    fontSize: scaleFont(36),\n    fontFamily: pixelFont,\n    letterSpacing: 2,\n    marginVertical: 2,\n  },\n}); "],"mappings":";;;;;;;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAAC,OAAAC,IAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,UAAA;AAAA,OAAAC,gBAAA;AAAA,OAAAC,YAAA;AAAA,OAAAC,KAAA;AAAA,OAAAC,QAAA;AAAA,OAAAC,KAAA;AAE3D,SAASC,IAAI,EAAEC,EAAE,QAAQ,mBAAmB;AAC5C,SAASC,GAAG,EAAEC,MAAM,EAAEC,MAAM,EAAEC,SAAS,EAAEC,SAAS,QAAQ,oBAAoB;AAC9E,SACEC,WAAW,IAAIC,KAAK,EACpBC,YAAY,IAAIC,MAAM,EACtBC,EAAE,EACFC,EAAE,EACFC,OAAO,EACPC,UAAU,EACVC,cAAc,EACdC,SAAS,EACTC,sBAAsB,QACjB,qBAAqB;AAC5B,SAASC,sBAAsB,QAAQ,mBAAmB;AAC1D,SAASC,WAAW,EAAEC,cAAc,EAAEC,eAAe,QAAQ,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEpF,IAAMC,SAAS,GAAG,yBAAyB;AAC3C,IAAMC,UAAU,GAAG,EAAE;AACrB,IAAMC,YAAY,GAAGb,cAAc,CAAC,EAAE,CAAC;AACvC,IAAMc,cAAc,GAAGC,IAAI,CAACC,GAAG,CAACpB,EAAE,CAAC,EAAE,CAAC,EAAEC,EAAE,CAAC,EAAE,CAAC,CAAC,GAAGgB,YAAY,GAAG,CAAC;AAClE,IAAMI,SAAS,GAAGF,IAAI,CAACG,KAAK,CAACJ,cAAc,GAAGF,UAAU,CAAC;AACzD,IAAMO,gBAAgB,GAAGF,SAAS,GAAGL,UAAU;AAC/C,IAAMQ,aAAa,GAAG,GAAG;AACzB,IAAMC,eAAe,GAAG,CAAC;AACzB,IAAMC,UAAU,GAAG,CACjB;EAAEC,CAAC,EAAE,EAAE;EAAEC,CAAC,EAAE;AAAG,CAAC,EAChB;EAAED,CAAC,EAAE,CAAC;EAAEC,CAAC,EAAE;AAAG,CAAC,EACf;EAAED,CAAC,EAAE,CAAC;EAAEC,CAAC,EAAE;AAAG,CAAC,CAChB;AACD,IAAMC,cAAc,GAAG,OAAO;AAE9B,IAAMC,WAAW,GAAG,CAClB;EAAEC,gBAAgB,EAAE;IAAElC,KAAK,EAAE,CAAC,CAAC;IAAEE,MAAM,EAAE;EAAE,CAAC;EAAEiC,eAAe,EAAE,MAAM;EAAEC,gBAAgB,EAAE;AAAE,CAAC,EAC5F;EAAEF,gBAAgB,EAAE;IAAElC,KAAK,EAAE,CAAC;IAAEE,MAAM,EAAE;EAAE,CAAC;EAAEiC,eAAe,EAAE,MAAM;EAAEC,gBAAgB,EAAE;AAAE,CAAC,EAC3F;EAAEF,gBAAgB,EAAE;IAAElC,KAAK,EAAE,CAAC;IAAEE,MAAM,EAAE,CAAC;EAAE,CAAC;EAAEiC,eAAe,EAAE,MAAM;EAAEC,gBAAgB,EAAE;AAAE,CAAC,EAC5F;EAAEF,gBAAgB,EAAE;IAAElC,KAAK,EAAE,CAAC;IAAEE,MAAM,EAAE;EAAE,CAAC;EAAEiC,eAAe,EAAE,MAAM;EAAEC,gBAAgB,EAAE;AAAE,CAAC,EAC3F;EAAEF,gBAAgB,EAAE;IAAElC,KAAK,EAAE,CAAC,CAAC;IAAEE,MAAM,EAAE,CAAC;EAAE,CAAC;EAAEiC,eAAe,EAAE,MAAM;EAAEC,gBAAgB,EAAE;AAAE,CAAC,EAC7F;EAAEF,gBAAgB,EAAE;IAAElC,KAAK,EAAE,CAAC;IAAEE,MAAM,EAAE,CAAC;EAAE,CAAC;EAAEiC,eAAe,EAAE,MAAM;EAAEC,gBAAgB,EAAE;AAAE,CAAC,EAC5F;EAAEF,gBAAgB,EAAE;IAAElC,KAAK,EAAE,CAAC,CAAC;IAAEE,MAAM,EAAE;EAAE,CAAC;EAAEiC,eAAe,EAAE,MAAM;EAAEC,gBAAgB,EAAE;AAAE,CAAC,EAC5F;EAAEF,gBAAgB,EAAE;IAAElC,KAAK,EAAE,CAAC;IAAEE,MAAM,EAAE;EAAE,CAAC;EAAEiC,eAAe,EAAE,MAAM;EAAEC,gBAAgB,EAAE;AAAE,CAAC,CAC5F;AAED,SAASC,aAAaA,CAACC,KAAK,EAAE;EAC5B,IAAIC,IAAI;EACR,GAAG;IACDA,IAAI,GAAG;MACLT,CAAC,EAAER,IAAI,CAACG,KAAK,CAACH,IAAI,CAACkB,MAAM,CAAC,CAAC,IAAIrB,UAAU,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC;MACnDY,CAAC,EAAET,IAAI,CAACG,KAAK,CAACH,IAAI,CAACkB,MAAM,CAAC,CAAC,IAAIrB,UAAU,GAAG,CAAC,CAAC,CAAC,GAAG;IACpD,CAAC;EACH,CAAC,QAAQmB,KAAK,CAACG,IAAI,CAAC,UAAAC,GAAG;IAAA,OAAIA,GAAG,CAACZ,CAAC,KAAKS,IAAI,CAACT,CAAC,IAAIY,GAAG,CAACX,CAAC,KAAKQ,IAAI,CAACR,CAAC;EAAA,EAAC;EAChE,OAAOQ,IAAI;AACb;AAEA,IAAMI,mBAAmB,GAAG;EAC1BC,EAAE,EAAE,MAAM;EACVC,IAAI,EAAE,IAAI;EACVC,IAAI,EAAE,OAAO;EACbC,KAAK,EAAE;AACT,CAAC;AAGD,IAAMC,yBAAyB,GAAG,SAA5BA,yBAAyBA,CAAIC,SAAS,EAAK;EAC/C3D,QAAQ,CAAC4D,QAAQ,CAAC,CAChB5D,QAAQ,CAAC6D,MAAM,CAACC,QAAQ,EAAE;IACxBC,OAAO,EAAE,CAAC;IACVC,QAAQ,EAAE,GAAG;IACbC,eAAe,EAAE;EACnB,CAAC,CAAC,EACFjE,QAAQ,CAAC6D,MAAM,CAACC,QAAQ,EAAE;IACxBC,OAAO,EAAE,CAAC;IACVC,QAAQ,EAAE,GAAG;IACbC,eAAe,EAAE;EACnB,CAAC,CAAC,CACH,CAAC,CAACC,KAAK,CAAC,CAAC;EACVC,SAAS,CAACR,SAAS,CAAC;AACtB,CAAC;AAAC,SAGaS,cAAcA,CAAA;EAAA,OAAAC,eAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAAA,SAAAF,gBAAA;EAAAA,eAAA,GAAAG,iBAAA,CAA7B,aAAgC;IAC9B,IAAI,CAACtE,IAAI,CAACuE,WAAW,EAAE;IACvB,IAAMC,OAAO,GAAGtE,GAAG,CAACD,EAAE,EAAE,OAAO,EAAED,IAAI,CAACuE,WAAW,CAACE,GAAG,CAAC;IACtD,IAAMC,OAAO,SAASvE,MAAM,CAACqE,OAAO,CAAC;IACrC,IAAIG,GAAG,GAAG,CAAC;MAAEC,KAAK,GAAG,CAAC;IACtB,IAAIF,OAAO,CAACG,MAAM,CAAC,CAAC,EAAE;MACpBF,GAAG,GAAGD,OAAO,CAACI,IAAI,CAAC,CAAC,CAACH,GAAG,IAAI,CAAC;MAC7BC,KAAK,GAAGF,OAAO,CAACI,IAAI,CAAC,CAAC,CAACF,KAAK,IAAI,CAAC;IACnC;IACAD,GAAG,IAAIxD,WAAW,CAAC2B,KAAK;IACxB,IAAIiC,QAAQ,GAAGH,KAAK;IACpB,IAAII,MAAM,GAAG5D,cAAc,CAAC2D,QAAQ,GAAG,CAAC,CAAC;IAEzC,IAAIJ,GAAG,IAAIK,MAAM,EAAE;MACjBL,GAAG,IAAIK,MAAM;MACbD,QAAQ,IAAI,CAAC;IACf;IACA,IAAIE,OAAO,GAAG;MAAEN,GAAG,EAAHA,GAAG;MAAEC,KAAK,EAAEG;IAAS,CAAC;IACtC,IAAMG,OAAO,GAAG7D,eAAe,CAAC8D,IAAI,CAAC,UAAAC,CAAC;MAAA,OAAIA,CAAC,CAACR,KAAK,KAAKG,QAAQ;IAAA,EAAC;IAC/D,IAAIG,OAAO,EAAE;MACXD,OAAO,CAACI,QAAQ,GAAG,IAAI;MACvBJ,OAAO,CAACK,aAAa,GAAGJ,OAAO,CAACK,KAAK;IACvC;IACA,MAAMnF,MAAM,CAACoE,OAAO,EAAES,OAAO,EAAE;MAAEO,KAAK,EAAE;IAAK,CAAC,CAAC;IAG/C,IAAMC,QAAQ,GAAGvF,GAAG,CAACD,EAAE,EAAE,OAAO,EAAED,IAAI,CAACuE,WAAW,CAACE,GAAG,EAAE,YAAY,EAAE,OAAO,CAAC;IAC9E,IAAMiB,QAAQ,SAASvF,MAAM,CAACsF,QAAQ,CAAC;IACvC,IAAIE,IAAI,GAAG;MAAEC,SAAS,EAAE,CAAC;MAAEC,QAAQ,EAAE;IAAE,CAAC;IACxC,IAAIH,QAAQ,CAACb,MAAM,CAAC,CAAC,EAAE;MACrBc,IAAI,GAAGD,QAAQ,CAACZ,IAAI,CAAC,CAAC;IACxB;IACA,MAAM1E,MAAM,CAACqF,QAAQ,EAAE;MACrBG,SAAS,EAAED,IAAI,CAACC,SAAS,GAAG,CAAC;MAC7BC,QAAQ,EAAEF,IAAI,CAACE;IACjB,CAAC,EAAE;MAAEL,KAAK,EAAE;IAAK,CAAC,CAAC;IAGnB,IAAMM,aAAa,SAAS5E,sBAAsB,CAChDlB,IAAI,CAACuE,WAAW,CAACE,GAAG,EACpB,OAAO,EACP;MACEmB,SAAS,EAAED,IAAI,CAACC,SAAS,GAAG,CAAC;MAC7BC,QAAQ,EAAEF,IAAI,CAACE;IACjB,CACF,CAAC;IAGD,IAAIC,aAAa,GAAG,CAAC,EAAE;MACrB,MAAMxF,SAAS,CAACkE,OAAO,EAAE;QAAEI,KAAK,EAAEvE,SAAS,CAACyF,aAAa;MAAE,CAAC,CAAC;IAC/D;EACF,CAAC;EAAA,OAAA3B,eAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAED,eAAe,SAAS0B,eAAeA,CAAAC,IAAA,EAAiB;EAAA,IAAAC,KAAA;EAAA,IAAdC,UAAU,GAAAF,IAAA,CAAVE,UAAU;EAClD,IAAAC,SAAA,GAA0B5G,QAAQ,IAAA6G,MAAA,CAAK/D,UAAU,CAAC,CAAC;IAAAgE,UAAA,GAAAC,cAAA,CAAAH,SAAA;IAA5CrD,KAAK,GAAAuD,UAAA;IAAEE,QAAQ,GAAAF,UAAA;EACtB,IAAAG,UAAA,GAAkCjH,QAAQ,CAACiD,cAAc,CAAC;IAAAiE,UAAA,GAAAH,cAAA,CAAAE,UAAA;IAAnDE,SAAS,GAAAD,UAAA;IAAEE,YAAY,GAAAF,UAAA;EAC9B,IAAAG,UAAA,GAAwBrH,QAAQ,CAACsD,aAAa,CAACR,UAAU,CAAC,CAAC;IAAAwE,UAAA,GAAAP,cAAA,CAAAM,UAAA;IAApD7D,IAAI,GAAA8D,UAAA;IAAEC,OAAO,GAAAD,UAAA;EACpB,IAAAE,UAAA,GAA0BxH,QAAQ,CAAC,CAAC,CAAC;IAAAyH,UAAA,GAAAV,cAAA,CAAAS,UAAA;IAA9BE,KAAK,GAAAD,UAAA;IAAEE,QAAQ,GAAAF,UAAA;EACtB,IAAAG,UAAA,GAAgC5H,QAAQ,CAAC,KAAK,CAAC;IAAA6H,UAAA,GAAAd,cAAA,CAAAa,UAAA;IAAxCE,QAAQ,GAAAD,UAAA;IAAEE,WAAW,GAAAF,UAAA;EAC5B,IAAAG,UAAA,GAAgChI,QAAQ,CAAC,KAAK,CAAC;IAAAiI,WAAA,GAAAlB,cAAA,CAAAiB,UAAA;IAAxCE,QAAQ,GAAAD,WAAA;IAAEE,WAAW,GAAAF,WAAA;EAC5B,IAAAG,WAAA,GAAkCpI,QAAQ,CAAC,CAAC,CAAC;IAAAqI,WAAA,GAAAtB,cAAA,CAAAqB,WAAA;IAAtCE,SAAS,GAAAD,WAAA;IAAEE,YAAY,GAAAF,WAAA;EAC9B,IAAAG,WAAA,GAAkCxI,QAAQ,CAAC,CAAC,CAAC;IAAAyI,WAAA,GAAA1B,cAAA,CAAAyB,WAAA;IAAtCE,SAAS,GAAAD,WAAA;IAAEE,YAAY,GAAAF,WAAA;EAC9B,IAAAG,WAAA,GAAoC5I,QAAQ,CAAC,CAAC,CAAC;IAAA6I,WAAA,GAAA9B,cAAA,CAAA6B,WAAA;IAAxCE,UAAU,GAAAD,WAAA;IAAEE,aAAa,GAAAF,WAAA;EAChC,IAAAG,WAAA,GAAsChJ,QAAQ,CAAC,CAAC,CAAC;IAAAiJ,WAAA,GAAAlC,cAAA,CAAAiC,WAAA;IAA1CE,WAAW,GAAAD,WAAA;IAAEE,cAAc,GAAAF,WAAA;EAClC,IAAAG,WAAA,GAAoCpJ,QAAQ,CAAC,CAAC,CAAC;IAAAqJ,WAAA,GAAAtC,cAAA,CAAAqC,WAAA;IAAxCE,UAAU,GAAAD,WAAA;IAAEE,aAAa,GAAAF,WAAA;EAChC,IAAMG,WAAW,GAAGzJ,MAAM,CAAC,IAAI,CAAC;EAChC,IAAM0J,gBAAgB,GAAG1J,MAAM,CAACkD,cAAc,CAAC;EAC/C,IAAMyG,SAAS,GAAG3J,MAAM,CAAC,IAAIQ,QAAQ,CAACoJ,KAAK,CAAC,CAAC,CAAC,CAAC,CAACC,OAAO;EACvD,IAAMvF,QAAQ,GAAGtE,MAAM,CAAC,IAAIQ,QAAQ,CAACoJ,KAAK,CAAC,CAAC,CAAC,CAAC,CAACC,OAAO;EACtD,IAAMC,SAAS,GAAG9J,MAAM,CAAC,IAAIQ,QAAQ,CAACoJ,KAAK,CAAC,CAAC,CAAC,CAAC,CAACC,OAAO;EAEvD,IAAME,SAAS,GAAG,SAAZA,SAASA,CAAA,EAAS;IACtB9C,QAAQ,IAAAH,MAAA,CAAK/D,UAAU,CAAC,CAAC;IACzBsE,YAAY,CAACnE,cAAc,CAAC;IAC5BwG,gBAAgB,CAACG,OAAO,GAAG3G,cAAc;IACzCsE,OAAO,CAACjE,aAAa,CAACR,UAAU,CAAC,CAAC;IAClC6E,QAAQ,CAAC,CAAC,CAAC;IACX4B,aAAa,CAAC,CAAC,CAAC;IAChBxB,WAAW,CAAC,KAAK,CAAC;IAClBI,WAAW,CAAC,KAAK,CAAC;IAClB9D,QAAQ,CAAC0F,QAAQ,CAAC,CAAC,CAAC;IACpBF,SAAS,CAACE,QAAQ,CAAC,CAAC,CAAC;EACvB,CAAC;EAED,IAAMC,sBAAsB;IAAA,IAAAC,KAAA,GAAAlF,iBAAA,CAAG,WAAO2C,KAAK,EAAK;MAC9C,IAAI;QACF,IAAI,CAACjH,IAAI,CAACuE,WAAW,EAAE;QACvB,IAAMkB,QAAQ,GAAGvF,GAAG,CAACD,EAAE,EAAE,OAAO,EAAED,IAAI,CAACuE,WAAW,CAACE,GAAG,EAAE,YAAY,EAAE,OAAO,CAAC;QAC9E,IAAMgF,UAAU,GAAGvJ,GAAG,CAACD,EAAE,EAAE,OAAO,EAAED,IAAI,CAACuE,WAAW,CAACE,GAAG,CAAC;QACzD,IAAMiB,QAAQ,SAASvF,MAAM,CAACsF,QAAQ,CAAC;QACvC,IAAIE,IAAI,GAAG;UAAE+D,SAAS,EAAE,CAAC;UAAEzB,SAAS,EAAE,CAAC;UAAEI,UAAU,EAAE,CAAC;UAAEI,WAAW,EAAE;QAAE,CAAC;QACxE,IAAI/C,QAAQ,CAACb,MAAM,CAAC,CAAC,EAAE;UACrBc,IAAI,GAAGD,QAAQ,CAACZ,IAAI,CAAC,CAAC;QACxB;QACA,IAAM6E,QAAQ,GAAG;UACfD,SAAS,EAAE5H,IAAI,CAAC8H,GAAG,CAACjE,IAAI,CAAC+D,SAAS,IAAI,CAAC,EAAEzC,KAAK,CAAC;UAC/CgB,SAAS,EAAEhB,KAAK;UAChBoB,UAAU,EAAE,CAAC1C,IAAI,CAAC0C,UAAU,IAAI,CAAC,IAAI,CAAC;UACtCI,WAAW,EAAE,CAAC9C,IAAI,CAAC8C,WAAW,IAAI,CAAC,IAAIxB;QACzC,CAAC;QACD,MAAM7G,MAAM,CAACqF,QAAQ,EAAEkE,QAAQ,EAAE;UAAEnE,KAAK,EAAE;QAAK,CAAC,CAAC;QAGjD,IAAMM,aAAa,SAAS5E,sBAAsB,CAChDlB,IAAI,CAACuE,WAAW,CAACE,GAAG,EACpB,OAAO,EACPkF,QACF,CAAC;QAGD,IAAI7D,aAAa,GAAG,CAAC,EAAE;UACrB,MAAMxF,SAAS,CAACmJ,UAAU,EAAE;YAAE7E,KAAK,EAAEvE,SAAS,CAACyF,aAAa;UAAE,CAAC,CAAC;QAClE;QAGA,MAAM5B,cAAc,CAAC,CAAC;MACxB,CAAC,CAAC,OAAO2F,CAAC,EAAE;QACVC,OAAO,CAACC,KAAK,CAAC,6BAA6B,EAAEF,CAAC,CAAC;MACjD;IACF,CAAC;IAAA,gBAnCKN,sBAAsBA,CAAAS,EAAA;MAAA,OAAAR,KAAA,CAAApF,KAAA,OAAAC,SAAA;IAAA;EAAA,GAmC3B;EAED,IAAM4F,cAAc,GAAG,SAAjBA,cAAcA,CAAA,EAAS;IAC3B3C,WAAW,CAAC,IAAI,CAAC;IACjBiC,sBAAsB,CAACtC,KAAK,CAAC;IAG7BnH,QAAQ,CAAC4D,QAAQ,CAAC,CAChB5D,QAAQ,CAAC6D,MAAM,CAACC,QAAQ,EAAE;MACxBC,OAAO,EAAE,CAAC;MACVC,QAAQ,EAAE,GAAG;MACbC,eAAe,EAAE;IACnB,CAAC,CAAC,EACFjE,QAAQ,CAAC6D,MAAM,CAACyF,SAAS,EAAE;MACzBvF,OAAO,EAAE,EAAE;MACXC,QAAQ,EAAE,GAAG;MACbC,eAAe,EAAE;IACnB,CAAC,CAAC,EACFjE,QAAQ,CAAC6D,MAAM,CAACyF,SAAS,EAAE;MACzBvF,OAAO,EAAE,CAAC,EAAE;MACZC,QAAQ,EAAE,GAAG;MACbC,eAAe,EAAE;IACnB,CAAC,CAAC,EACFjE,QAAQ,CAAC6D,MAAM,CAACyF,SAAS,EAAE;MACzBvF,OAAO,EAAE,CAAC;MACVC,QAAQ,EAAE,GAAG;MACbC,eAAe,EAAE;IACnB,CAAC,CAAC,CACH,CAAC,CAACC,KAAK,CAAC,CAAC;IAEVnE,KAAK,CAACqK,KAAK,CACT,WAAW,EACX,YAAYrB,UAAU,aAAa5B,KAAK,EAAE,EAC1C,CAAC;MAAEkD,IAAI,EAAE,gBAAgB;MAAEC,OAAO,EAAEf;IAAU,CAAC,CACjD,CAAC;EACH,CAAC;EAED,IAAMgB,SAAS,GAAG,SAAZA,SAASA,CAAA,EAAS;IACtB,IAAIhD,QAAQ,IAAII,QAAQ,EAAE;IAE1BlB,QAAQ,CAAC,UAAA+D,SAAS,EAAI;MACpB,IAAMC,IAAI,GAAAC,aAAA,KAAQF,SAAS,CAAC,CAAC,CAAC,CAAE;MAChC,IAAMG,gBAAgB,GAAGzB,gBAAgB,CAACG,OAAO;MAEjD,QAAQsB,gBAAgB;QACtB,KAAK,IAAI;UAAEF,IAAI,CAAChI,CAAC,EAAE;UAAE;QACrB,KAAK,MAAM;UAAEgI,IAAI,CAAChI,CAAC,EAAE;UAAE;QACvB,KAAK,MAAM;UAAEgI,IAAI,CAACjI,CAAC,EAAE;UAAE;QACvB,KAAK,OAAO;UAAEiI,IAAI,CAACjI,CAAC,EAAE;UAAE;MAC1B;MAEA,IAAIiI,IAAI,CAACjI,CAAC,GAAG,CAAC,IAAIiI,IAAI,CAACjI,CAAC,IAAIX,UAAU,IAAI4I,IAAI,CAAChI,CAAC,GAAG,CAAC,IAAIgI,IAAI,CAAChI,CAAC,IAAIZ,UAAU,EAAE;QAC5EsI,cAAc,CAAC,CAAC;QAChB,OAAOK,SAAS;MAClB;MAEA,IAAMI,aAAa,GAAGJ,SAAS,CAACrH,IAAI,CAAC,UAAC0H,OAAO,EAAK;QAChD,OAAOA,OAAO,CAACrI,CAAC,KAAKiI,IAAI,CAACjI,CAAC,IAAIqI,OAAO,CAACpI,CAAC,KAAKgI,IAAI,CAAChI,CAAC;MACrD,CAAC,CAAC;MAEF,IAAImI,aAAa,EAAE;QACjBT,cAAc,CAAC,CAAC;QAChB,OAAOK,SAAS;MAClB;MAEA,IAAMM,QAAQ,IAAIL,IAAI,EAAAnE,MAAA,CAAAyE,kBAAA,CAAKP,SAAS,EAAC;MAErC,IAAIC,IAAI,CAACjI,CAAC,KAAKS,IAAI,CAACT,CAAC,IAAIiI,IAAI,CAAChI,CAAC,KAAKQ,IAAI,CAACR,CAAC,EAAE;QAC1C2E,QAAQ,CAAC,UAAAvB,IAAI;UAAA,OAAIA,IAAI,GAAG,CAAC;QAAA,EAAC;QAC1BmD,aAAa,CAAC,UAAAnD,IAAI;UAAA,OAAIA,IAAI,GAAG,CAAC;QAAA,EAAC;QAC/BmB,OAAO,CAACjE,aAAa,CAAC+H,QAAQ,CAAC,CAAC;MAClC,CAAC,MAAM;QACLA,QAAQ,CAACE,GAAG,CAAC,CAAC;MAChB;MAEA,OAAOF,QAAQ;IACjB,CAAC,CAAC;EACJ,CAAC;EAEDvL,SAAS,CAAC,YAAM;IACd,IAAM0L,cAAc,GAAG,SAAjBA,cAAcA,CAAIlB,CAAC,EAAK;MAC5B,IAAIxC,QAAQ,EAAE;MAEd,IAAM2D,GAAG,GAAGnB,CAAC,CAACmB,GAAG,CAACC,WAAW,CAAC,CAAC;MAC/B,IAAIC,YAAY,GAAG,IAAI;MAEvB,QAAQF,GAAG;QACT,KAAK,SAAS;QACd,KAAK,GAAG;UACNE,YAAY,GAAG,IAAI;UACnB;QACF,KAAK,WAAW;QAChB,KAAK,GAAG;UACNA,YAAY,GAAG,MAAM;UACrB;QACF,KAAK,WAAW;QAChB,KAAK,GAAG;UACNA,YAAY,GAAG,MAAM;UACrB;QACF,KAAK,YAAY;QACjB,KAAK,GAAG;UACNA,YAAY,GAAG,OAAO;UACtB;QACF,KAAK,GAAG;UACNxD,WAAW,CAAC,UAAA/B,IAAI;YAAA,OAAI,CAACA,IAAI;UAAA,EAAC;UAC1B;MACJ;MAEA,IAAIuF,YAAY,IAAI/H,mBAAmB,CAAC+H,YAAY,CAAC,KAAKlC,gBAAgB,CAACG,OAAO,EAAE;QAClFH,gBAAgB,CAACG,OAAO,GAAG+B,YAAY;QACvCvE,YAAY,CAACuE,YAAY,CAAC;MAC5B;IACF,CAAC;IAEDC,MAAM,CAACC,gBAAgB,CAAC,SAAS,EAAEL,cAAc,CAAC;IAClD,OAAO;MAAA,OAAMI,MAAM,CAACE,mBAAmB,CAAC,SAAS,EAAEN,cAAc,CAAC;IAAA;EACpE,CAAC,EAAE,CAAC1D,QAAQ,CAAC,CAAC;EAEdhI,SAAS,CAAC,YAAM;IACd,IAAMiM,KAAK,GAAGxJ,IAAI,CAAC8H,GAAG,CAACzH,aAAa,GAAI8E,KAAK,GAAG7E,eAAgB,EAAE,GAAG,CAAC;IACtE2G,WAAW,CAACI,OAAO,GAAGoC,WAAW,CAAClB,SAAS,EAAEiB,KAAK,CAAC;IACnD,OAAO;MAAA,OAAME,aAAa,CAACzC,WAAW,CAACI,OAAO,CAAC;IAAA;EACjD,CAAC,EAAE,CAAClC,KAAK,EAAEI,QAAQ,EAAEI,QAAQ,CAAC,CAAC;EAE/BpI,SAAS,CAAC,YAAM;IACd,IAAMoM,KAAK,GAAG3L,QAAQ,CAAC4D,QAAQ,CAAC,CAC9B5D,QAAQ,CAAC6D,MAAM,CAACsF,SAAS,EAAE;MACzBpF,OAAO,EAAE,IAAI;MACbC,QAAQ,EAAE,IAAI;MACdC,eAAe,EAAE;IACnB,CAAC,CAAC,EACFjE,QAAQ,CAAC6D,MAAM,CAACsF,SAAS,EAAE;MACzBpF,OAAO,EAAE,CAAC;MACVC,QAAQ,EAAE,IAAI;MACdC,eAAe,EAAE;IACnB,CAAC,CAAC,CACH,CAAC;IAEFjE,QAAQ,CAAC4L,IAAI,CAACD,KAAK,CAAC,CAACzH,KAAK,CAAC,CAAC;IAE5B,OAAO,YAAM;MACXiF,SAAS,CAAC0C,aAAa,CAAC,CAAC;IAC3B,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,IAAMC,WAAW,GAAG,SAAdA,WAAWA,CAAA,EAAS;IACxB,OAAOC,KAAK,CAAClK,UAAU,CAAC,CAACmK,IAAI,CAAC,CAAC,CAACC,GAAG,CAAC,UAACC,CAAC,EAAEzJ,CAAC;MAAA,OACvChB,OAAA,CAAC/B,IAAI;QAAkByM,KAAK,EAAEC,MAAM,CAACC,GAAI;QAAAC,QAAA,EACtCP,KAAK,CAAClK,UAAU,CAAC,CAACmK,IAAI,CAAC,CAAC,CAACC,GAAG,CAAC,UAACC,CAAC,EAAE1J,CAAC,EAAK;UACtC,IAAM+J,OAAO,GAAGvJ,KAAK,CAACG,IAAI,CAAC,UAAA0H,OAAO;YAAA,OAAIA,OAAO,CAACrI,CAAC,KAAKA,CAAC,IAAIqI,OAAO,CAACpI,CAAC,KAAKA,CAAC;UAAA,EAAC;UACzE,IAAM+J,MAAM,GAAGxJ,KAAK,CAAC,CAAC,CAAC,CAACR,CAAC,KAAKA,CAAC,IAAIQ,KAAK,CAAC,CAAC,CAAC,CAACP,CAAC,KAAKA,CAAC;UACnD,IAAMgK,MAAM,GAAGxJ,IAAI,CAACT,CAAC,KAAKA,CAAC,IAAIS,IAAI,CAACR,CAAC,KAAKA,CAAC;UAC3C,IAAMiK,UAAU,GAAG1J,KAAK,CAAC2J,SAAS,CAAC,UAAA9B,OAAO;YAAA,OAAIA,OAAO,CAACrI,CAAC,KAAKA,CAAC,IAAIqI,OAAO,CAACpI,CAAC,KAAKA,CAAC;UAAA,EAAC;UAEjF,OACEhB,OAAA,CAAC/B,IAAI;YAEHyM,KAAK,EAAE,CACLC,MAAM,CAACQ,IAAI,EACXL,OAAO,KAAKC,MAAM,GAAGJ,MAAM,CAACS,SAAS,GAAGT,MAAM,CAACU,SAAS,CAAC,CACzD;YAAAR,QAAA,GAEDC,OAAO,IAAI,CAACC,MAAM,IACjB/K,OAAA,CAAC/B,IAAI;cAACyM,KAAK,EAAEC,MAAM,CAACW;YAAM;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,GAAAhH,KAAE,CAC7B,EACAqG,MAAM,IACL/K,OAAA,CAAAE,SAAA;cAAA2K,QAAA,GACE7K,OAAA,CAAC/B,IAAI;gBAACyM,KAAK,EAAEC,MAAM,CAACgB;cAAS;gBAAAJ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,GAAAhH,KAAE,CAAC,EAChC1E,OAAA,CAAC/B,IAAI;gBAACyM,KAAK,EAAE,CACXC,MAAM,CAACiB,QAAQ,EACf;kBACEC,GAAG,EAAEpL,SAAS,GAAG,IAAI;kBACrBsB,IAAI,EAAEtB,SAAS,GAAG;gBACpB,CAAC;cACD;gBAAA8K,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,GAAAhH,KAAE,CAAC,EACL1E,OAAA,CAAC/B,IAAI;gBAACyM,KAAK,EAAE,CACXC,MAAM,CAACiB,QAAQ,EACf;kBACEC,GAAG,EAAEpL,SAAS,GAAG,IAAI;kBACrBuB,KAAK,EAAEvB,SAAS,GAAG;gBACrB,CAAC;cACD;gBAAA8K,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,GAAAhH,KAAE,CAAC;YAAA,eACL,CACH,EACAsG,MAAM,IACLhL,OAAA,CAACzB,QAAQ,CAACN,IAAI;cAACyM,KAAK,EAAE,CACpBC,MAAM,CAACnJ,IAAI,EACX;gBAAEsK,SAAS,EAAE,CAAC;kBAAER,KAAK,EAAE5D;gBAAU,CAAC;cAAE,CAAC,CACrC;cAAAmD,QAAA,GAEA7K,OAAA,CAAC/B,IAAI;gBAACyM,KAAK,EAAE;kBACXqB,QAAQ,EAAE,UAAU;kBACpB9M,KAAK,EAAEwB,SAAS,GAAG,IAAI;kBACvBtB,MAAM,EAAEsB,SAAS,GAAG,IAAI;kBACxBuL,eAAe,EAAE,SAAS;kBAC1BH,GAAG,EAAE,CAACpL,SAAS,GAAG,IAAI;kBACtBsB,IAAI,EAAGtB,SAAS,GAAG,GAAG,GAAI,CAAC,GAAIA,SAAS,GAAG,IAAK;kBAChDwL,YAAY,EAAExL,SAAS,GAAG,IAAI;kBAC9ByL,MAAM,EAAE;gBACV;cAAE;gBAAAX,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,GAAAhH,KAAE,CAAC,EAEL1E,OAAA,CAAC/B,IAAI;gBAACyM,KAAK,EAAE;kBACXqB,QAAQ,EAAE,UAAU;kBACpB9M,KAAK,EAAEwB,SAAS,GAAG,IAAI;kBACvBtB,MAAM,EAAEsB,SAAS,GAAG,IAAI;kBACxBuL,eAAe,EAAE,SAAS;kBAC1BH,GAAG,EAAE,CAACpL,SAAS,GAAG,IAAI;kBACtBsB,IAAI,EAAGtB,SAAS,GAAG,GAAG,GAAI,CAAC;kBAC3B0L,mBAAmB,EAAE1L,SAAS,GAAG,IAAI;kBACrC2L,oBAAoB,EAAE3L,SAAS,GAAG,IAAI;kBACtCqL,SAAS,EAAE,CAAC;oBAAEO,MAAM,EAAE;kBAAS,CAAC,CAAC;kBACjCH,MAAM,EAAE;gBACV;cAAE;gBAAAX,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,GAAAhH,KAAE,CAAC;YAAA;cAAA6G,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,GAAAhH,KACQ,CAChB;UAAA,GA1DI,QAAQ3D,CAAC,IAAIC,CAAC,EAAE;YAAAuK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,GAAAhH,KA2DjB,CAAC;QAEX,CAAC;MAAC,GAtEO,OAAO1D,CAAC,EAAE;QAAAuK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,GAAAhH,KAuEf,CAAC;IAAA,CACR,CAAC;EACJ,CAAC;EAED,IAAM4H,oBAAoB,GAAG,SAAvBA,oBAAoBA,CAAI3C,YAAY,EAAK;IAC7C,IAAI7D,QAAQ,IAAII,QAAQ,EAAE;IAC1B,IAAItE,mBAAmB,CAAC+H,YAAY,CAAC,KAAKlC,gBAAgB,CAACG,OAAO,EAAE;MAClEH,gBAAgB,CAACG,OAAO,GAAG+B,YAAY;MACvCvE,YAAY,CAACuE,YAAY,CAAC;IAC5B;EACF,CAAC;EAED,IAAM4C,UAAU,GAAG,SAAbA,UAAUA,CAAA,EAAS;IACvB,IAAI/E,WAAW,CAACI,OAAO,EAAE;MACvBqC,aAAa,CAACzC,WAAW,CAACI,OAAO,CAAC;IACpC;IACAjD,UAAU,CAAC6H,MAAM,CAAC,CAAC;EACrB,CAAC;EAED,OACExM,OAAA,CAAC3B,YAAY;IAACqM,KAAK,EAAEC,MAAM,CAAC8B,SAAU;IAAA5B,QAAA,GAEpC7K,OAAA,CAAC5B,gBAAgB;MAACsM,KAAK,EAAEC,MAAM,CAAC+B,UAAW;MAAC7D,OAAO,EAAE0D,UAAW;MAAA1B,QAAA,EAC9D7K,OAAA,CAAC/B,IAAI;QAACyM,KAAK,EAAEC,MAAM,CAACgC,OAAQ;QAAA9B,QAAA,EAC1B7K,OAAA,CAAC9B,IAAI;UAACwM,KAAK,EAAEC,MAAM,CAACiC,QAAS;UAAA/B,QAAA,EAAE;QAAG;UAAAU,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACtC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACS,CAAC,EAGnB1L,OAAA,CAAC/B,IAAI;MAACyM,KAAK,EAAEC,MAAM,CAACkC;IAAY;MAAAtB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,EACnC1L,OAAA,CAAC/B,IAAI;MAACyM,KAAK,EAAEC,MAAM,CAACmC;IAAY;MAAAvB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,EACnC1L,OAAA,CAAC/B,IAAI;MAACyM,KAAK,EAAEC,MAAM,CAACoC;IAAY;MAAAxB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,EACnC1L,OAAA,CAAC/B,IAAI;MAACyM,KAAK,EAAEC,MAAM,CAACqC;IAAY;MAAAzB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,EAGnC1L,OAAA,CAAC/B,IAAI;MAACyM,KAAK,EAAEC,MAAM,CAACsC,WAAY;MAAApC,QAAA,EAC7BP,KAAK,CAAC4C,IAAI,CAAC;QAAEC,MAAM,EAAE;MAAG,CAAC,CAAC,CAAC3C,GAAG,CAAC,UAACC,CAAC,EAAE2C,CAAC;QAAA,OACnCpN,OAAA,CAAC/B,IAAI;UAASyM,KAAK,EAAEC,MAAM,CAAC0C;QAAS,GAA1BD,CAAC;UAAA7B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,GAAAhH,KAA2B,CAAC;MAAA,CACzC;IAAC;MAAA6G,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,EAEP1L,OAAA,CAAC/B,IAAI;MAACyM,KAAK,EAAEC,MAAM,CAAC2C,MAAO;MAAAzC,QAAA,GACzB7K,OAAA,CAAC9B,IAAI;QAACwM,KAAK,GAAGC,MAAM,CAAC4C,KAAK,EAAA1I,MAAA,CAAK3D,WAAW,CAAE;QAAA2J,QAAA,EAAC;MAAK;QAAAU,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,EACzD1L,OAAA,CAAC/B,IAAI;QAACyM,KAAK,EAAEC,MAAM,CAAC6C,cAAe;QAAA3C,QAAA,GACjC7K,OAAA,CAAC9B,IAAI;UAACwM,KAAK,EAAEC,MAAM,CAACjF,KAAM;UAAAmF,QAAA,GAAC,SAAO,EAACnF,KAAK;QAAA;UAAA6F,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,EAChD1L,OAAA,CAAC9B,IAAI;UAACwM,KAAK,EAAEC,MAAM,CAACrE,SAAU;UAAAuE,QAAA,GAAC,cAAY,EAACvE,SAAS;QAAA;UAAAiF,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzD,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,EAEP1L,OAAA,CAAC/B,IAAI;MAACyM,KAAK,EAAEC,MAAM,CAAC8C,cAAe;MAAA5C,QAAA,EACjC7K,OAAA,CAAC/B,IAAI;QAACyM,KAAK,EAAEC,MAAM,CAAC+C,WAAY;QAAA7C,QAAA,EAC9B7K,OAAA,CAAC/B,IAAI;UAACyM,KAAK,EAAEC,MAAM,CAACgD,KAAM;UAAA9C,QAAA,GACvBR,WAAW,CAAC,CAAC,EACbvE,QAAQ,IACP9F,OAAA,CAACzB,QAAQ,CAACN,IAAI;YACZyM,KAAK,EAAE,CACLC,MAAM,CAACiD,eAAe,EACtB;cACEC,OAAO,EAAExL,QAAQ;cACjByJ,SAAS,EAAE,CAAC;gBAAEgC,UAAU,EAAEjG;cAAU,CAAC;YACvC,CAAC,CACD;YAAAgD,QAAA,EAEF7K,OAAA,CAAC/B,IAAI;cAACyM,KAAK,EAAEC,MAAM,CAACoD,WAAY;cAAAlD,QAAA,GAC9B7K,OAAA,CAAC9B,IAAI;gBAACwM,KAAK,GAAGC,MAAM,CAACqD,YAAY,EAAAnJ,MAAA,CAAK3D,WAAW,CAAE;gBAAA2J,QAAA,EAAC;cAAI;gBAAAU,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,EAC/D1L,OAAA,CAAC9B,IAAI;gBAACwM,KAAK,GAAGC,MAAM,CAACqD,YAAY,EAAAnJ,MAAA,CAAK3D,WAAW,CAAE;gBAAA2J,QAAA,EAAC;cAAI;gBAAAU,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC3D;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACM,CAChB;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,EAEP1L,OAAA,CAAC/B,IAAI;MAACyM,KAAK,EAAEC,MAAM,CAACsD,QAAS;MAAApD,QAAA,GAC3B7K,OAAA,CAAC/B,IAAI;QAACyM,KAAK,EAAEC,MAAM,CAACuD,UAAW;QAAArD,QAAA,EAC7B7K,OAAA,CAAC5B,gBAAgB;UACfsM,KAAK,EAAE,CAACC,MAAM,CAACwD,aAAa,EAAExD,MAAM,CAACyD,OAAO,CAAE;UAC9CvF,OAAO,EAAE,SAATA,OAAOA,CAAA;YAAA,OAAQyD,oBAAoB,CAAC,IAAI,CAAC;UAAA,CAAC;UAAAzB,QAAA,EAE1C7K,OAAA,CAAC9B,IAAI;YAACwM,KAAK,EAAEC,MAAM,CAAC0D,WAAY;YAAAxD,QAAA,EAAC;UAAC;YAAAU,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzB;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACf,CAAC,EACP1L,OAAA,CAAC/B,IAAI;QAACyM,KAAK,EAAEC,MAAM,CAACuD,UAAW;QAAArD,QAAA,GAC7B7K,OAAA,CAAC5B,gBAAgB;UACfsM,KAAK,EAAE,CAACC,MAAM,CAACwD,aAAa,EAAExD,MAAM,CAACyD,OAAO,CAAE;UAC9CvF,OAAO,EAAE,SAATA,OAAOA,CAAA;YAAA,OAAQyD,oBAAoB,CAAC,MAAM,CAAC;UAAA,CAAC;UAAAzB,QAAA,EAE5C7K,OAAA,CAAC9B,IAAI;YAACwM,KAAK,EAAEC,MAAM,CAAC0D,WAAY;YAAAxD,QAAA,EAAC;UAAC;YAAAU,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzB,CAAC,EACnB1L,OAAA,CAAC5B,gBAAgB;UACfsM,KAAK,EAAE,CAACC,MAAM,CAACwD,aAAa,EAAExD,MAAM,CAAC2D,WAAW,EAAE3D,MAAM,CAACyD,OAAO,CAAE;UAClEvF,OAAO,EAAE,SAATA,OAAOA,CAAA;YAAA,OAAQ1C,WAAW,CAAC,UAAA/B,IAAI;cAAA,OAAI,CAACA,IAAI;YAAA,EAAC;UAAA,CAAC;UAAAyG,QAAA,EAE1C7K,OAAA,CAAC9B,IAAI;YAACwM,KAAK,EAAEC,MAAM,CAAC0D,WAAY;YAAAxD,QAAA,EAAE3E,QAAQ,GAAG,GAAG,GAAG;UAAG;YAAAqF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9C,CAAC,EACnB1L,OAAA,CAAC5B,gBAAgB;UACfsM,KAAK,EAAE,CAACC,MAAM,CAACwD,aAAa,EAAExD,MAAM,CAACyD,OAAO,CAAE;UAC9CvF,OAAO,EAAE,SAATA,OAAOA,CAAA;YAAA,OAAQyD,oBAAoB,CAAC,OAAO,CAAC;UAAA,CAAC;UAAAzB,QAAA,EAE7C7K,OAAA,CAAC9B,IAAI;YAACwM,KAAK,EAAEC,MAAM,CAAC0D,WAAY;YAAAxD,QAAA,EAAC;UAAC;YAAAU,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzB,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACf,CAAC,EACP1L,OAAA,CAAC/B,IAAI;QAACyM,KAAK,EAAEC,MAAM,CAACuD,UAAW;QAAArD,QAAA,EAC7B7K,OAAA,CAAC5B,gBAAgB;UACfsM,KAAK,EAAE,CAACC,MAAM,CAACwD,aAAa,EAAExD,MAAM,CAACyD,OAAO,CAAE;UAC9CvF,OAAO,EAAE,SAATA,OAAOA,CAAA;YAAA,OAAQyD,oBAAoB,CAAC,MAAM,CAAC;UAAA,CAAC;UAAAzB,QAAA,EAE5C7K,OAAA,CAAC9B,IAAI;YAACwM,KAAK,EAAEC,MAAM,CAAC0D,WAAY;YAAAxD,QAAA,EAAC;UAAC;YAAAU,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzB;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACf,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,EAEP1L,OAAA,CAAC/B,IAAI;MAACyM,KAAK,EAAE;QAAE6D,UAAU,EAAE,QAAQ;QAAEC,SAAS,EAAE,EAAE;QAAEC,YAAY,EAAE;MAAG,CAAE;MAAA5D,QAAA,EACrE7K,OAAA,CAAC5B,gBAAgB;QACfsM,KAAK,EAAE,CAACC,MAAM,CAAC+D,aAAa,EAAE/D,MAAM,CAACyD,OAAO,EAAE;UAAEI,SAAS,EAAE;QAAE,CAAC,CAAE;QAChE3F,OAAO,EAAEf,SAAU;QAAA+C,QAAA,EAEnB7K,OAAA,CAAC9B,IAAI;UAACwM,KAAK,EAAEC,MAAM,CAACgE,iBAAkB;UAAA9D,QAAA,EACnC/E,QAAQ,GAAG,YAAY,GAAG;QAAS;UAAAyF,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACS;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACf,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACK,CAAC;AAEnB;AAEA,IAAMf,MAAM,GAAGxM,UAAU,CAACyQ,MAAM,CAAC;EAC/BnC,SAAS,EAAE;IACToC,IAAI,EAAE,CAAC;IACP7C,eAAe,EAAE,SAAS;IAC1BuC,UAAU,EAAE,QAAQ;IACpBO,cAAc,EAAE,eAAe;IAC/BC,OAAO,EAAEvP,cAAc,CAAC,EAAE;EAC5B,CAAC;EACDyN,WAAW,EAAAhE,aAAA,CAAAA,aAAA,KACN9K,UAAU,CAAC6Q,kBAAkB;IAChC9C,MAAM,EAAE,CAAC;IACT+C,aAAa,EAAE,QAAQ;IACvBH,cAAc,EAAE,eAAe;IAC/BjB,OAAO,EAAE;EAAI,EACd;EACDR,QAAQ,EAAE;IACRpO,KAAK,EAAE,MAAM;IACbE,MAAM,EAAE,CAAC;IACT6M,eAAe,EAAE,MAAM;IACvByC,YAAY,EAAE,CAAC;IACfZ,OAAO,EAAE;EACX,CAAC;EACDhB,WAAW,EAAE;IACXd,QAAQ,EAAE,UAAU;IACpBF,GAAG,EAAExM,EAAE,CAAC,GAAG,CAAC;IACZ0C,IAAI,EAAE3C,EAAE,CAAC,CAAC,CAAC;IACXH,KAAK,EAAEO,cAAc,CAAC,EAAE,CAAC;IACzBL,MAAM,EAAEK,cAAc,CAAC,EAAE,CAAC;IAC1BwM,eAAe,EAAE,SAAS;IAC1BC,YAAY,EAAEzM,cAAc,CAAC,CAAC,CAAC;IAC/B0M,MAAM,EAAE;EACV,CAAC;EACDY,WAAW,EAAE;IACXf,QAAQ,EAAE,UAAU;IACpBF,GAAG,EAAExM,EAAE,CAAC,GAAG,CAAC;IACZ2C,KAAK,EAAE5C,EAAE,CAAC,CAAC,CAAC;IACZH,KAAK,EAAEO,cAAc,CAAC,EAAE,CAAC;IACzBL,MAAM,EAAEK,cAAc,CAAC,EAAE,CAAC;IAC1BwM,eAAe,EAAE,SAAS;IAC1BC,YAAY,EAAEzM,cAAc,CAAC,CAAC,CAAC;IAC/B0M,MAAM,EAAE;EACV,CAAC;EACDa,WAAW,EAAE;IACXhB,QAAQ,EAAE,UAAU;IACpBmD,MAAM,EAAE7P,EAAE,CAAC,GAAG,CAAC;IACf0C,IAAI,EAAE3C,EAAE,CAAC,CAAC,CAAC;IACXH,KAAK,EAAEO,cAAc,CAAC,EAAE,CAAC;IACzBL,MAAM,EAAEK,cAAc,CAAC,EAAE,CAAC;IAC1BwM,eAAe,EAAE,SAAS;IAC1BC,YAAY,EAAEzM,cAAc,CAAC,CAAC,CAAC;IAC/B0M,MAAM,EAAE;EACV,CAAC;EACDc,WAAW,EAAE;IACXjB,QAAQ,EAAE,UAAU;IACpBmD,MAAM,EAAE7P,EAAE,CAAC,GAAG,CAAC;IACf2C,KAAK,EAAE5C,EAAE,CAAC,CAAC,CAAC;IACZH,KAAK,EAAEO,cAAc,CAAC,EAAE,CAAC;IACzBL,MAAM,EAAEK,cAAc,CAAC,EAAE,CAAC;IAC1BwM,eAAe,EAAE,SAAS;IAC1BC,YAAY,EAAEzM,cAAc,CAAC,CAAC,CAAC;IAC/B0M,MAAM,EAAE;EACV,CAAC;EACDoB,MAAM,EAAE;IACNiB,UAAU,EAAE,QAAQ;IACpBE,YAAY,EAAEnP,OAAO,CAAC6P,EAAE;IACxBjD,MAAM,EAAE;EACV,CAAC;EACDqB,KAAK,EAAE;IACL6B,QAAQ,EAAE3P,SAAS,CAAC,EAAE,CAAC;IACvB4P,UAAU,EAAElP,SAAS;IACrBmP,KAAK,EAAE,SAAS;IAChBb,YAAY,EAAEnP,OAAO,CAACiQ,EAAE;IACxBC,aAAa,EAAE;EACjB,CAAC;EACDhC,cAAc,EAAE;IACdxB,eAAe,EAAE,SAAS;IAC1BC,YAAY,EAAEvM,sBAAsB,CAAC,EAAE,CAAC;IACxC+P,WAAW,EAAEjQ,cAAc,CAAC,CAAC,CAAC;IAC9BkQ,WAAW,EAAE,SAAS;IACtBX,OAAO,EAAEzP,OAAO,CAACqQ,EAAE;IACnBpB,UAAU,EAAE;EACd,CAAC;EACD7I,KAAK,EAAE;IACL0J,QAAQ,EAAE3P,SAAS,CAAC,EAAE,CAAC;IACvB4P,UAAU,EAAElP,SAAS;IACrBmP,KAAK,EAAE,SAAS;IAChBb,YAAY,EAAEnP,OAAO,CAACsQ;EACxB,CAAC;EACDtJ,SAAS,EAAE;IACT8I,QAAQ,EAAE3P,SAAS,CAAC,EAAE,CAAC;IACvB4P,UAAU,EAAElP,SAAS;IACrBmP,KAAK,EAAE;EACT,CAAC;EACD7B,cAAc,EAAE;IACdc,UAAU,EAAE,QAAQ;IACpBO,cAAc,EAAE,QAAQ;IACxBe,cAAc,EAAEvQ,OAAO,CAACwQ,EAAE;IAC1B5D,MAAM,EAAE;EACV,CAAC;EACDwB,WAAW,EAAE;IACX+B,WAAW,EAAEjQ,cAAc,CAAC,CAAC,CAAC;IAC9BkQ,WAAW,EAAE,SAAS;IACtBzD,YAAY,EAAEvM,sBAAsB,CAAC,EAAE,CAAC;IACxCqP,OAAO,EAAEzP,OAAO,CAACiQ,EAAE;IACnBvD,eAAe,EAAE,SAAS;IAC1B+D,WAAW,EAAE,SAAS;IACtBC,aAAa,EAAE,GAAG;IAClBC,YAAY,EAAE,EAAE;IAChBC,YAAY,EAAE;MAAEjR,KAAK,EAAE,CAAC;MAAEE,MAAM,EAAE;IAAE;EACtC,CAAC;EACDwO,KAAK,EAAE;IACL1O,KAAK,EAAE0B,gBAAgB;IACvBxB,MAAM,EAAEwB,gBAAgB;IACxBqL,eAAe,EAAE,SAAS;IAC1ByD,WAAW,EAAEjQ,cAAc,CAAC,CAAC,CAAC;IAC9BkQ,WAAW,EAAE,SAAS;IACtBzD,YAAY,EAAEvM,sBAAsB,CAAC,EAAE;EACzC,CAAC;EACDkL,GAAG,EAAE;IACHqE,aAAa,EAAE;EACjB,CAAC;EACD9D,IAAI,EAAE;IACJlM,KAAK,EAAEwB,SAAS;IAChBtB,MAAM,EAAEsB,SAAS;IACjBgP,WAAW,EAAE,GAAG;IAChBC,WAAW,EAAE,SAAS;IACtB3D,QAAQ,EAAE;EACZ,CAAC;EACDX,SAAS,EAAE;IACTY,eAAe,EAAE,SAAS;IAC1BC,YAAY,EAAExL,SAAS,GAAG,CAAC;IAC3BsP,WAAW,EAAE,SAAS;IACtBC,aAAa,EAAE,GAAG;IAClBC,YAAY,EAAE,CAAC;IACfC,YAAY,EAAE;MAAEjR,KAAK,EAAE,CAAC;MAAEE,MAAM,EAAE;IAAE,CAAC;IACrCsQ,WAAW,EAAE,CAAC;IACdC,WAAW,EAAE,SAAS;IACtB3D,QAAQ,EAAE,UAAU;IACpBoE,QAAQ,EAAE,QAAQ;IAClBlR,KAAK,EAAEwB,SAAS;IAChBtB,MAAM,EAAEsB;EACV,CAAC;EACD4K,SAAS,EAAE;IACTW,eAAe,EAAE,SAAS;IAC1BC,YAAY,EAAExL,SAAS,GAAG,CAAC;IAC3BsP,WAAW,EAAE,SAAS;IACtBC,aAAa,EAAE,GAAG;IAClBC,YAAY,EAAE,CAAC;IACfC,YAAY,EAAE;MAAEjR,KAAK,EAAE,CAAC;MAAEE,MAAM,EAAE;IAAE,CAAC;IACrCsQ,WAAW,EAAE,CAAC;IACdC,WAAW,EAAE,SAAS;IACtB3D,QAAQ,EAAE,UAAU;IACpBoE,QAAQ,EAAE,QAAQ;IAClBlR,KAAK,EAAEwB,SAAS;IAChBtB,MAAM,EAAEsB;EACV,CAAC;EACD6K,KAAK,EAAE;IACLS,QAAQ,EAAE,UAAU;IACpB9M,KAAK,EAAEwB,SAAS,GAAG,GAAG;IACtBtB,MAAM,EAAEsB,SAAS,GAAG,GAAG;IACvBuL,eAAe,EAAE,2BAA2B;IAC5CC,YAAY,EAAExL,SAAS,GAAG,IAAI;IAC9BoL,GAAG,EAAEpL,SAAS,GAAG,IAAI;IACrBsB,IAAI,EAAEtB,SAAS,GAAG,IAAI;IACtBgP,WAAW,EAAE,CAAC;IACdC,WAAW,EAAE;EACf,CAAC;EACD/D,QAAQ,EAAE;IACRI,QAAQ,EAAE,UAAU;IACpB9M,KAAK,EAAEwB,SAAS,GAAG,GAAG;IACtBtB,MAAM,EAAEsB,SAAS,GAAG,GAAG;IACvBuL,eAAe,EAAE,0BAA0B;IAC3CC,YAAY,EAAExL,SAAS,GAAG,IAAI;IAC9BoL,GAAG,EAAEpL,SAAS,GAAG,IAAI;IACrBsB,IAAI,EAAEtB,SAAS,GAAG,IAAI;IACtBgP,WAAW,EAAE,CAAC;IACdC,WAAW,EAAE;EACf,CAAC;EACD9D,QAAQ,EAAE;IACRG,QAAQ,EAAE,UAAU;IACpB9M,KAAK,EAAEwB,SAAS,GAAG,GAAG;IACtBtB,MAAM,EAAEsB,SAAS,GAAG,GAAG;IACvBuL,eAAe,EAAE,MAAM;IACvBC,YAAY,EAAExL,SAAS,GAAG,GAAG;IAC7BgP,WAAW,EAAE,CAAC;IACdC,WAAW,EAAE;EACf,CAAC;EACDlO,IAAI,EAAE;IACJvC,KAAK,EAAEwB,SAAS,GAAG,GAAG;IACtBtB,MAAM,EAAEsB,SAAS,GAAG,GAAG;IACvBuL,eAAe,EAAE,SAAS;IAC1BC,YAAY,EAAGxL,SAAS,GAAG,GAAG,GAAI,CAAC;IACnCsP,WAAW,EAAE,SAAS;IACtBC,aAAa,EAAE,GAAG;IAClBC,YAAY,EAAE,CAAC;IACfC,YAAY,EAAE;MAAEjR,KAAK,EAAE,CAAC;MAAEE,MAAM,EAAE;IAAE,CAAC;IACrC4M,QAAQ,EAAE,UAAU;IACpBhK,IAAI,EAAEtB,SAAS,GAAG,GAAG;IACrBoL,GAAG,EAAEpL,SAAS,GAAG,GAAG;IACpB0P,QAAQ,EAAE,SAAS;IACnB5B,UAAU,EAAE,QAAQ;IACpBO,cAAc,EAAE;EAClB,CAAC;EACDb,QAAQ,EAAE;IACRO,SAAS,EAAElP,OAAO,CAACwQ,EAAE;IACrBvB,UAAU,EAAE,QAAQ;IACpBrC,MAAM,EAAE;EACV,CAAC;EACDgC,UAAU,EAAE;IACVe,aAAa,EAAE,KAAK;IACpBH,cAAc,EAAE,QAAQ;IACxBe,cAAc,EAAEvQ,OAAO,CAACsQ;EAC1B,CAAC;EACDzB,aAAa,EAAE;IACblP,KAAK,EAAES,sBAAsB,CAAC,EAAE,CAAC;IACjCP,MAAM,EAAEO,sBAAsB,CAAC,EAAE,CAAC;IAClCsM,eAAe,EAAE,SAAS;IAC1BC,YAAY,EAAEvM,sBAAsB,CAAC,CAAC,CAAC;IACvCoP,cAAc,EAAE,QAAQ;IACxBP,UAAU,EAAE,QAAQ;IACpB6B,MAAM,EAAE9Q,OAAO,CAACsQ,EAAE;IAClBH,WAAW,EAAEjQ,cAAc,CAAC,CAAC,CAAC;IAC9BkQ,WAAW,EAAE;EACf,CAAC;EACDpB,WAAW,EAAE;IACXtC,eAAe,EAAE,SAAS;IAC1B0D,WAAW,EAAE;EACf,CAAC;EACDrB,WAAW,EAAE;IACXe,QAAQ,EAAE3P,SAAS,CAAC,EAAE,CAAC;IACvB4P,UAAU,EAAElP,SAAS;IACrBmP,KAAK,EAAE;EACT,CAAC;EACDZ,aAAa,EAAE;IACb1C,eAAe,EAAE,SAAS;IAC1BqE,iBAAiB,EAAE,EAAE;IACrBC,eAAe,EAAE,EAAE;IACnBrE,YAAY,EAAE,EAAE;IAChBuC,SAAS,EAAE,CAAC;IACZiB,WAAW,EAAE,CAAC;IACdC,WAAW,EAAE,SAAS;IACtBxD,MAAM,EAAE;EACV,CAAC;EACDyC,iBAAiB,EAAE;IACjBW,KAAK,EAAE,SAAS;IAChBF,QAAQ,EAAE3P,SAAS,CAAC,EAAE,CAAC;IACvB4P,UAAU,EAAElP;EACd,CAAC;EACDiO,OAAO,EAAE;IACP2B,WAAW,EAAE,SAAS;IACtBC,aAAa,EAAE,GAAG;IAClBC,YAAY,EAAE,EAAE;IAChBC,YAAY,EAAE;MAAEjR,KAAK,EAAE,CAAC;MAAEE,MAAM,EAAE;IAAE;EACtC,CAAC;EACDuN,UAAU,EAAE;IACVX,QAAQ,EAAE,UAAU;IACpBF,GAAG,EAAE1M,MAAM,GAAG,KAAK;IACnB4C,IAAI,EAAE9C,KAAK,GAAG,IAAI;IAClBiN,MAAM,EAAE;EACV,CAAC;EACDS,OAAO,EAAE;IACP1N,KAAK,EAAE,EAAE;IACTE,MAAM,EAAE,EAAE;IACV8M,YAAY,EAAE,CAAC;IACfD,eAAe,EAAE,SAAS;IAC1ByD,WAAW,EAAE,CAAC;IACdC,WAAW,EAAE,SAAS;IACtBnB,UAAU,EAAE,QAAQ;IACpBO,cAAc,EAAE,QAAQ;IACxBiB,WAAW,EAAE,SAAS;IACtBC,aAAa,EAAE,GAAG;IAClBC,YAAY,EAAE,CAAC;IACfC,YAAY,EAAE;MAAEjR,KAAK,EAAE,CAAC;MAAEE,MAAM,EAAE;IAAE;EACtC,CAAC;EACDyN,QAAQ,EAAE;IACR0C,KAAK,EAAE,SAAS;IAChBD,UAAU,EAAElP,SAAS;IACrBiP,QAAQ,EAAE7O,IAAI,CAACC,GAAG,CAACvB,KAAK,GAAG,IAAI,EAAE,EAAE,CAAC;IACpCsR,UAAU,EAAE,CAAC;IACb/B,SAAS,EAAE,CAAC;EACd,CAAC;EACDZ,eAAe,EAAE;IACf7B,QAAQ,EAAE,UAAU;IACpBF,GAAG,EAAE,CAAC;IACN9J,IAAI,EAAE,CAAC;IACPC,KAAK,EAAE,CAAC;IACRkN,MAAM,EAAE,CAAC;IACTlD,eAAe,EAAE,qBAAqB;IACtC8C,cAAc,EAAE,QAAQ;IACxBP,UAAU,EAAE,QAAQ;IACpBtC,YAAY,EAAEvM,sBAAsB,CAAC,EAAE;EACzC,CAAC;EACDqO,WAAW,EAAE;IACXQ,UAAU,EAAE,QAAQ;IACpBO,cAAc,EAAE,QAAQ;IACxBW,WAAW,EAAE,CAAC;IACdC,WAAW,EAAE,SAAS;IACtBzD,YAAY,EAAE,EAAE;IAChBD,eAAe,EAAE,SAAS;IAC1B+C,OAAO,EAAEzP,OAAO,CAACwQ,EAAE;IACnB7Q,KAAK,EAAE,KAAK;IACZ8Q,WAAW,EAAE,SAAS;IACtBC,aAAa,EAAE,GAAG;IAClBC,YAAY,EAAE,EAAE;IAChBC,YAAY,EAAE;MAAEjR,KAAK,EAAE,CAAC;MAAEE,MAAM,EAAE;IAAE;EACtC,CAAC;EACD6O,YAAY,EAAE;IACZsB,KAAK,EAAE,SAAS;IAChBF,QAAQ,EAAE3P,SAAS,CAAC,EAAE,CAAC;IACvB4P,UAAU,EAAElP,SAAS;IACrBqP,aAAa,EAAE,CAAC;IAChBK,cAAc,EAAE;EAClB;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}