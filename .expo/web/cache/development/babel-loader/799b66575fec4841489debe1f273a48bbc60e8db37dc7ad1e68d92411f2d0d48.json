{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Documents\\\\Tricade\\\\src\\\\views\\\\ProfileScreen.js\";\nimport React, { useState, useEffect, createContext, useContext, useRef } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport RetroButton from '../components/RetroButton';\nimport userPinkIcon from '../assets/user-pink.png';\nimport { auth, db, storage } from '../firebaseConfig';\nimport { updateProfile, onAuthStateChanged, signOut } from 'firebase/auth';\nimport { ref, uploadBytes, getDownloadURL, getStorage } from 'firebase/storage';\nimport * as ImagePicker from 'expo-image-picker';\nimport { doc, getDoc, setDoc, increment, updateDoc } from 'firebase/firestore';\nimport editarRosaIcon from '../assets/editar_rosa.png';\nimport { screenWidth as width, screenHeight as height, wp, hp, SPACING, FONT_SIZES, scaleDimension, scaleFont, getResponsiveDimension } from '../utils/dimensions';\nimport { Audio } from 'expo-av';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { AudioContext } from '../../App';\nimport BottomTabBar from '../components/BottomTabBar';\nimport { GAME_SCORES, getExpForLevel, SPECIAL_AVATARS } from '../utils/scoreConfig';\nimport { checkAndUpdateMissions } from '../utils/missions';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar pixelFont = 'PressStart2P_400Regular';\nvar pixelStroke = [{\n  textShadowOffset: {\n    width: -4,\n    height: 0\n  },\n  textShadowColor: '#000',\n  textShadowRadius: 0\n}, {\n  textShadowOffset: {\n    width: 4,\n    height: 0\n  },\n  textShadowColor: '#000',\n  textShadowRadius: 0\n}, {\n  textShadowOffset: {\n    width: 0,\n    height: -4\n  },\n  textShadowColor: '#000',\n  textShadowRadius: 0\n}, {\n  textShadowOffset: {\n    width: 0,\n    height: 4\n  },\n  textShadowColor: '#000',\n  textShadowRadius: 0\n}, {\n  textShadowOffset: {\n    width: -4,\n    height: -4\n  },\n  textShadowColor: '#000',\n  textShadowRadius: 0\n}, {\n  textShadowOffset: {\n    width: 4,\n    height: -4\n  },\n  textShadowColor: '#000',\n  textShadowRadius: 0\n}, {\n  textShadowOffset: {\n    width: -4,\n    height: 4\n  },\n  textShadowColor: '#000',\n  textShadowRadius: 0\n}, {\n  textShadowOffset: {\n    width: 4,\n    height: 4\n  },\n  textShadowColor: '#000',\n  textShadowRadius: 0\n}];\nvar defaultAvatar = require('../assets/user-pink.png');\nvar avatarOptions = [require('../assets/user-blue.png'), require('../assets/user-pink.png')];\nvar audioOnIcon = require('../assets/audio-on.png');\nvar audioOffIcon = require('../assets/audio-off.png');\nvar audioGame = require('../assets/audio-game.mp3');\nexport var UserCacheContext = createContext();\nexport function useUserCache() {\n  return useContext(UserCacheContext);\n}\nexport default function ProfileScreen(_ref) {\n  var _this = this;\n  var navigation = _ref.navigation,\n    isTab = _ref.isTab;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    currentUser = _useState2[0],\n    setCurrentUser = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    username = _useState4[0],\n    setUsername = _useState4[1];\n  var _useState5 = useState(userPinkIcon),\n    _useState6 = _slicedToArray(_useState5, 2),\n    avatar = _useState6[0],\n    setAvatar = _useState6[1];\n  var _useState7 = useState(0),\n    _useState8 = _slicedToArray(_useState7, 2),\n    level = _useState8[0],\n    setLevel = _useState8[1];\n  var _useState9 = useState(0),\n    _useState0 = _slicedToArray(_useState9, 2),\n    exp = _useState0[0],\n    setExp = _useState0[1];\n  var _useState1 = useState(600),\n    _useState10 = _slicedToArray(_useState1, 2),\n    expMax = _useState10[0],\n    setExpMax = _useState10[1];\n  var _useState11 = useState(false),\n    _useState12 = _slicedToArray(_useState11, 2),\n    modalVisible = _useState12[0],\n    setModalVisible = _useState12[1];\n  var _useState13 = useState(''),\n    _useState14 = _slicedToArray(_useState13, 2),\n    editName = _useState14[0],\n    setEditName = _useState14[1];\n  var _useState15 = useState(null),\n    _useState16 = _slicedToArray(_useState15, 2),\n    editAvatar = _useState16[0],\n    setEditAvatar = _useState16[1];\n  var _useState17 = useState(0),\n    _useState18 = _slicedToArray(_useState17, 2),\n    selectedAvatarIndex = _useState18[0],\n    setSelectedAvatarIndex = _useState18[1];\n  var _useState19 = useState(false),\n    _useState20 = _slicedToArray(_useState19, 2),\n    loggingOut = _useState20[0],\n    setLoggingOut = _useState20[1];\n  var _useState21 = useState(null),\n    _useState22 = _slicedToArray(_useState21, 2),\n    userCache = _useState22[0],\n    setUserCache = _useState22[1];\n  var _useContext = useContext(AudioContext),\n    audioOn = _useContext.audioOn,\n    toggleAudio = _useContext.toggleAudio;\n  var fadeAnim = useRef(new Animated.Value(1)).current;\n  useEffect(function () {\n    var unsubscribe = onAuthStateChanged(auth, function () {\n      var _ref2 = _asyncToGenerator(function* (user) {\n        if (user) {\n          setCurrentUser(user);\n          var displayName = user.displayName;\n          var userLevel = 0;\n          var userExp = 0;\n          var userDoc = yield getDoc(doc(db, 'users', user.uid));\n          if (userDoc.exists()) {\n            var _data$level, _data$exp;\n            var data = userDoc.data();\n            displayName = data.displayName || displayName;\n            userLevel = (_data$level = data.level) != null ? _data$level : 0;\n            userExp = (_data$exp = data.exp) != null ? _data$exp : 0;\n            if (data.avatarSpecial) {\n              var specialImg = null;\n              if (data.avatarSpecial === 'hidden.1.jpg') specialImg = require('../assets/hidden.1.jpg');else if (data.avatarSpecial === 'hidden.2.jpg') specialImg = require('../assets/hidden.2.jpg');else if (data.avatarSpecial === 'hidden.3.jpg') specialImg = require('../assets/hidden.3.jpg');\n              if (specialImg) setAvatar(specialImg);else if (user.photoURL) setAvatar({\n                uri: user.photoURL\n              });else setAvatar(userPinkIcon);\n            } else if (user.photoURL) {\n              setAvatar({\n                uri: user.photoURL\n              });\n            } else {\n              setAvatar(userPinkIcon);\n            }\n            if (displayName && user.displayName !== displayName) {\n              yield updateProfile(user, {\n                displayName: displayName\n              });\n            }\n          }\n          setUsername(displayName || '');\n          setEditName(displayName || '');\n          setLevel(userLevel);\n          setExp(userExp);\n          setUserCache({\n            uid: user.uid,\n            displayName: displayName,\n            level: userLevel,\n            exp: userExp,\n            photoURL: user.photoURL || null,\n            avatar: user.photoURL ? {\n              uri: user.photoURL\n            } : userPinkIcon\n          });\n        } else {\n          if (!isTab) {\n            navigation.replace && navigation.replace('Login');\n          } else {\n            setCurrentUser(null);\n          }\n          setUserCache(null);\n        }\n      });\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n    return function () {\n      unsubscribe();\n    };\n  }, [navigation, isTab]);\n  var activeTab = 'user';\n  if (navigation && navigation.getState) {\n    var route = navigation.getState().routes[navigation.getState().index];\n    if (route && route.name === 'Profile') activeTab = 'user';else if (route && route.name === 'Games') activeTab = 'home';else if (route && route.name === 'Home') activeTab = 'trophy';\n  }\n  var openEdit = function openEdit() {\n    var cache = userCache || {};\n    setEditName(cache.displayName || username);\n    setEditAvatar(cache.avatar || avatar);\n    setModalVisible(true);\n  };\n  var pickImage = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      if (Platform.OS === 'web') {\n        var input = document.createElement('input');\n        input.type = 'file';\n        input.accept = 'image/*';\n        input.onchange = function () {\n          var _ref4 = _asyncToGenerator(function* (e) {\n            var file = e.target.files[0];\n            if (file) {\n              try {\n                var _storage = getStorage();\n                var storageRef = ref(_storage, `avatars/${currentUser.uid}.jpg`);\n                yield uploadBytes(storageRef, file);\n                var url = yield getDownloadURL(storageRef);\n                yield updateProfile(currentUser, {\n                  photoURL: url\n                });\n                setAvatar({\n                  uri: url\n                });\n                if (currentUser && currentUser.uid) {\n                  yield setDoc(doc(db, 'users', currentUser.uid), {\n                    photoURL: url\n                  }, {\n                    merge: true\n                  });\n                }\n              } catch (error) {\n                console.error('Error al subir la imagen:', error);\n              }\n            }\n          });\n          return function (_x2) {\n            return _ref4.apply(this, arguments);\n          };\n        }();\n        input.click();\n      } else {\n        var result = yield ImagePicker.launchImageLibraryAsync({\n          mediaTypes: ImagePicker.MediaTypeOptions.Images,\n          allowsEditing: true,\n          aspect: [1, 1],\n          quality: 0.7\n        });\n        if (!result.canceled && result.assets && result.assets.length > 0) {\n          var image = result.assets[0];\n          try {\n            var _storage2 = getStorage();\n            var storageRef = ref(_storage2, `avatars/${currentUser.uid}.jpg`);\n            var response = yield fetch(image.uri);\n            var blob = yield response.blob();\n            yield uploadBytes(storageRef, blob);\n            var url = yield getDownloadURL(storageRef);\n            yield updateProfile(currentUser, {\n              photoURL: url\n            });\n            setAvatar({\n              uri: url\n            });\n            if (currentUser && currentUser.uid) {\n              yield setDoc(doc(db, 'users', currentUser.uid), {\n                photoURL: url\n              }, {\n                merge: true\n              });\n            }\n          } catch (error) {\n            console.error('Error al subir la imagen:', error);\n          }\n        }\n      }\n    });\n    return function pickImage() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var saveEdit = function () {\n    var _ref5 = _asyncToGenerator(function* () {\n      var newName = editName.trim() ? editName : username;\n      setUsername(newName);\n      setAvatar(editAvatar);\n      setModalVisible(false);\n      yield updateProfile(currentUser, {\n        displayName: newName\n      });\n      if (currentUser && currentUser.uid) {\n        yield setDoc(doc(db, 'users', currentUser.uid), {\n          displayName: newName\n        }, {\n          merge: true\n        });\n      }\n    });\n    return function saveEdit() {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n  var changeAvatarWithAnimation = function changeAvatarWithAnimation(newAvatar) {\n    Animated.sequence([Animated.timing(fadeAnim, {\n      toValue: 0,\n      duration: 500,\n      useNativeDriver: true\n    }), Animated.timing(fadeAnim, {\n      toValue: 1,\n      duration: 500,\n      useNativeDriver: true\n    })]).start();\n    setAvatar(newAvatar);\n  };\n  if (!currentUser) {\n    return _jsxDEV(SafeAreaView, {\n      style: {\n        flex: 1,\n        backgroundColor: '#0a0a23'\n      },\n      children: _jsxDEV(View, {\n        style: [styles.root, {\n          justifyContent: 'center',\n          alignItems: 'center'\n        }],\n        children: _jsxDEV(Text, {\n          style: [styles.title].concat(pixelStroke),\n          children: \"Cargando...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 7\n    }, this);\n  }\n  return _jsxDEV(UserCacheContext.Provider, {\n    value: userCache,\n    children: _jsxDEV(SafeAreaView, {\n      style: {\n        flex: 1,\n        backgroundColor: '#0a0a23'\n      },\n      children: _jsxDEV(View, {\n        style: styles.root,\n        children: [_jsxDEV(ScrollView, {\n          contentContainerStyle: [styles.scrollContent, {\n            paddingBottom: 120\n          }],\n          showsVerticalScrollIndicator: false,\n          children: [_jsxDEV(Text, {\n            style: [styles.title].concat(pixelStroke),\n            children: \"PERFIL DE USUARIO\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 13\n          }, this), _jsxDEV(Animated.View, {\n            style: [styles.avatarBox, {\n              opacity: fadeAnim\n            }],\n            children: _jsxDEV(Image, {\n              source: avatar,\n              style: styles.avatar,\n              resizeMode: \"contain\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 13\n          }, this), _jsxDEV(View, {\n            style: styles.usernameBox,\n            children: _jsxDEV(Text, {\n              style: [styles.username].concat(pixelStroke),\n              children: username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 13\n          }, this), _jsxDEV(View, {\n            style: styles.levelBox,\n            children: [_jsxDEV(View, {\n              style: styles.levelRow,\n              children: [_jsxDEV(Text, {\n                style: styles.levelText,\n                children: [\"Nivel \", level]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 17\n              }, this), _jsxDEV(Text, {\n                style: styles.expText,\n                children: [\"Exp \", exp, \"/\", expMax]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 15\n            }, this), _jsxDEV(View, {\n              style: styles.expBarBg,\n              children: _jsxDEV(View, {\n                style: [styles.expBarFill, {\n                  width: `${exp / expMax * 100}%`\n                }]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 13\n          }, this), _jsxDEV(TouchableOpacity, {\n            style: styles.editBtn,\n            activeOpacity: 0.7,\n            onPress: openEdit,\n            disabled: !currentUser,\n            children: _jsxDEV(View, {\n              style: {\n                flexDirection: 'row',\n                alignItems: 'center',\n                justifyContent: 'center'\n              },\n              children: [_jsxDEV(Text, {\n                style: styles.editBtnText,\n                children: \"Editar perfil\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 17\n              }, this), _jsxDEV(Image, {\n                source: editarRosaIcon,\n                style: styles.editIcon,\n                resizeMode: \"contain\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this), _jsxDEV(TouchableOpacity, {\n            style: styles.editBtn,\n            activeOpacity: 0.7,\n            onPress: toggleAudio,\n            children: _jsxDEV(View, {\n              style: {\n                flexDirection: 'row',\n                alignItems: 'center',\n                justifyContent: 'center'\n              },\n              children: [_jsxDEV(Text, {\n                style: styles.editBtnText,\n                children: audioOn ? 'Apagar sonido' : 'Encender sonido'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 17\n              }, this), _jsxDEV(Image, {\n                source: audioOn ? audioOnIcon : audioOffIcon,\n                style: [styles.editIcon, {\n                  tintColor: audioOn ? '#ff2e7e' : '#aaa'\n                }],\n                resizeMode: \"contain\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 13\n          }, this), !loggingOut && _jsxDEV(RetroButton, {\n            title: \"Salir\",\n            onPress: _asyncToGenerator(function* () {\n              setLoggingOut(true);\n              yield signOut(auth);\n              setLoggingOut(false);\n              if (!isTab) {\n                navigation.replace && navigation.replace('Login');\n              } else {\n                setCurrentUser(null);\n              }\n            }),\n            style: [styles.logoutBtn, {\n              alignSelf: 'center',\n              width: '90%',\n              marginTop: 18\n            }],\n            textStyle: styles.logoutBtnText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 15\n          }, this), _jsxDEV(Modal, {\n            visible: loggingOut,\n            transparent: true,\n            animationType: \"fade\",\n            children: _jsxDEV(View, {\n              style: styles.loadingOverlay,\n              children: _jsxDEV(View, {\n                style: styles.loadingBox,\n                children: [_jsxDEV(Text, {\n                  style: styles.loadingText,\n                  children: \"Cerrando sesi\\xF3n...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 19\n                }, this), _jsxDEV(View, {\n                  style: {\n                    marginTop: 18\n                  },\n                  children: _jsxDEV(ActivityIndicator, {\n                    size: \"large\",\n                    color: \"#ff2e7e\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 344,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 13\n          }, this), _jsxDEV(Modal, {\n            visible: modalVisible,\n            animationType: \"fade\",\n            transparent: true,\n            onRequestClose: function onRequestClose() {\n              return setModalVisible(false);\n            },\n            children: _jsxDEV(View, {\n              style: styles.modalOverlay,\n              children: _jsxDEV(View, {\n                style: styles.modalBox,\n                children: !username || !avatar ? _jsxDEV(View, {\n                  style: {\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    height: 120\n                  },\n                  children: [_jsxDEV(ActivityIndicator, {\n                    size: \"large\",\n                    color: \"#00fff7\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 361,\n                    columnNumber: 23\n                  }, this), _jsxDEV(Text, {\n                    style: {\n                      color: '#00fff7',\n                      fontFamily: pixelFont,\n                      marginTop: 18\n                    },\n                    children: \"Cargando perfil...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 362,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 360,\n                  columnNumber: 21\n                }, this) : _jsxDEV(_Fragment, {\n                  children: [_jsxDEV(Text, {\n                    style: [styles.modalTitle].concat(pixelStroke),\n                    children: \"Editar perfil\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 366,\n                    columnNumber: 23\n                  }, this), _jsxDEV(View, {\n                    style: styles.modalAvatarRow,\n                    children: avatarOptions.map(function (img, i) {\n                      return _jsxDEV(Pressable, {\n                        onPress: function onPress() {\n                          return setEditAvatar(img);\n                        },\n                        style: [styles.modalAvatarOption, editAvatar === img && styles.modalAvatarActive],\n                        children: _jsxDEV(Image, {\n                          source: img,\n                          style: styles.modalAvatarImg,\n                          resizeMode: \"contain\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 370,\n                          columnNumber: 29\n                        }, _this)\n                      }, i, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 369,\n                        columnNumber: 27\n                      }, _this);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 367,\n                    columnNumber: 23\n                  }, this), _jsxDEV(TextInput, {\n                    style: styles.modalInput,\n                    value: editName,\n                    onChangeText: setEditName,\n                    maxLength: 16,\n                    placeholder: \"Nombre de usuario\",\n                    placeholderTextColor: \"#00fff7\",\n                    autoFocus: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 374,\n                    columnNumber: 23\n                  }, this), _jsxDEV(TouchableOpacity, {\n                    onPress: pickImage,\n                    style: styles.editAvatarBtn,\n                    children: _jsxDEV(Text, {\n                      style: styles.editAvatarBtnText,\n                      children: \"Elegir foto de galer\\xEDa\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 384,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 383,\n                    columnNumber: 23\n                  }, this), _jsxDEV(View, {\n                    style: styles.modalBtnRowColumn,\n                    children: [_jsxDEV(RetroButton, {\n                      title: \"Guardar\",\n                      onPress: saveEdit\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 387,\n                      columnNumber: 25\n                    }, this), _jsxDEV(RetroButton, {\n                      title: \"Cancelar\",\n                      onPress: function onPress() {\n                        return setModalVisible(false);\n                      },\n                      style: styles.cancelBtn,\n                      textStyle: styles.cancelBtnText\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 388,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 386,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 11\n        }, this), !isTab && _jsxDEV(BottomTabBar, {\n          activeTab: activeTab,\n          onTabPress: function onTabPress(tab) {\n            if (tab === 'trophy') navigation.navigate('Home');\n            if (tab === 'home') navigation.navigate('Games');\n            if (tab === 'user') navigation.navigate('Profile');\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 267,\n    columnNumber: 5\n  }, this);\n}\nexport function addTrikiWinExp() {\n  return _addTrikiWinExp.apply(this, arguments);\n}\nfunction _addTrikiWinExp() {\n  _addTrikiWinExp = _asyncToGenerator(function* () {\n    if (!auth.currentUser) return;\n    var userRef = doc(db, 'users', auth.currentUser.uid);\n    var userDoc = yield getDoc(userRef);\n    var exp = 0,\n      level = 0;\n    if (userDoc.exists()) {\n      exp = userDoc.data().exp || 0;\n      level = userDoc.data().level || 0;\n    }\n    exp += GAME_SCORES.triki;\n    var newLevel = level;\n    var expMax = getExpForLevel(newLevel + 1);\n    if (exp >= expMax) {\n      exp -= expMax;\n      newLevel += 1;\n    }\n    var updates = {\n      exp: exp,\n      level: newLevel\n    };\n    var special = SPECIAL_AVATARS.find(function (a) {\n      return a.level === newLevel;\n    });\n    if (special) {\n      updates.photoURL = null;\n      updates.avatarSpecial = special.image;\n    }\n    yield setDoc(userRef, updates, {\n      merge: true\n    });\n    var statsRef = doc(db, 'users', auth.currentUser.uid, 'trikiStats', 'stats');\n    var statsDoc = yield getDoc(statsRef);\n    var prev = {\n      victorias: 0,\n      derrotas: 0\n    };\n    if (statsDoc.exists()) {\n      prev = statsDoc.data();\n    }\n    yield setDoc(statsRef, {\n      victorias: prev.victorias + 1,\n      derrotas: prev.derrotas\n    }, {\n      merge: true\n    });\n    var missionReward = yield checkAndUpdateMissions(auth.currentUser.uid, 'TRIKI', {\n      victorias: prev.victorias + 1,\n      derrotas: prev.derrotas\n    });\n    if (missionReward > 0) {\n      yield updateDoc(userRef, {\n        level: increment(missionReward)\n      });\n    }\n  });\n  return _addTrikiWinExp.apply(this, arguments);\n}\nvar styles = StyleSheet.create({\n  root: {\n    flex: 1,\n    backgroundColor: '#0a0a23',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    paddingTop: height * 0.04,\n    paddingBottom: 0,\n    width: '100%',\n    alignSelf: 'center'\n  },\n  title: {\n    color: '#fff',\n    fontFamily: pixelFont,\n    fontSize: Math.min(width * 0.07, 22),\n    letterSpacing: 2,\n    marginBottom: height * 0.025,\n    textAlign: 'center'\n  },\n  avatarBox: {\n    borderWidth: width * 0.015,\n    borderColor: '#00fff7',\n    borderRadius: width * 0.08,\n    padding: width * 0.02,\n    backgroundColor: '#23233a',\n    alignSelf: 'center',\n    marginBottom: height * 0.018,\n    shadowColor: '#00fff7',\n    shadowOpacity: 0.45,\n    shadowRadius: 16,\n    shadowOffset: {\n      width: 0,\n      height: 0\n    }\n  },\n  avatar: {\n    width: Math.min(width * 0.28, 80),\n    height: Math.min(width * 0.28, 80),\n    borderRadius: width * 0.06\n  },\n  usernameBox: {\n    alignSelf: 'center',\n    marginVertical: height * 0.012,\n    borderWidth: width * 0.01,\n    borderColor: '#00fff7',\n    borderRadius: width * 0.03,\n    paddingHorizontal: width * 0.04,\n    paddingVertical: height * 0.01,\n    backgroundColor: '#23233a'\n  },\n  username: {\n    color: '#00fff7',\n    fontFamily: pixelFont,\n    fontSize: Math.min(width * 0.055, 18),\n    textAlign: 'center'\n  },\n  levelBox: {\n    width: '90%',\n    alignSelf: 'center',\n    marginVertical: height * 0.018,\n    borderWidth: width * 0.01,\n    borderColor: '#00fff7',\n    borderRadius: width * 0.04,\n    backgroundColor: '#23233a',\n    padding: width * 0.03\n  },\n  levelRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 6\n  },\n  levelText: {\n    color: '#ff2e7e',\n    fontFamily: pixelFont,\n    fontSize: Math.min(width * 0.045, 14)\n  },\n  expText: {\n    color: '#ff2e7e',\n    fontFamily: pixelFont,\n    fontSize: Math.min(width * 0.035, 12)\n  },\n  expBarBg: {\n    width: '100%',\n    height: Math.max(10, height * 0.015),\n    backgroundColor: '#101926',\n    borderRadius: width * 0.03,\n    overflow: 'hidden',\n    borderWidth: width * 0.008,\n    borderColor: '#ff2e7e'\n  },\n  expBarFill: {\n    height: '100%',\n    backgroundColor: '#ff2e7e',\n    borderRadius: width * 0.03\n  },\n  editBtn: {\n    width: '90%',\n    alignSelf: 'center',\n    marginTop: height * 0.012,\n    marginBottom: height * 0.012,\n    borderWidth: width * 0.01,\n    borderColor: '#00fff7',\n    borderRadius: width * 0.03,\n    backgroundColor: '#101926',\n    paddingVertical: height * 0.018,\n    paddingHorizontal: width * 0.04\n  },\n  editBtnText: {\n    color: '#fff',\n    fontFamily: pixelFont,\n    fontSize: Math.min(width * 0.038, 13),\n    textAlign: 'center'\n  },\n  bottomTab: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: '94%',\n    backgroundColor: 'transparent',\n    borderRadius: width * 0.045,\n    borderWidth: width * 0.01,\n    borderColor: '#00fff7',\n    paddingVertical: height * 0.012,\n    paddingHorizontal: width * 0.045,\n    alignSelf: 'center',\n    marginTop: 'auto',\n    shadowColor: '#00fff7',\n    shadowOpacity: 0.25,\n    shadowRadius: 10,\n    shadowOffset: {\n      width: 0,\n      height: 0\n    }\n  },\n  tabBtn: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingVertical: height * 0.012,\n    minHeight: 40\n  },\n  tabBtnActive: {\n    borderBottomWidth: 4,\n    borderBottomColor: '#ff2e7e',\n    shadowColor: '#ff2e7e',\n    shadowOpacity: 0.7,\n    shadowRadius: 10,\n    shadowOffset: {\n      width: 0,\n      height: 0\n    }\n  },\n  tabIcon: {\n    width: width * 0.09,\n    height: width * 0.09\n  },\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(10,10,35,0.92)',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  modalBox: {\n    width: Math.min(width * 0.88, 340),\n    backgroundColor: '#23233a',\n    borderRadius: Math.max(18, width * 0.045),\n    borderWidth: 4,\n    borderColor: '#00fff7',\n    padding: 22,\n    alignItems: 'center',\n    shadowColor: '#00fff7',\n    shadowOpacity: 0.45,\n    shadowRadius: 16,\n    shadowOffset: {\n      width: 0,\n      height: 0\n    }\n  },\n  modalTitle: {\n    color: '#ff2e7e',\n    fontFamily: pixelFont,\n    fontSize: Math.min(width * 0.055, 22),\n    marginBottom: 18,\n    textAlign: 'center'\n  },\n  modalAvatarRow: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: 18,\n    gap: 12\n  },\n  modalAvatarOption: {\n    borderWidth: 2,\n    borderColor: '#00fff7',\n    borderRadius: 16,\n    padding: 4,\n    marginHorizontal: 6,\n    backgroundColor: '#101926'\n  },\n  modalAvatarActive: {\n    borderColor: '#ff2e7e',\n    backgroundColor: '#18182e',\n    shadowColor: '#ff2e7e',\n    shadowOpacity: 0.7,\n    shadowRadius: 8,\n    shadowOffset: {\n      width: 0,\n      height: 0\n    }\n  },\n  modalAvatarImg: {\n    width: 48,\n    height: 48,\n    borderRadius: 12\n  },\n  modalInput: {\n    width: '90%',\n    borderWidth: 2,\n    borderColor: '#00fff7',\n    borderRadius: 10,\n    backgroundColor: '#101926',\n    color: '#00fff7',\n    fontFamily: pixelFont,\n    fontSize: Math.min(width * 0.045, 18),\n    paddingVertical: 10,\n    paddingHorizontal: 12,\n    marginBottom: 18,\n    textAlign: 'center'\n  },\n  modalBtnRowColumn: {\n    flexDirection: 'column',\n    width: '100%',\n    gap: 10,\n    marginTop: 8\n  },\n  editAvatarBtn: {\n    marginTop: 10,\n    marginBottom: 10,\n    paddingVertical: 8,\n    paddingHorizontal: 18,\n    borderRadius: 8,\n    borderWidth: 2,\n    borderColor: '#00fff7',\n    backgroundColor: '#181828',\n    alignSelf: 'center'\n  },\n  editAvatarBtnText: {\n    color: '#00fff7',\n    fontFamily: pixelFont,\n    fontSize: Math.min(width * 0.038, 16),\n    textAlign: 'center'\n  },\n  cancelBtn: {\n    backgroundColor: '#ff2e7e',\n    borderColor: '#ff2e7e',\n    marginTop: 6\n  },\n  cancelBtnText: {\n    color: '#fff',\n    fontFamily: pixelFont,\n    fontSize: Math.min(width * 0.038, 16),\n    textAlign: 'center'\n  },\n  logoutBtn: {\n    backgroundColor: '#ff2e7e',\n    borderColor: '#ff2e7e',\n    marginTop: 16\n  },\n  logoutBtnText: {\n    color: '#fff',\n    fontFamily: pixelFont,\n    fontSize: Math.min(width * 0.038, 16),\n    textAlign: 'center'\n  },\n  loadingOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(10,10,35,0.92)',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  loadingBox: {\n    backgroundColor: '#23233a',\n    borderRadius: 18,\n    borderWidth: 4,\n    borderColor: '#ff2e7e',\n    padding: 32,\n    alignItems: 'center',\n    shadowColor: '#ff2e7e',\n    shadowOpacity: 0.45,\n    shadowRadius: 16,\n    shadowOffset: {\n      width: 0,\n      height: 0\n    }\n  },\n  loadingText: {\n    color: '#ff2e7e',\n    fontFamily: pixelFont,\n    fontSize: Math.min(width * 0.045, 18),\n    textAlign: 'center',\n    marginBottom: 8\n  },\n  editIcon: {\n    width: 28,\n    height: 28,\n    marginLeft: 14,\n    marginBottom: -3\n  },\n  cornerDotTL: {\n    position: 'absolute',\n    top: hp(2.5),\n    left: wp(4),\n    width: scaleDimension(12),\n    height: scaleDimension(12),\n    backgroundColor: '#ff2e7e',\n    borderRadius: scaleDimension(6),\n    zIndex: 2\n  },\n  cornerDotTR: {\n    position: 'absolute',\n    top: hp(2.5),\n    right: wp(4),\n    width: scaleDimension(12),\n    height: scaleDimension(12),\n    backgroundColor: '#00fff7',\n    borderRadius: scaleDimension(6),\n    zIndex: 2\n  },\n  cornerDotBL: {\n    position: 'absolute',\n    bottom: hp(2.5),\n    left: wp(4),\n    width: scaleDimension(12),\n    height: scaleDimension(12),\n    backgroundColor: '#00fff7',\n    borderRadius: scaleDimension(6),\n    zIndex: 2\n  },\n  cornerDotBR: {\n    position: 'absolute',\n    bottom: hp(2.5),\n    right: wp(4),\n    width: scaleDimension(12),\n    height: scaleDimension(12),\n    backgroundColor: '#ff2e7e',\n    borderRadius: scaleDimension(6),\n    zIndex: 2\n  },\n  scrollContent: {\n    flexGrow: 1,\n    paddingBottom: height * 0.04\n  },\n  audioContainer: {\n    width: '100%',\n    alignItems: 'center',\n    paddingVertical: 10,\n    backgroundColor: '#0a0a23',\n    borderBottomWidth: 1,\n    borderBottomColor: '#18182e'\n  },\n  audioButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: '90%',\n    backgroundColor: '#18182e',\n    borderRadius: 10,\n    borderWidth: 2,\n    borderColor: '#00fff7',\n    padding: 12\n  },\n  audioText: {\n    color: '#fff',\n    fontFamily: pixelFont,\n    fontSize: 20\n  },\n  audioIcon: {\n    width: 32,\n    height: 32,\n    marginLeft: 8\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","createContext","useContext","useRef","View","Text","StyleSheet","Image","Dimensions","TouchableOpacity","Modal","TextInput","Pressable","Platform","SafeAreaView","ActivityIndicator","ScrollView","Animated","RetroButton","userPinkIcon","auth","db","storage","updateProfile","onAuthStateChanged","signOut","ref","uploadBytes","getDownloadURL","getStorage","ImagePicker","doc","getDoc","setDoc","increment","updateDoc","editarRosaIcon","screenWidth","width","screenHeight","height","wp","hp","SPACING","FONT_SIZES","scaleDimension","scaleFont","getResponsiveDimension","Audio","AsyncStorage","AudioContext","BottomTabBar","GAME_SCORES","getExpForLevel","SPECIAL_AVATARS","checkAndUpdateMissions","jsxDEV","_jsxDEV","Fragment","_Fragment","pixelFont","pixelStroke","textShadowOffset","textShadowColor","textShadowRadius","defaultAvatar","require","avatarOptions","audioOnIcon","audioOffIcon","audioGame","UserCacheContext","useUserCache","ProfileScreen","_ref","_this","navigation","isTab","_useState","_useState2","_slicedToArray","currentUser","setCurrentUser","_useState3","_useState4","username","setUsername","_useState5","_useState6","avatar","setAvatar","_useState7","_useState8","level","setLevel","_useState9","_useState0","exp","setExp","_useState1","_useState10","expMax","setExpMax","_useState11","_useState12","modalVisible","setModalVisible","_useState13","_useState14","editName","setEditName","_useState15","_useState16","editAvatar","setEditAvatar","_useState17","_useState18","selectedAvatarIndex","setSelectedAvatarIndex","_useState19","_useState20","loggingOut","setLoggingOut","_useState21","_useState22","userCache","setUserCache","_useContext","audioOn","toggleAudio","fadeAnim","Value","current","unsubscribe","_ref2","_asyncToGenerator","user","displayName","userLevel","userExp","userDoc","uid","exists","_data$level","_data$exp","data","avatarSpecial","specialImg","photoURL","uri","replace","_x","apply","arguments","activeTab","getState","route","routes","index","name","openEdit","cache","pickImage","_ref3","OS","input","document","createElement","type","accept","onchange","_ref4","e","file","target","files","storageRef","url","merge","error","console","_x2","click","result","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","Images","allowsEditing","aspect","quality","canceled","assets","length","image","response","fetch","blob","saveEdit","_ref5","newName","trim","changeAvatarWithAnimation","newAvatar","sequence","timing","toValue","duration","useNativeDriver","start","style","flex","backgroundColor","children","styles","root","justifyContent","alignItems","title","concat","fileName","_jsxFileName","lineNumber","columnNumber","Provider","value","contentContainerStyle","scrollContent","paddingBottom","showsVerticalScrollIndicator","avatarBox","opacity","source","resizeMode","usernameBox","levelBox","levelRow","levelText","expText","expBarBg","expBarFill","editBtn","activeOpacity","onPress","disabled","flexDirection","editBtnText","editIcon","tintColor","logoutBtn","alignSelf","marginTop","textStyle","logoutBtnText","visible","transparent","animationType","loadingOverlay","loadingBox","loadingText","size","color","onRequestClose","modalOverlay","modalBox","fontFamily","modalTitle","modalAvatarRow","map","img","i","modalAvatarOption","modalAvatarActive","modalAvatarImg","modalInput","onChangeText","maxLength","placeholder","placeholderTextColor","autoFocus","editAvatarBtn","editAvatarBtnText","modalBtnRowColumn","cancelBtn","cancelBtnText","onTabPress","tab","navigate","addTrikiWinExp","_addTrikiWinExp","userRef","triki","newLevel","updates","special","find","a","statsRef","statsDoc","prev","victorias","derrotas","missionReward","create","paddingTop","fontSize","Math","min","letterSpacing","marginBottom","textAlign","borderWidth","borderColor","borderRadius","padding","shadowColor","shadowOpacity","shadowRadius","shadowOffset","marginVertical","paddingHorizontal","paddingVertical","max","overflow","bottomTab","tabBtn","minHeight","tabBtnActive","borderBottomWidth","borderBottomColor","tabIcon","gap","marginHorizontal","marginLeft","cornerDotTL","position","top","left","zIndex","cornerDotTR","right","cornerDotBL","bottom","cornerDotBR","flexGrow","audioContainer","audioButton","audioText","audioIcon"],"sources":["C:/Users/Administrator/Documents/Tricade/src/views/ProfileScreen.js"],"sourcesContent":["import React, { useState, useEffect, createContext, useContext, useRef } from 'react';\r\nimport { View, Text, StyleSheet, Image, Dimensions, TouchableOpacity, Modal, TextInput, Pressable, Platform, SafeAreaView, ActivityIndicator, ScrollView, Animated } from 'react-native';\r\nimport RetroButton from '../components/RetroButton';\r\nimport userPinkIcon from '../assets/user-pink.png';\r\nimport { auth, db, storage } from '../firebaseConfig';\r\nimport { updateProfile, onAuthStateChanged, signOut } from 'firebase/auth';\r\nimport { ref, uploadBytes, getDownloadURL, getStorage } from 'firebase/storage';\r\nimport * as ImagePicker from 'expo-image-picker';\r\nimport { doc, getDoc, setDoc, increment, updateDoc } from 'firebase/firestore';\r\nimport editarRosaIcon from '../assets/editar_rosa.png';\r\nimport {\r\n  screenWidth as width,\r\n  screenHeight as height,\r\n  wp,\r\n  hp,\r\n  SPACING,\r\n  FONT_SIZES,\r\n  scaleDimension,\r\n  scaleFont,\r\n  getResponsiveDimension\r\n} from '../utils/dimensions';\r\nimport { Audio } from 'expo-av';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { AudioContext } from '../../App';\r\nimport BottomTabBar from '../components/BottomTabBar';\r\nimport { GAME_SCORES, getExpForLevel, SPECIAL_AVATARS } from '../utils/scoreConfig';\r\nimport { checkAndUpdateMissions } from '../utils/missions';\r\n\r\nconst pixelFont = 'PressStart2P_400Regular';\r\n\r\nconst pixelStroke = [\r\n  { textShadowOffset: { width: -4, height: 0 }, textShadowColor: '#000', textShadowRadius: 0 },\r\n  { textShadowOffset: { width: 4, height: 0 }, textShadowColor: '#000', textShadowRadius: 0 },\r\n  { textShadowOffset: { width: 0, height: -4 }, textShadowColor: '#000', textShadowRadius: 0 },\r\n  { textShadowOffset: { width: 0, height: 4 }, textShadowColor: '#000', textShadowRadius: 0 },\r\n  { textShadowOffset: { width: -4, height: -4 }, textShadowColor: '#000', textShadowRadius: 0 },\r\n  { textShadowOffset: { width: 4, height: -4 }, textShadowColor: '#000', textShadowRadius: 0 },\r\n  { textShadowOffset: { width: -4, height: 4 }, textShadowColor: '#000', textShadowRadius: 0 },\r\n  { textShadowOffset: { width: 4, height: 4 }, textShadowColor: '#000', textShadowRadius: 0 },\r\n];\r\n\r\nconst defaultAvatar = require('../assets/user-pink.png');\r\nconst avatarOptions = [\r\n  require('../assets/user-blue.png'),\r\n  require('../assets/user-pink.png'),\r\n];\r\n\r\nconst audioOnIcon = require('../assets/audio-on.png');\r\nconst audioOffIcon = require('../assets/audio-off.png');\r\nconst audioGame = require('../assets/audio-game.mp3');\r\n\r\n// Contexto global para el usuario\r\nexport const UserCacheContext = createContext();\r\nexport function useUserCache() { return useContext(UserCacheContext); }\r\n\r\nexport default function ProfileScreen({ navigation, isTab }) {\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const [username, setUsername] = useState('');\r\n  const [avatar, setAvatar] = useState(userPinkIcon);\r\n  const [level, setLevel] = useState(0);\r\n  const [exp, setExp] = useState(0);\r\n  const [expMax, setExpMax] = useState(600);\r\n\r\n  // Modal edición\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  const [editName, setEditName] = useState('');\r\n  const [editAvatar, setEditAvatar] = useState(null);\r\n  const [selectedAvatarIndex, setSelectedAvatarIndex] = useState(0);\r\n\r\n  const [loggingOut, setLoggingOut] = useState(false);\r\n\r\n  // Nuevo: usar caché global\r\n  const [userCache, setUserCache] = useState(null);\r\n\r\n  const { audioOn, toggleAudio } = useContext(AudioContext);\r\n\r\n  const fadeAnim = useRef(new Animated.Value(1)).current;\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = onAuthStateChanged(auth, async (user) => {\r\n      if (user) {\r\n        setCurrentUser(user);\r\n        let displayName = user.displayName;\r\n        let userLevel = 0;\r\n        let userExp = 0;\r\n        // Si no hay nombre en Auth, intentar obtenerlo desde Firestore\r\n        const userDoc = await getDoc(doc(db, 'users', user.uid));\r\n        if (userDoc.exists()) {\r\n          const data = userDoc.data();\r\n          displayName = data.displayName || displayName;\r\n          userLevel = data.level ?? 0;\r\n          userExp = data.exp ?? 0;\r\n          // Nuevo: priorizar avatar especial (string a require)\r\n          if (data.avatarSpecial) {\r\n            let specialImg = null;\r\n            if (data.avatarSpecial === 'hidden.1.jpg') specialImg = require('../assets/hidden.1.jpg');\r\n            else if (data.avatarSpecial === 'hidden.2.jpg') specialImg = require('../assets/hidden.2.jpg');\r\n            else if (data.avatarSpecial === 'hidden.3.jpg') specialImg = require('../assets/hidden.3.jpg');\r\n            if (specialImg) setAvatar(specialImg);\r\n            else if (user.photoURL) setAvatar({ uri: user.photoURL });\r\n            else setAvatar(userPinkIcon);\r\n          } else if (user.photoURL) {\r\n            setAvatar({ uri: user.photoURL });\r\n          } else {\r\n            setAvatar(userPinkIcon);\r\n          }\r\n          // Actualizar Auth con el nombre de Firestore\r\n          if (displayName && user.displayName !== displayName) {\r\n            await updateProfile(user, { displayName });\r\n          }\r\n        }\r\n        setUsername(displayName || '');\r\n        setEditName(displayName || '');\r\n        setLevel(userLevel);\r\n        setExp(userExp);\r\n        // Guardar en caché global\r\n        setUserCache({\r\n          uid: user.uid,\r\n          displayName,\r\n          level: userLevel,\r\n          exp: userExp,\r\n          photoURL: user.photoURL || null,\r\n          avatar: user.photoURL ? { uri: user.photoURL } : userPinkIcon\r\n        });\r\n      } else {\r\n        if (!isTab) {\r\n          navigation.replace && navigation.replace('Login');\r\n        } else {\r\n          setCurrentUser(null);\r\n        }\r\n        setUserCache(null);\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      unsubscribe();\r\n    };\r\n  }, [navigation, isTab]);\r\n\r\n  // Detectar pantalla activa por navigation (si navigation.getState existe)\r\n  let activeTab = 'user';\r\n  if (navigation && navigation.getState) {\r\n    const route = navigation.getState().routes[navigation.getState().index];\r\n    if (route && route.name === 'Profile') activeTab = 'user';\r\n    else if (route && route.name === 'Games') activeTab = 'home';\r\n    else if (route && route.name === 'Home') activeTab = 'trophy';\r\n  }\r\n\r\n  // Usar caché global para el modal\r\n  const openEdit = () => {\r\n    const cache = userCache || {};\r\n    setEditName(cache.displayName || username);\r\n    setEditAvatar(cache.avatar || avatar);\r\n    setModalVisible(true);\r\n  };\r\n\r\n  const pickImage = async () => {\r\n    if (Platform.OS === 'web') {\r\n      // En web, usamos un input file nativo\r\n      const input = document.createElement('input');\r\n      input.type = 'file';\r\n      input.accept = 'image/*';\r\n      input.onchange = async (e) => {\r\n        const file = e.target.files[0];\r\n        if (file) {\r\n          try {\r\n            const storage = getStorage();\r\n            const storageRef = ref(storage, `avatars/${currentUser.uid}.jpg`);\r\n            await uploadBytes(storageRef, file);\r\n            const url = await getDownloadURL(storageRef);\r\n            await updateProfile(currentUser, { photoURL: url });\r\n            setAvatar({ uri: url });\r\n            // Guarda la URL en Firestore\r\n            if (currentUser && currentUser.uid) {\r\n              await setDoc(\r\n                doc(db, 'users', currentUser.uid),\r\n                { photoURL: url },\r\n                { merge: true }\r\n              );\r\n            }\r\n          } catch (error) {\r\n            console.error('Error al subir la imagen:', error);\r\n          }\r\n        }\r\n      };\r\n      input.click();\r\n    } else {\r\n      // En móvil, usamos expo-image-picker\r\n      let result = await ImagePicker.launchImageLibraryAsync({\r\n        mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n        allowsEditing: true,\r\n        aspect: [1, 1],\r\n        quality: 0.7,\r\n      });\r\n      if (!result.canceled && result.assets && result.assets.length > 0) {\r\n        const image = result.assets[0];\r\n        try {\r\n          const storage = getStorage();\r\n          const storageRef = ref(storage, `avatars/${currentUser.uid}.jpg`);\r\n          const response = await fetch(image.uri);\r\n          const blob = await response.blob();\r\n          await uploadBytes(storageRef, blob);\r\n          const url = await getDownloadURL(storageRef);\r\n          await updateProfile(currentUser, { photoURL: url });\r\n          setAvatar({ uri: url });\r\n          // Guarda la URL en Firestore\r\n          if (currentUser && currentUser.uid) {\r\n            await setDoc(\r\n              doc(db, 'users', currentUser.uid),\r\n              { photoURL: url },\r\n              { merge: true }\r\n            );\r\n          }\r\n        } catch (error) {\r\n          console.error('Error al subir la imagen:', error);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const saveEdit = async () => {\r\n    const newName = editName.trim() ? editName : username;\r\n    setUsername(newName);\r\n    setAvatar(editAvatar);\r\n    setModalVisible(false);\r\n    // Actualiza el nombre en Firebase Auth\r\n    await updateProfile(currentUser, { displayName: newName });\r\n    // Actualiza el nombre en Firestore\r\n    if (currentUser && currentUser.uid) {\r\n      await setDoc(\r\n        doc(db, 'users', currentUser.uid),\r\n        { displayName: newName },\r\n        { merge: true }\r\n      );\r\n    }\r\n  };\r\n\r\n  // Función para cambiar el avatar con animación\r\n  const changeAvatarWithAnimation = (newAvatar) => {\r\n    Animated.sequence([\r\n      Animated.timing(fadeAnim, {\r\n        toValue: 0,\r\n        duration: 500,\r\n        useNativeDriver: true,\r\n      }),\r\n      Animated.timing(fadeAnim, {\r\n        toValue: 1,\r\n        duration: 500,\r\n        useNativeDriver: true,\r\n      }),\r\n    ]).start();\r\n    setAvatar(newAvatar);\r\n  };\r\n\r\n  // Si no hay usuario, mostrar pantalla de carga o nada\r\n  if (!currentUser) {\r\n    return (\r\n      <SafeAreaView style={{ flex: 1, backgroundColor: '#0a0a23' }}>\r\n        <View style={[styles.root, { justifyContent: 'center', alignItems: 'center' }]}>\r\n          <Text style={[styles.title, ...pixelStroke]}>Cargando...</Text>\r\n        </View>\r\n      </SafeAreaView>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <UserCacheContext.Provider value={userCache}>\r\n      <SafeAreaView style={{ flex: 1, backgroundColor: '#0a0a23' }}>\r\n        <View style={styles.root}>\r\n          <ScrollView contentContainerStyle={[styles.scrollContent, { paddingBottom: 120 }]} showsVerticalScrollIndicator={false}>\r\n            {/* Título */}\r\n            <Text style={[styles.title, ...pixelStroke]}>PERFIL DE USUARIO</Text>\r\n\r\n            {/* Avatar */}\r\n            <Animated.View style={[styles.avatarBox, { opacity: fadeAnim }]}>\r\n              <Image source={avatar} style={styles.avatar} resizeMode=\"contain\" />\r\n            </Animated.View>\r\n\r\n            {/* Nombre de usuario */}\r\n            <View style={styles.usernameBox}>\r\n              <Text style={[styles.username, ...pixelStroke]}>{username}</Text>\r\n            </View>\r\n\r\n            {/* Nivel y barra de experiencia */}\r\n            <View style={styles.levelBox}>\r\n              <View style={styles.levelRow}>\r\n                <Text style={styles.levelText}>Nivel {level}</Text>\r\n                <Text style={styles.expText}>Exp {exp}/{expMax}</Text>\r\n              </View>\r\n              <View style={styles.expBarBg}>\r\n                <View style={[styles.expBarFill, { width: `${(exp/expMax)*100}%` }]} />\r\n              </View>\r\n            </View>\r\n\r\n            {/* Botón Editar perfil */}\r\n            <TouchableOpacity style={styles.editBtn} activeOpacity={0.7} onPress={openEdit} disabled={!currentUser}>\r\n              <View style={{ flexDirection: 'row', alignItems: 'center', justifyContent: 'center' }}>\r\n                <Text style={styles.editBtnText}>Editar perfil</Text>\r\n                <Image source={editarRosaIcon} style={styles.editIcon} resizeMode=\"contain\" />\r\n              </View>\r\n            </TouchableOpacity>\r\n\r\n            {/* Botón de audio */}\r\n            <TouchableOpacity style={styles.editBtn} activeOpacity={0.7} onPress={toggleAudio}>\r\n              <View style={{ flexDirection: 'row', alignItems: 'center', justifyContent: 'center' }}>\r\n                <Text style={styles.editBtnText}>{audioOn ? 'Apagar sonido' : 'Encender sonido'}</Text>\r\n                <Image \r\n                  source={audioOn ? audioOnIcon : audioOffIcon} \r\n                  style={[styles.editIcon, { tintColor: audioOn ? '#ff2e7e' : '#aaa' }]} \r\n                  resizeMode=\"contain\" \r\n                />\r\n              </View>\r\n            </TouchableOpacity>\r\n\r\n            {/* Botón Salir */}\r\n            {!loggingOut && (\r\n              <RetroButton \r\n                title=\"Salir\" \r\n                onPress={async () => {\r\n                  setLoggingOut(true);\r\n                  await signOut(auth);\r\n                  setLoggingOut(false);\r\n                  if (!isTab) {\r\n                    navigation.replace && navigation.replace('Login');\r\n                  } else {\r\n                    setCurrentUser(null);\r\n                  }\r\n                }} \r\n                style={[styles.logoutBtn, { alignSelf: 'center', width: '90%', marginTop: 18 }]}\r\n                textStyle={styles.logoutBtnText}\r\n              />\r\n            )}\r\n\r\n            {/* Loading modal al cerrar sesión */}\r\n            <Modal\r\n              visible={loggingOut}\r\n              transparent\r\n              animationType=\"fade\"\r\n            >\r\n              <View style={styles.loadingOverlay}>\r\n                <View style={styles.loadingBox}>\r\n                  <Text style={styles.loadingText}>Cerrando sesión...</Text>\r\n                  <View style={{ marginTop: 18 }}>\r\n                    <ActivityIndicator size=\"large\" color=\"#ff2e7e\" />\r\n                  </View>\r\n                </View>\r\n              </View>\r\n            </Modal>\r\n\r\n            {/* Modal edición perfil */}\r\n            <Modal\r\n              visible={modalVisible}\r\n              animationType=\"fade\"\r\n              transparent\r\n              onRequestClose={() => setModalVisible(false)}\r\n            >\r\n              <View style={styles.modalOverlay}>\r\n                <View style={styles.modalBox}>\r\n                  {(!username || !avatar) ? (\r\n                    <View style={{ alignItems: 'center', justifyContent: 'center', height: 120 }}>\r\n                      <ActivityIndicator size=\"large\" color=\"#00fff7\" />\r\n                      <Text style={{ color: '#00fff7', fontFamily: pixelFont, marginTop: 18 }}>Cargando perfil...</Text>\r\n                    </View>\r\n                  ) : (\r\n                    <>\r\n                      <Text style={[styles.modalTitle, ...pixelStroke]}>Editar perfil</Text>\r\n                      <View style={styles.modalAvatarRow}>\r\n                        {avatarOptions.map((img, i) => (\r\n                          <Pressable key={i} onPress={() => setEditAvatar(img)} style={[styles.modalAvatarOption, editAvatar === img && styles.modalAvatarActive]}> \r\n                            <Image source={img} style={styles.modalAvatarImg} resizeMode=\"contain\" />\r\n                          </Pressable>\r\n                        ))}\r\n                      </View>\r\n                      <TextInput\r\n                        style={styles.modalInput}\r\n                        value={editName}\r\n                        onChangeText={setEditName}\r\n                        maxLength={16}\r\n                        placeholder=\"Nombre de usuario\"\r\n                        placeholderTextColor=\"#00fff7\"\r\n                        autoFocus\r\n                      />\r\n                      <TouchableOpacity onPress={pickImage} style={styles.editAvatarBtn}>\r\n                        <Text style={styles.editAvatarBtnText}>Elegir foto de galería</Text>\r\n                      </TouchableOpacity>\r\n                      <View style={styles.modalBtnRowColumn}>\r\n                        <RetroButton title=\"Guardar\" onPress={saveEdit} />\r\n                        <RetroButton title=\"Cancelar\" onPress={() => setModalVisible(false)} style={styles.cancelBtn} textStyle={styles.cancelBtnText} />\r\n                      </View>\r\n                    </>\r\n                  )}\r\n                </View>\r\n              </View>\r\n            </Modal>\r\n          </ScrollView>\r\n          {/* Menú inferior siempre visible */}\r\n          {(!isTab) && (\r\n            <BottomTabBar\r\n              activeTab={activeTab}\r\n              onTabPress={(tab) => {\r\n                if (tab === 'trophy') navigation.navigate('Home');\r\n                if (tab === 'home') navigation.navigate('Games');\r\n                if (tab === 'user') navigation.navigate('Profile');\r\n              }}\r\n            />\r\n          )}\r\n        </View>\r\n      </SafeAreaView>\r\n    </UserCacheContext.Provider>\r\n  );\r\n}\r\n\r\nexport async function addTrikiWinExp() {\r\n  if (!auth.currentUser) return;\r\n  const userRef = doc(db, 'users', auth.currentUser.uid);\r\n  const userDoc = await getDoc(userRef);\r\n  let exp = 0, level = 0;\r\n  if (userDoc.exists()) {\r\n    exp = userDoc.data().exp || 0;\r\n    level = userDoc.data().level || 0;\r\n  }\r\n  // Sumar puntos por victoria en Triki\r\n  exp += GAME_SCORES.triki;\r\n  let newLevel = level;\r\n  let expMax = getExpForLevel(newLevel + 1);\r\n  // Subir solo un nivel por victoria\r\n  if (exp >= expMax) {\r\n    exp -= expMax;\r\n    newLevel += 1;\r\n  }\r\n  // Cambiar avatar si corresponde\r\n  let updates = { exp, level: newLevel };\r\n  const special = SPECIAL_AVATARS.find(a => a.level === newLevel);\r\n  if (special) {\r\n    updates.photoURL = null;\r\n    updates.avatarSpecial = special.image;\r\n  }\r\n  await setDoc(userRef, updates, { merge: true });\r\n\r\n  // Actualizar estadísticas y trofeos\r\n  const statsRef = doc(db, 'users', auth.currentUser.uid, 'trikiStats', 'stats');\r\n  const statsDoc = await getDoc(statsRef);\r\n  let prev = { victorias: 0, derrotas: 0 };\r\n  if (statsDoc.exists()) {\r\n    prev = statsDoc.data();\r\n  }\r\n  await setDoc(statsRef, {\r\n    victorias: prev.victorias + 1,\r\n    derrotas: prev.derrotas\r\n  }, { merge: true });\r\n\r\n  // Verificar misiones\r\n  const missionReward = await checkAndUpdateMissions(\r\n    auth.currentUser.uid,\r\n    'TRIKI',\r\n    {\r\n      victorias: prev.victorias + 1,\r\n      derrotas: prev.derrotas\r\n    }\r\n  );\r\n\r\n  // Si hay recompensa por misiones, sumarla al nivel\r\n  if (missionReward > 0) {\r\n    await updateDoc(userRef, { level: increment(missionReward) });\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  root: {\r\n    flex: 1,\r\n    backgroundColor: '#0a0a23',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-start',\r\n    paddingTop: height * 0.04,\r\n    paddingBottom: 0,\r\n    width: '100%',\r\n    alignSelf: 'center',\r\n  },\r\n  title: {\r\n    color: '#fff',\r\n    fontFamily: pixelFont,\r\n    fontSize: Math.min(width * 0.07, 22),\r\n    letterSpacing: 2,\r\n    marginBottom: height * 0.025,\r\n    textAlign: 'center',\r\n  },\r\n  avatarBox: {\r\n    borderWidth: width * 0.015,\r\n    borderColor: '#00fff7',\r\n    borderRadius: width * 0.08,\r\n    padding: width * 0.02,\r\n    backgroundColor: '#23233a',\r\n    alignSelf: 'center',\r\n    marginBottom: height * 0.018,\r\n    shadowColor: '#00fff7',\r\n    shadowOpacity: 0.45,\r\n    shadowRadius: 16,\r\n    shadowOffset: { width: 0, height: 0 },\r\n  },\r\n  avatar: {\r\n    width: Math.min(width * 0.28, 80),\r\n    height: Math.min(width * 0.28, 80),\r\n    borderRadius: width * 0.06,\r\n  },\r\n  usernameBox: {\r\n    alignSelf: 'center',\r\n    marginVertical: height * 0.012,\r\n    borderWidth: width * 0.01,\r\n    borderColor: '#00fff7',\r\n    borderRadius: width * 0.03,\r\n    paddingHorizontal: width * 0.04,\r\n    paddingVertical: height * 0.01,\r\n    backgroundColor: '#23233a',\r\n  },\r\n  username: {\r\n    color: '#00fff7',\r\n    fontFamily: pixelFont,\r\n    fontSize: Math.min(width * 0.055, 18),\r\n    textAlign: 'center',\r\n  },\r\n  levelBox: {\r\n    width: '90%',\r\n    alignSelf: 'center',\r\n    marginVertical: height * 0.018,\r\n    borderWidth: width * 0.01,\r\n    borderColor: '#00fff7',\r\n    borderRadius: width * 0.04,\r\n    backgroundColor: '#23233a',\r\n    padding: width * 0.03,\r\n  },\r\n  levelRow: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginBottom: 6,\r\n  },\r\n  levelText: {\r\n    color: '#ff2e7e',\r\n    fontFamily: pixelFont,\r\n    fontSize: Math.min(width * 0.045, 14),\r\n  },\r\n  expText: {\r\n    color: '#ff2e7e',\r\n    fontFamily: pixelFont,\r\n    fontSize: Math.min(width * 0.035, 12),\r\n  },\r\n  expBarBg: {\r\n    width: '100%',\r\n    height: Math.max(10, height * 0.015),\r\n    backgroundColor: '#101926',\r\n    borderRadius: width * 0.03,\r\n    overflow: 'hidden',\r\n    borderWidth: width * 0.008,\r\n    borderColor: '#ff2e7e',\r\n  },\r\n  expBarFill: {\r\n    height: '100%',\r\n    backgroundColor: '#ff2e7e',\r\n    borderRadius: width * 0.03,\r\n  },\r\n  editBtn: {\r\n    width: '90%',\r\n    alignSelf: 'center',\r\n    marginTop: height * 0.012,\r\n    marginBottom: height * 0.012,\r\n    borderWidth: width * 0.01,\r\n    borderColor: '#00fff7',\r\n    borderRadius: width * 0.03,\r\n    backgroundColor: '#101926',\r\n    paddingVertical: height * 0.018,\r\n    paddingHorizontal: width * 0.04,\r\n  },\r\n  editBtnText: {\r\n    color: '#fff',\r\n    fontFamily: pixelFont,\r\n    fontSize: Math.min(width * 0.038, 13),\r\n    textAlign: 'center',\r\n  },\r\n  bottomTab: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    width: '94%',\r\n    backgroundColor: 'transparent',\r\n    borderRadius: width * 0.045,\r\n    borderWidth: width * 0.01,\r\n    borderColor: '#00fff7',\r\n    paddingVertical: height * 0.012,\r\n    paddingHorizontal: width * 0.045,\r\n    alignSelf: 'center',\r\n    marginTop: 'auto',\r\n    shadowColor: '#00fff7',\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 10,\r\n    shadowOffset: { width: 0, height: 0 },\r\n  },\r\n  tabBtn: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: height * 0.012,\r\n    minHeight: 40,\r\n  },\r\n  tabBtnActive: {\r\n    borderBottomWidth: 4,\r\n    borderBottomColor: '#ff2e7e',\r\n    shadowColor: '#ff2e7e',\r\n    shadowOpacity: 0.7,\r\n    shadowRadius: 10,\r\n    shadowOffset: { width: 0, height: 0 },\r\n  },\r\n  tabIcon: {\r\n    width: width * 0.09,\r\n    height: width * 0.09,\r\n  },\r\n  modalOverlay: {\r\n    flex: 1,\r\n    backgroundColor: 'rgba(10,10,35,0.92)',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  modalBox: {\r\n    width: Math.min(width * 0.88, 340),\r\n    backgroundColor: '#23233a',\r\n    borderRadius: Math.max(18, width * 0.045),\r\n    borderWidth: 4,\r\n    borderColor: '#00fff7',\r\n    padding: 22,\r\n    alignItems: 'center',\r\n    shadowColor: '#00fff7',\r\n    shadowOpacity: 0.45,\r\n    shadowRadius: 16,\r\n    shadowOffset: { width: 0, height: 0 },\r\n  },\r\n  modalTitle: {\r\n    color: '#ff2e7e',\r\n    fontFamily: pixelFont,\r\n    fontSize: Math.min(width * 0.055, 22),\r\n    marginBottom: 18,\r\n    textAlign: 'center',\r\n  },\r\n  modalAvatarRow: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginBottom: 18,\r\n    gap: 12,\r\n  },\r\n  modalAvatarOption: {\r\n    borderWidth: 2,\r\n    borderColor: '#00fff7',\r\n    borderRadius: 16,\r\n    padding: 4,\r\n    marginHorizontal: 6,\r\n    backgroundColor: '#101926',\r\n  },\r\n  modalAvatarActive: {\r\n    borderColor: '#ff2e7e',\r\n    backgroundColor: '#18182e',\r\n    shadowColor: '#ff2e7e',\r\n    shadowOpacity: 0.7,\r\n    shadowRadius: 8,\r\n    shadowOffset: { width: 0, height: 0 },\r\n  },\r\n  modalAvatarImg: {\r\n    width: 48,\r\n    height: 48,\r\n    borderRadius: 12,\r\n  },\r\n  modalInput: {\r\n    width: '90%',\r\n    borderWidth: 2,\r\n    borderColor: '#00fff7',\r\n    borderRadius: 10,\r\n    backgroundColor: '#101926',\r\n    color: '#00fff7',\r\n    fontFamily: pixelFont,\r\n    fontSize: Math.min(width * 0.045, 18),\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 12,\r\n    marginBottom: 18,\r\n    textAlign: 'center',\r\n  },\r\n  modalBtnRowColumn: {\r\n    flexDirection: 'column',\r\n    width: '100%',\r\n    gap: 10,\r\n    marginTop: 8,\r\n  },\r\n  editAvatarBtn: {\r\n    marginTop: 10,\r\n    marginBottom: 10,\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 18,\r\n    borderRadius: 8,\r\n    borderWidth: 2,\r\n    borderColor: '#00fff7',\r\n    backgroundColor: '#181828',\r\n    alignSelf: 'center',\r\n  },\r\n  editAvatarBtnText: {\r\n    color: '#00fff7',\r\n    fontFamily: pixelFont,\r\n    fontSize: Math.min(width * 0.038, 16),\r\n    textAlign: 'center',\r\n  },\r\n  cancelBtn: {\r\n    backgroundColor: '#ff2e7e',\r\n    borderColor: '#ff2e7e',\r\n    marginTop: 6,\r\n  },\r\n  cancelBtnText: {\r\n    color: '#fff',\r\n    fontFamily: pixelFont,\r\n    fontSize: Math.min(width * 0.038, 16),\r\n    textAlign: 'center',\r\n  },\r\n  logoutBtn: {\r\n    backgroundColor: '#ff2e7e',\r\n    borderColor: '#ff2e7e',\r\n    marginTop: 16,\r\n  },\r\n  logoutBtnText: {\r\n    color: '#fff',\r\n    fontFamily: pixelFont,\r\n    fontSize: Math.min(width * 0.038, 16),\r\n    textAlign: 'center',\r\n  },\r\n  loadingOverlay: {\r\n    flex: 1,\r\n    backgroundColor: 'rgba(10,10,35,0.92)',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  loadingBox: {\r\n    backgroundColor: '#23233a',\r\n    borderRadius: 18,\r\n    borderWidth: 4,\r\n    borderColor: '#ff2e7e',\r\n    padding: 32,\r\n    alignItems: 'center',\r\n    shadowColor: '#ff2e7e',\r\n    shadowOpacity: 0.45,\r\n    shadowRadius: 16,\r\n    shadowOffset: { width: 0, height: 0 },\r\n  },\r\n  loadingText: {\r\n    color: '#ff2e7e',\r\n    fontFamily: pixelFont,\r\n    fontSize: Math.min(width * 0.045, 18),\r\n    textAlign: 'center',\r\n    marginBottom: 8,\r\n  },\r\n  editIcon: {\r\n    width: 28,\r\n    height: 28,\r\n    marginLeft: 14,\r\n    marginBottom: -3,\r\n  },\r\n  cornerDotTL: {\r\n    position: 'absolute',\r\n    top: hp(2.5),\r\n    left: wp(4),\r\n    width: scaleDimension(12),\r\n    height: scaleDimension(12),\r\n    backgroundColor: '#ff2e7e',\r\n    borderRadius: scaleDimension(6),\r\n    zIndex: 2,\r\n  },\r\n  cornerDotTR: {\r\n    position: 'absolute',\r\n    top: hp(2.5),\r\n    right: wp(4),\r\n    width: scaleDimension(12),\r\n    height: scaleDimension(12),\r\n    backgroundColor: '#00fff7',\r\n    borderRadius: scaleDimension(6),\r\n    zIndex: 2,\r\n  },\r\n  cornerDotBL: {\r\n    position: 'absolute',\r\n    bottom: hp(2.5),\r\n    left: wp(4),\r\n    width: scaleDimension(12),\r\n    height: scaleDimension(12),\r\n    backgroundColor: '#00fff7',\r\n    borderRadius: scaleDimension(6),\r\n    zIndex: 2,\r\n  },\r\n  cornerDotBR: {\r\n    position: 'absolute',\r\n    bottom: hp(2.5),\r\n    right: wp(4),\r\n    width: scaleDimension(12),\r\n    height: scaleDimension(12),\r\n    backgroundColor: '#ff2e7e',\r\n    borderRadius: scaleDimension(6),\r\n    zIndex: 2,\r\n  },\r\n  scrollContent: {\r\n    flexGrow: 1,\r\n    paddingBottom: height * 0.04,\r\n  },\r\n  audioContainer: {\r\n    width: '100%',\r\n    alignItems: 'center',\r\n    paddingVertical: 10,\r\n    backgroundColor: '#0a0a23',\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: '#18182e',\r\n  },\r\n  audioButton: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    width: '90%',\r\n    backgroundColor: '#18182e',\r\n    borderRadius: 10,\r\n    borderWidth: 2,\r\n    borderColor: '#00fff7',\r\n    padding: 12,\r\n  },\r\n  audioText: {\r\n    color: '#fff',\r\n    fontFamily: pixelFont,\r\n    fontSize: 20,\r\n  },\r\n  audioIcon: {\r\n    width: 32,\r\n    height: 32,\r\n    marginLeft: 8,\r\n  },\r\n}); "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}