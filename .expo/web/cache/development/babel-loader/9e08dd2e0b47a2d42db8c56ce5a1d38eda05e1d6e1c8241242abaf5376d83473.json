{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Documents\\\\Tricade\\\\src\\\\views\\\\ProfileScreen.js\";\nimport React, { useState, useEffect, createContext, useContext } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport RetroButton from '../components/RetroButton';\nimport userPinkIcon from '../assets/user-pink.png';\nimport { auth, db, storage } from '../firebaseConfig';\nimport { updateProfile, onAuthStateChanged, signOut } from 'firebase/auth';\nimport { ref, uploadBytes, getDownloadURL, getStorage } from 'firebase/storage';\nimport * as ImagePicker from 'expo-image-picker';\nimport { doc, getDoc, setDoc, increment } from 'firebase/firestore';\nimport editarRosaIcon from '../assets/editar_rosa.png';\nimport { screenWidth as width, screenHeight as height, wp, hp, SPACING, FONT_SIZES, scaleDimension, scaleFont, getResponsiveDimension } from '../utils/dimensions';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar pixelFont = 'PressStart2P_400Regular';\nvar pixelStroke = [{\n  textShadowOffset: {\n    width: -4,\n    height: 0\n  },\n  textShadowColor: '#000',\n  textShadowRadius: 0\n}, {\n  textShadowOffset: {\n    width: 4,\n    height: 0\n  },\n  textShadowColor: '#000',\n  textShadowRadius: 0\n}, {\n  textShadowOffset: {\n    width: 0,\n    height: -4\n  },\n  textShadowColor: '#000',\n  textShadowRadius: 0\n}, {\n  textShadowOffset: {\n    width: 0,\n    height: 4\n  },\n  textShadowColor: '#000',\n  textShadowRadius: 0\n}, {\n  textShadowOffset: {\n    width: -4,\n    height: -4\n  },\n  textShadowColor: '#000',\n  textShadowRadius: 0\n}, {\n  textShadowOffset: {\n    width: 4,\n    height: -4\n  },\n  textShadowColor: '#000',\n  textShadowRadius: 0\n}, {\n  textShadowOffset: {\n    width: -4,\n    height: 4\n  },\n  textShadowColor: '#000',\n  textShadowRadius: 0\n}, {\n  textShadowOffset: {\n    width: 4,\n    height: 4\n  },\n  textShadowColor: '#000',\n  textShadowRadius: 0\n}];\nvar defaultAvatar = require('../assets/user-pink.png');\nvar avatarOptions = [require('../assets/user-blue.png'), require('../assets/user-pink.png')];\nexport var UserCacheContext = createContext();\nexport function useUserCache() {\n  return useContext(UserCacheContext);\n}\nexport default function ProfileScreen(_ref) {\n  var _this = this;\n  var navigation = _ref.navigation,\n    isTab = _ref.isTab;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    currentUser = _useState2[0],\n    setCurrentUser = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    username = _useState4[0],\n    setUsername = _useState4[1];\n  var _useState5 = useState(userPinkIcon),\n    _useState6 = _slicedToArray(_useState5, 2),\n    avatar = _useState6[0],\n    setAvatar = _useState6[1];\n  var _useState7 = useState(0),\n    _useState8 = _slicedToArray(_useState7, 2),\n    level = _useState8[0],\n    setLevel = _useState8[1];\n  var _useState9 = useState(0),\n    _useState0 = _slicedToArray(_useState9, 2),\n    exp = _useState0[0],\n    setExp = _useState0[1];\n  var _useState1 = useState(600),\n    _useState10 = _slicedToArray(_useState1, 2),\n    expMax = _useState10[0],\n    setExpMax = _useState10[1];\n  var _useState11 = useState(false),\n    _useState12 = _slicedToArray(_useState11, 2),\n    modalVisible = _useState12[0],\n    setModalVisible = _useState12[1];\n  var _useState13 = useState(''),\n    _useState14 = _slicedToArray(_useState13, 2),\n    editName = _useState14[0],\n    setEditName = _useState14[1];\n  var _useState15 = useState(null),\n    _useState16 = _slicedToArray(_useState15, 2),\n    editAvatar = _useState16[0],\n    setEditAvatar = _useState16[1];\n  var _useState17 = useState(0),\n    _useState18 = _slicedToArray(_useState17, 2),\n    selectedAvatarIndex = _useState18[0],\n    setSelectedAvatarIndex = _useState18[1];\n  var _useState19 = useState(false),\n    _useState20 = _slicedToArray(_useState19, 2),\n    loggingOut = _useState20[0],\n    setLoggingOut = _useState20[1];\n  var _useState21 = useState(null),\n    _useState22 = _slicedToArray(_useState21, 2),\n    userCache = _useState22[0],\n    setUserCache = _useState22[1];\n  useEffect(function () {\n    var unsubscribe = onAuthStateChanged(auth, function () {\n      var _ref2 = _asyncToGenerator(function* (user) {\n        if (user) {\n          setCurrentUser(user);\n          var displayName = user.displayName;\n          var userLevel = 0;\n          var userExp = 0;\n          var userDoc = yield getDoc(doc(db, 'users', user.uid));\n          if (userDoc.exists()) {\n            var _data$level, _data$exp;\n            var data = userDoc.data();\n            displayName = data.displayName || displayName;\n            userLevel = (_data$level = data.level) != null ? _data$level : 0;\n            userExp = (_data$exp = data.exp) != null ? _data$exp : 0;\n            if (displayName && user.displayName !== displayName) {\n              yield updateProfile(user, {\n                displayName: displayName\n              });\n            }\n          }\n          setUsername(displayName || '');\n          setEditName(displayName || '');\n          setLevel(userLevel);\n          setExp(userExp);\n          if (user.photoURL) {\n            setAvatar({\n              uri: user.photoURL\n            });\n          } else {\n            setAvatar(userPinkIcon);\n          }\n          setUserCache({\n            uid: user.uid,\n            displayName: displayName,\n            level: userLevel,\n            exp: userExp,\n            photoURL: user.photoURL || null,\n            avatar: user.photoURL ? {\n              uri: user.photoURL\n            } : userPinkIcon\n          });\n        } else {\n          if (!isTab) {\n            navigation.replace && navigation.replace('Login');\n          } else {\n            setCurrentUser(null);\n          }\n          setUserCache(null);\n        }\n      });\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n    return function () {\n      return unsubscribe();\n    };\n  }, [navigation, isTab]);\n  var activeTab = 'user';\n  if (navigation && navigation.getState) {\n    var route = navigation.getState().routes[navigation.getState().index];\n    if (route && route.name === 'Profile') activeTab = 'user';else if (route && route.name === 'Games') activeTab = 'home';else if (route && route.name === 'Home') activeTab = 'trophy';\n  }\n  var openEdit = function openEdit() {\n    var cache = userCache || {};\n    setEditName(cache.displayName || username);\n    setEditAvatar(cache.avatar || avatar);\n    setModalVisible(true);\n  };\n  var pickImage = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      if (Platform.OS === 'web') {\n        var input = document.createElement('input');\n        input.type = 'file';\n        input.accept = 'image/*';\n        input.onchange = function () {\n          var _ref4 = _asyncToGenerator(function* (e) {\n            var file = e.target.files[0];\n            if (file) {\n              try {\n                var _storage = getStorage();\n                var storageRef = ref(_storage, `avatars/${currentUser.uid}.jpg`);\n                yield uploadBytes(storageRef, file);\n                var url = yield getDownloadURL(storageRef);\n                yield updateProfile(currentUser, {\n                  photoURL: url\n                });\n                setAvatar({\n                  uri: url\n                });\n                if (currentUser && currentUser.uid) {\n                  yield setDoc(doc(db, 'users', currentUser.uid), {\n                    photoURL: url\n                  }, {\n                    merge: true\n                  });\n                }\n              } catch (error) {\n                console.error('Error al subir la imagen:', error);\n              }\n            }\n          });\n          return function (_x2) {\n            return _ref4.apply(this, arguments);\n          };\n        }();\n        input.click();\n      } else {\n        var result = yield ImagePicker.launchImageLibraryAsync({\n          mediaTypes: ImagePicker.MediaTypeOptions.Images,\n          allowsEditing: true,\n          aspect: [1, 1],\n          quality: 0.7\n        });\n        if (!result.canceled && result.assets && result.assets.length > 0) {\n          var image = result.assets[0];\n          try {\n            var _storage2 = getStorage();\n            var storageRef = ref(_storage2, `avatars/${currentUser.uid}.jpg`);\n            var response = yield fetch(image.uri);\n            var blob = yield response.blob();\n            yield uploadBytes(storageRef, blob);\n            var url = yield getDownloadURL(storageRef);\n            yield updateProfile(currentUser, {\n              photoURL: url\n            });\n            setAvatar({\n              uri: url\n            });\n            if (currentUser && currentUser.uid) {\n              yield setDoc(doc(db, 'users', currentUser.uid), {\n                photoURL: url\n              }, {\n                merge: true\n              });\n            }\n          } catch (error) {\n            console.error('Error al subir la imagen:', error);\n          }\n        }\n      }\n    });\n    return function pickImage() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var saveEdit = function () {\n    var _ref5 = _asyncToGenerator(function* () {\n      var newName = editName.trim() ? editName : username;\n      setUsername(newName);\n      setAvatar(editAvatar);\n      setModalVisible(false);\n      yield updateProfile(currentUser, {\n        displayName: newName\n      });\n      if (currentUser && currentUser.uid) {\n        yield setDoc(doc(db, 'users', currentUser.uid), {\n          displayName: newName\n        }, {\n          merge: true\n        });\n      }\n    });\n    return function saveEdit() {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n  if (!currentUser) {\n    return _jsxDEV(SafeAreaView, {\n      style: {\n        flex: 1,\n        backgroundColor: '#0a0a23'\n      },\n      children: _jsxDEV(View, {\n        style: [styles.root, {\n          justifyContent: 'center',\n          alignItems: 'center'\n        }],\n        children: _jsxDEV(Text, {\n          style: [styles.title].concat(pixelStroke),\n          children: \"Cargando...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 7\n    }, this);\n  }\n  return _jsxDEV(UserCacheContext.Provider, {\n    value: userCache,\n    children: _jsxDEV(SafeAreaView, {\n      style: {\n        flex: 1,\n        backgroundColor: '#0a0a23'\n      },\n      children: _jsxDEV(View, {\n        style: styles.root,\n        children: [_jsxDEV(ScrollView, {\n          contentContainerStyle: {\n            flexGrow: 1,\n            paddingBottom: 120\n          },\n          showsVerticalScrollIndicator: false,\n          children: [_jsxDEV(Text, {\n            style: [styles.title].concat(pixelStroke),\n            children: \"PERFIL DE USUARIO\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 13\n          }, this), _jsxDEV(View, {\n            style: styles.avatarBox,\n            children: _jsxDEV(Image, {\n              source: avatar,\n              style: styles.avatar,\n              resizeMode: \"contain\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this), _jsxDEV(View, {\n            style: styles.usernameBox,\n            children: _jsxDEV(Text, {\n              style: [styles.username].concat(pixelStroke),\n              children: username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this), _jsxDEV(View, {\n            style: styles.levelBox,\n            children: [_jsxDEV(View, {\n              style: styles.levelRow,\n              children: [_jsxDEV(Text, {\n                style: styles.levelText,\n                children: [\"Nivel \", level]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 17\n              }, this), _jsxDEV(Text, {\n                style: styles.expText,\n                children: [\"Exp \", exp, \"/\", expMax]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 15\n            }, this), _jsxDEV(View, {\n              style: styles.expBarBg,\n              children: _jsxDEV(View, {\n                style: [styles.expBarFill, {\n                  width: `${exp / expMax * 100}%`\n                }]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this), _jsxDEV(TouchableOpacity, {\n            style: styles.editBtn,\n            activeOpacity: 0.7,\n            onPress: openEdit,\n            disabled: !currentUser,\n            children: _jsxDEV(View, {\n              style: {\n                flexDirection: 'row',\n                alignItems: 'center',\n                justifyContent: 'center'\n              },\n              children: [_jsxDEV(Text, {\n                style: styles.editBtnText,\n                children: \"Editar perfil\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 17\n              }, this), _jsxDEV(Image, {\n                source: editarRosaIcon,\n                style: styles.editIcon,\n                resizeMode: \"contain\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, this), !loggingOut && _jsxDEV(RetroButton, {\n            title: \"Salir\",\n            onPress: _asyncToGenerator(function* () {\n              setLoggingOut(true);\n              yield signOut(auth);\n              setLoggingOut(false);\n              if (!isTab) {\n                navigation.replace && navigation.replace('Login');\n              } else {\n                setCurrentUser(null);\n              }\n            }),\n            style: [styles.logoutBtn, {\n              alignSelf: 'center',\n              width: '90%',\n              marginTop: 18\n            }],\n            textStyle: styles.logoutBtnText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 15\n          }, this), _jsxDEV(Modal, {\n            visible: loggingOut,\n            transparent: true,\n            animationType: \"fade\",\n            children: _jsxDEV(View, {\n              style: styles.loadingOverlay,\n              children: _jsxDEV(View, {\n                style: styles.loadingBox,\n                children: [_jsxDEV(Text, {\n                  style: styles.loadingText,\n                  children: \"Cerrando sesi\\xF3n...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 289,\n                  columnNumber: 19\n                }, this), _jsxDEV(View, {\n                  style: {\n                    marginTop: 18\n                  },\n                  children: _jsxDEV(ActivityIndicator, {\n                    size: \"large\",\n                    color: \"#ff2e7e\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 291,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 13\n          }, this), _jsxDEV(Modal, {\n            visible: modalVisible,\n            animationType: \"fade\",\n            transparent: true,\n            onRequestClose: function onRequestClose() {\n              return setModalVisible(false);\n            },\n            children: _jsxDEV(View, {\n              style: styles.modalOverlay,\n              children: _jsxDEV(View, {\n                style: styles.modalBox,\n                children: !username || !avatar ? _jsxDEV(View, {\n                  style: {\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    height: 120\n                  },\n                  children: [_jsxDEV(ActivityIndicator, {\n                    size: \"large\",\n                    color: \"#00fff7\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 308,\n                    columnNumber: 23\n                  }, this), _jsxDEV(Text, {\n                    style: {\n                      color: '#00fff7',\n                      fontFamily: pixelFont,\n                      marginTop: 18\n                    },\n                    children: \"Cargando perfil...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 309,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 307,\n                  columnNumber: 21\n                }, this) : _jsxDEV(_Fragment, {\n                  children: [_jsxDEV(Text, {\n                    style: [styles.modalTitle].concat(pixelStroke),\n                    children: \"Editar perfil\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 313,\n                    columnNumber: 23\n                  }, this), _jsxDEV(View, {\n                    style: styles.modalAvatarRow,\n                    children: avatarOptions.map(function (img, i) {\n                      return _jsxDEV(Pressable, {\n                        onPress: function onPress() {\n                          return setEditAvatar(img);\n                        },\n                        style: [styles.modalAvatarOption, editAvatar === img && styles.modalAvatarActive],\n                        children: _jsxDEV(Image, {\n                          source: img,\n                          style: styles.modalAvatarImg,\n                          resizeMode: \"contain\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 317,\n                          columnNumber: 29\n                        }, _this)\n                      }, i, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 316,\n                        columnNumber: 27\n                      }, _this);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 314,\n                    columnNumber: 23\n                  }, this), _jsxDEV(TextInput, {\n                    style: styles.modalInput,\n                    value: editName,\n                    onChangeText: setEditName,\n                    maxLength: 16,\n                    placeholder: \"Nombre de usuario\",\n                    placeholderTextColor: \"#00fff7\",\n                    autoFocus: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 321,\n                    columnNumber: 23\n                  }, this), _jsxDEV(TouchableOpacity, {\n                    onPress: pickImage,\n                    style: styles.editAvatarBtn,\n                    children: _jsxDEV(Text, {\n                      style: styles.editAvatarBtnText,\n                      children: \"Elegir foto de galer\\xEDa\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 331,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 330,\n                    columnNumber: 23\n                  }, this), _jsxDEV(View, {\n                    style: styles.modalBtnRowColumn,\n                    children: [_jsxDEV(RetroButton, {\n                      title: \"Guardar\",\n                      onPress: saveEdit\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 334,\n                      columnNumber: 25\n                    }, this), _jsxDEV(RetroButton, {\n                      title: \"Cancelar\",\n                      onPress: function onPress() {\n                        return setModalVisible(false);\n                      },\n                      style: styles.cancelBtn,\n                      textStyle: styles.cancelBtnText\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 335,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 333,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this), !isTab && _jsxDEV(View, {\n          style: styles.bottomTab,\n          children: [_jsxDEV(TouchableOpacity, {\n            style: [styles.tabBtn, activeTab === 'trophy' && styles.tabBtnActive],\n            onPress: function onPress() {\n              return navigation && navigation.navigate && navigation.navigate('Home');\n            },\n            children: _jsxDEV(Image, {\n              source: activeTab === 'trophy' ? require('../assets/trophy-pink.png') : require('../assets/trophy-blue.png'),\n              style: styles.tabIcon,\n              resizeMode: \"contain\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 15\n          }, this), _jsxDEV(TouchableOpacity, {\n            style: [styles.tabBtn, activeTab === 'home' && styles.tabBtnActive],\n            onPress: function onPress() {\n              return navigation && navigation.navigate && navigation.navigate('Games');\n            },\n            children: _jsxDEV(Image, {\n              source: activeTab === 'home' ? require('../assets/home-pink.png') : require('../assets/home-blue.png'),\n              style: styles.tabIcon,\n              resizeMode: \"contain\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 15\n          }, this), _jsxDEV(TouchableOpacity, {\n            style: [styles.tabBtn, activeTab === 'user' && styles.tabBtnActive],\n            onPress: function onPress() {\n              return navigation && navigation.navigate && navigation.navigate('Profile');\n            },\n            children: _jsxDEV(Image, {\n              source: activeTab === 'user' ? require('../assets/user-pink.png') : require('../assets/user-blue.png'),\n              style: styles.tabIcon,\n              resizeMode: \"contain\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 226,\n    columnNumber: 5\n  }, this);\n}\nexport function addTrikiWinExp() {\n  return _addTrikiWinExp.apply(this, arguments);\n}\nfunction _addTrikiWinExp() {\n  _addTrikiWinExp = _asyncToGenerator(function* () {\n    if (!auth.currentUser) return;\n    var userRef = doc(db, 'users', auth.currentUser.uid);\n    var userDoc = yield getDoc(userRef);\n    var exp = 0,\n      expMax = 600,\n      level = 0;\n    if (userDoc.exists()) {\n      exp = userDoc.data().exp || 0;\n      expMax = userDoc.data().expMax || 600;\n      level = userDoc.data().level || 0;\n    }\n    exp += 5;\n    var leveledUp = false;\n    while (exp >= expMax) {\n      exp -= expMax;\n      level += 1;\n      expMax += 100;\n      leveledUp = true;\n    }\n    yield setDoc(userRef, {\n      exp: exp,\n      expMax: expMax,\n      level: level\n    }, {\n      merge: true\n    });\n  });\n  return _addTrikiWinExp.apply(this, arguments);\n}\nvar styles = StyleSheet.create({\n  root: {\n    flex: 1,\n    backgroundColor: '#0a0a23',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    paddingTop: height * 0.04,\n    paddingBottom: height * 0.025,\n    width: '100%',\n    alignSelf: 'center'\n  },\n  title: {\n    color: '#fff',\n    fontFamily: pixelFont,\n    fontSize: Math.min(width * 0.07, 22),\n    letterSpacing: 2,\n    marginBottom: height * 0.025,\n    textAlign: 'center'\n  },\n  avatarBox: {\n    borderWidth: width * 0.015,\n    borderColor: '#00fff7',\n    borderRadius: width * 0.08,\n    padding: width * 0.02,\n    backgroundColor: '#23233a',\n    alignSelf: 'center',\n    marginBottom: height * 0.018,\n    shadowColor: '#00fff7',\n    shadowOpacity: 0.45,\n    shadowRadius: 16,\n    shadowOffset: {\n      width: 0,\n      height: 0\n    }\n  },\n  avatar: {\n    width: Math.min(width * 0.28, 80),\n    height: Math.min(width * 0.28, 80),\n    borderRadius: width * 0.06\n  },\n  usernameBox: {\n    alignSelf: 'center',\n    marginVertical: height * 0.012,\n    borderWidth: width * 0.01,\n    borderColor: '#00fff7',\n    borderRadius: width * 0.03,\n    paddingHorizontal: width * 0.04,\n    paddingVertical: height * 0.01,\n    backgroundColor: '#23233a'\n  },\n  username: {\n    color: '#00fff7',\n    fontFamily: pixelFont,\n    fontSize: Math.min(width * 0.055, 18),\n    textAlign: 'center'\n  },\n  levelBox: {\n    width: '90%',\n    alignSelf: 'center',\n    marginVertical: height * 0.018,\n    borderWidth: width * 0.01,\n    borderColor: '#00fff7',\n    borderRadius: width * 0.04,\n    backgroundColor: '#23233a',\n    padding: width * 0.03\n  },\n  levelRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 6\n  },\n  levelText: {\n    color: '#ff2e7e',\n    fontFamily: pixelFont,\n    fontSize: Math.min(width * 0.045, 14)\n  },\n  expText: {\n    color: '#ff2e7e',\n    fontFamily: pixelFont,\n    fontSize: Math.min(width * 0.035, 12)\n  },\n  expBarBg: {\n    width: '100%',\n    height: Math.max(10, height * 0.015),\n    backgroundColor: '#101926',\n    borderRadius: width * 0.03,\n    overflow: 'hidden',\n    borderWidth: width * 0.008,\n    borderColor: '#ff2e7e'\n  },\n  expBarFill: {\n    height: '100%',\n    backgroundColor: '#ff2e7e',\n    borderRadius: width * 0.03\n  },\n  editBtn: {\n    width: '90%',\n    alignSelf: 'center',\n    marginTop: height * 0.012,\n    marginBottom: height * 0.012,\n    borderWidth: width * 0.01,\n    borderColor: '#00fff7',\n    borderRadius: width * 0.03,\n    backgroundColor: '#101926',\n    paddingVertical: height * 0.018,\n    paddingHorizontal: width * 0.04\n  },\n  editBtnText: {\n    color: '#fff',\n    fontFamily: pixelFont,\n    fontSize: Math.min(width * 0.038, 13),\n    textAlign: 'center'\n  },\n  bottomTab: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: '94%',\n    backgroundColor: 'transparent',\n    borderRadius: width * 0.045,\n    borderWidth: width * 0.01,\n    borderColor: '#00fff7',\n    paddingVertical: height * 0.012,\n    paddingHorizontal: width * 0.045,\n    alignSelf: 'center',\n    marginTop: 'auto',\n    shadowColor: '#00fff7',\n    shadowOpacity: 0.25,\n    shadowRadius: 10,\n    shadowOffset: {\n      width: 0,\n      height: 0\n    }\n  },\n  tabBtn: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingVertical: height * 0.012,\n    minHeight: 40\n  },\n  tabBtnActive: {\n    borderBottomWidth: 4,\n    borderBottomColor: '#ff2e7e',\n    shadowColor: '#ff2e7e',\n    shadowOpacity: 0.7,\n    shadowRadius: 10,\n    shadowOffset: {\n      width: 0,\n      height: 0\n    }\n  },\n  tabIcon: {\n    width: width * 0.09,\n    height: width * 0.09\n  },\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(10,10,35,0.92)',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  modalBox: {\n    width: Math.min(width * 0.88, 340),\n    backgroundColor: '#23233a',\n    borderRadius: Math.max(18, width * 0.045),\n    borderWidth: 4,\n    borderColor: '#00fff7',\n    padding: 22,\n    alignItems: 'center',\n    shadowColor: '#00fff7',\n    shadowOpacity: 0.45,\n    shadowRadius: 16,\n    shadowOffset: {\n      width: 0,\n      height: 0\n    }\n  },\n  modalTitle: {\n    color: '#ff2e7e',\n    fontFamily: pixelFont,\n    fontSize: Math.min(width * 0.055, 22),\n    marginBottom: 18,\n    textAlign: 'center'\n  },\n  modalAvatarRow: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: 18,\n    gap: 12\n  },\n  modalAvatarOption: {\n    borderWidth: 2,\n    borderColor: '#00fff7',\n    borderRadius: 16,\n    padding: 4,\n    marginHorizontal: 6,\n    backgroundColor: '#101926'\n  },\n  modalAvatarActive: {\n    borderColor: '#ff2e7e',\n    backgroundColor: '#18182e',\n    shadowColor: '#ff2e7e',\n    shadowOpacity: 0.7,\n    shadowRadius: 8,\n    shadowOffset: {\n      width: 0,\n      height: 0\n    }\n  },\n  modalAvatarImg: {\n    width: 48,\n    height: 48,\n    borderRadius: 12\n  },\n  modalInput: {\n    width: '90%',\n    borderWidth: 2,\n    borderColor: '#00fff7',\n    borderRadius: 10,\n    backgroundColor: '#101926',\n    color: '#00fff7',\n    fontFamily: pixelFont,\n    fontSize: Math.min(width * 0.045, 18),\n    paddingVertical: 10,\n    paddingHorizontal: 12,\n    marginBottom: 18,\n    textAlign: 'center'\n  },\n  modalBtnRowColumn: {\n    flexDirection: 'column',\n    width: '100%',\n    gap: 10,\n    marginTop: 8\n  },\n  editAvatarBtn: {\n    marginTop: 10,\n    marginBottom: 10,\n    paddingVertical: 8,\n    paddingHorizontal: 18,\n    borderRadius: 8,\n    borderWidth: 2,\n    borderColor: '#00fff7',\n    backgroundColor: '#181828',\n    alignSelf: 'center'\n  },\n  editAvatarBtnText: {\n    color: '#00fff7',\n    fontFamily: pixelFont,\n    fontSize: Math.min(width * 0.038, 16),\n    textAlign: 'center'\n  },\n  cancelBtn: {\n    backgroundColor: '#ff2e7e',\n    borderColor: '#ff2e7e',\n    marginTop: 6\n  },\n  cancelBtnText: {\n    color: '#fff',\n    fontFamily: pixelFont,\n    fontSize: Math.min(width * 0.038, 16),\n    textAlign: 'center'\n  },\n  logoutBtn: {\n    backgroundColor: '#ff2e7e',\n    borderColor: '#ff2e7e',\n    marginTop: 16\n  },\n  logoutBtnText: {\n    color: '#fff',\n    fontFamily: pixelFont,\n    fontSize: Math.min(width * 0.038, 16),\n    textAlign: 'center'\n  },\n  loadingOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(10,10,35,0.92)',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  loadingBox: {\n    backgroundColor: '#23233a',\n    borderRadius: 18,\n    borderWidth: 4,\n    borderColor: '#ff2e7e',\n    padding: 32,\n    alignItems: 'center',\n    shadowColor: '#ff2e7e',\n    shadowOpacity: 0.45,\n    shadowRadius: 16,\n    shadowOffset: {\n      width: 0,\n      height: 0\n    }\n  },\n  loadingText: {\n    color: '#ff2e7e',\n    fontFamily: pixelFont,\n    fontSize: Math.min(width * 0.045, 18),\n    textAlign: 'center',\n    marginBottom: 8\n  },\n  editIcon: {\n    width: 28,\n    height: 28,\n    marginLeft: 14,\n    marginBottom: -3\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","createContext","useContext","View","Text","StyleSheet","Image","Dimensions","TouchableOpacity","Modal","TextInput","Pressable","Platform","SafeAreaView","ActivityIndicator","ScrollView","RetroButton","userPinkIcon","auth","db","storage","updateProfile","onAuthStateChanged","signOut","ref","uploadBytes","getDownloadURL","getStorage","ImagePicker","doc","getDoc","setDoc","increment","editarRosaIcon","screenWidth","width","screenHeight","height","wp","hp","SPACING","FONT_SIZES","scaleDimension","scaleFont","getResponsiveDimension","jsxDEV","_jsxDEV","Fragment","_Fragment","pixelFont","pixelStroke","textShadowOffset","textShadowColor","textShadowRadius","defaultAvatar","require","avatarOptions","UserCacheContext","useUserCache","ProfileScreen","_ref","_this","navigation","isTab","_useState","_useState2","_slicedToArray","currentUser","setCurrentUser","_useState3","_useState4","username","setUsername","_useState5","_useState6","avatar","setAvatar","_useState7","_useState8","level","setLevel","_useState9","_useState0","exp","setExp","_useState1","_useState10","expMax","setExpMax","_useState11","_useState12","modalVisible","setModalVisible","_useState13","_useState14","editName","setEditName","_useState15","_useState16","editAvatar","setEditAvatar","_useState17","_useState18","selectedAvatarIndex","setSelectedAvatarIndex","_useState19","_useState20","loggingOut","setLoggingOut","_useState21","_useState22","userCache","setUserCache","unsubscribe","_ref2","_asyncToGenerator","user","displayName","userLevel","userExp","userDoc","uid","exists","_data$level","_data$exp","data","photoURL","uri","replace","_x","apply","arguments","activeTab","getState","route","routes","index","name","openEdit","cache","pickImage","_ref3","OS","input","document","createElement","type","accept","onchange","_ref4","e","file","target","files","storageRef","url","merge","error","console","_x2","click","result","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","Images","allowsEditing","aspect","quality","canceled","assets","length","image","response","fetch","blob","saveEdit","_ref5","newName","trim","style","flex","backgroundColor","children","styles","root","justifyContent","alignItems","title","concat","fileName","_jsxFileName","lineNumber","columnNumber","Provider","value","contentContainerStyle","flexGrow","paddingBottom","showsVerticalScrollIndicator","avatarBox","source","resizeMode","usernameBox","levelBox","levelRow","levelText","expText","expBarBg","expBarFill","editBtn","activeOpacity","onPress","disabled","flexDirection","editBtnText","editIcon","logoutBtn","alignSelf","marginTop","textStyle","logoutBtnText","visible","transparent","animationType","loadingOverlay","loadingBox","loadingText","size","color","onRequestClose","modalOverlay","modalBox","fontFamily","modalTitle","modalAvatarRow","map","img","i","modalAvatarOption","modalAvatarActive","modalAvatarImg","modalInput","onChangeText","maxLength","placeholder","placeholderTextColor","autoFocus","editAvatarBtn","editAvatarBtnText","modalBtnRowColumn","cancelBtn","cancelBtnText","bottomTab","tabBtn","tabBtnActive","navigate","tabIcon","addTrikiWinExp","_addTrikiWinExp","userRef","leveledUp","create","paddingTop","fontSize","Math","min","letterSpacing","marginBottom","textAlign","borderWidth","borderColor","borderRadius","padding","shadowColor","shadowOpacity","shadowRadius","shadowOffset","marginVertical","paddingHorizontal","paddingVertical","max","overflow","minHeight","borderBottomWidth","borderBottomColor","gap","marginHorizontal","marginLeft"],"sources":["C:/Users/Administrator/Documents/Tricade/src/views/ProfileScreen.js"],"sourcesContent":["import React, { useState, useEffect, createContext, useContext } from 'react';\r\nimport { View, Text, StyleSheet, Image, Dimensions, TouchableOpacity, Modal, TextInput, Pressable, Platform, SafeAreaView, ActivityIndicator, ScrollView } from 'react-native';\r\nimport RetroButton from '../components/RetroButton';\r\nimport userPinkIcon from '../assets/user-pink.png';\r\nimport { auth, db, storage } from '../firebaseConfig';\r\nimport { updateProfile, onAuthStateChanged, signOut } from 'firebase/auth';\r\nimport { ref, uploadBytes, getDownloadURL, getStorage } from 'firebase/storage';\r\nimport * as ImagePicker from 'expo-image-picker';\r\nimport { doc, getDoc, setDoc, increment } from 'firebase/firestore';\r\nimport editarRosaIcon from '../assets/editar_rosa.png';\r\nimport {\r\n  screenWidth as width,\r\n  screenHeight as height,\r\n  wp,\r\n  hp,\r\n  SPACING,\r\n  FONT_SIZES,\r\n  scaleDimension,\r\n  scaleFont,\r\n  getResponsiveDimension\r\n} from '../utils/dimensions';\r\n\r\nconst pixelFont = 'PressStart2P_400Regular';\r\n\r\nconst pixelStroke = [\r\n  { textShadowOffset: { width: -4, height: 0 }, textShadowColor: '#000', textShadowRadius: 0 },\r\n  { textShadowOffset: { width: 4, height: 0 }, textShadowColor: '#000', textShadowRadius: 0 },\r\n  { textShadowOffset: { width: 0, height: -4 }, textShadowColor: '#000', textShadowRadius: 0 },\r\n  { textShadowOffset: { width: 0, height: 4 }, textShadowColor: '#000', textShadowRadius: 0 },\r\n  { textShadowOffset: { width: -4, height: -4 }, textShadowColor: '#000', textShadowRadius: 0 },\r\n  { textShadowOffset: { width: 4, height: -4 }, textShadowColor: '#000', textShadowRadius: 0 },\r\n  { textShadowOffset: { width: -4, height: 4 }, textShadowColor: '#000', textShadowRadius: 0 },\r\n  { textShadowOffset: { width: 4, height: 4 }, textShadowColor: '#000', textShadowRadius: 0 },\r\n];\r\n\r\nconst defaultAvatar = require('../assets/user-pink.png');\r\nconst avatarOptions = [\r\n  require('../assets/user-blue.png'),\r\n  require('../assets/user-pink.png'),\r\n];\r\n\r\n// Contexto global para el usuario\r\nexport const UserCacheContext = createContext();\r\nexport function useUserCache() { return useContext(UserCacheContext); }\r\n\r\nexport default function ProfileScreen({ navigation, isTab }) {\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const [username, setUsername] = useState('');\r\n  const [avatar, setAvatar] = useState(userPinkIcon);\r\n  const [level, setLevel] = useState(0);\r\n  const [exp, setExp] = useState(0);\r\n  const [expMax, setExpMax] = useState(600);\r\n\r\n  // Modal edición\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  const [editName, setEditName] = useState('');\r\n  const [editAvatar, setEditAvatar] = useState(null);\r\n  const [selectedAvatarIndex, setSelectedAvatarIndex] = useState(0);\r\n\r\n  const [loggingOut, setLoggingOut] = useState(false);\r\n\r\n  // Nuevo: usar caché global\r\n  const [userCache, setUserCache] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = onAuthStateChanged(auth, async (user) => {\r\n      if (user) {\r\n        setCurrentUser(user);\r\n        let displayName = user.displayName;\r\n        let userLevel = 0;\r\n        let userExp = 0;\r\n        // Si no hay nombre en Auth, intentar obtenerlo desde Firestore\r\n        const userDoc = await getDoc(doc(db, 'users', user.uid));\r\n        if (userDoc.exists()) {\r\n          const data = userDoc.data();\r\n          displayName = data.displayName || displayName;\r\n          userLevel = data.level ?? 0;\r\n          userExp = data.exp ?? 0;\r\n          // Actualizar Auth con el nombre de Firestore\r\n          if (displayName && user.displayName !== displayName) {\r\n            await updateProfile(user, { displayName });\r\n          }\r\n        }\r\n        setUsername(displayName || '');\r\n        setEditName(displayName || '');\r\n        setLevel(userLevel);\r\n        setExp(userExp);\r\n        // Cargar avatar\r\n        if (user.photoURL) {\r\n          setAvatar({ uri: user.photoURL });\r\n        } else {\r\n          setAvatar(userPinkIcon);\r\n        }\r\n        // Guardar en caché global\r\n        setUserCache({\r\n          uid: user.uid,\r\n          displayName,\r\n          level: userLevel,\r\n          exp: userExp,\r\n          photoURL: user.photoURL || null,\r\n          avatar: user.photoURL ? { uri: user.photoURL } : userPinkIcon\r\n        });\r\n      } else {\r\n        if (!isTab) {\r\n          navigation.replace && navigation.replace('Login');\r\n        } else {\r\n          setCurrentUser(null);\r\n        }\r\n        setUserCache(null);\r\n      }\r\n    });\r\n\r\n    return () => unsubscribe();\r\n  }, [navigation, isTab]);\r\n\r\n  // Detectar pantalla activa por navigation (si navigation.getState existe)\r\n  let activeTab = 'user';\r\n  if (navigation && navigation.getState) {\r\n    const route = navigation.getState().routes[navigation.getState().index];\r\n    if (route && route.name === 'Profile') activeTab = 'user';\r\n    else if (route && route.name === 'Games') activeTab = 'home';\r\n    else if (route && route.name === 'Home') activeTab = 'trophy';\r\n  }\r\n\r\n  // Usar caché global para el modal\r\n  const openEdit = () => {\r\n    const cache = userCache || {};\r\n    setEditName(cache.displayName || username);\r\n    setEditAvatar(cache.avatar || avatar);\r\n    setModalVisible(true);\r\n  };\r\n\r\n  const pickImage = async () => {\r\n    if (Platform.OS === 'web') {\r\n      // En web, usamos un input file nativo\r\n      const input = document.createElement('input');\r\n      input.type = 'file';\r\n      input.accept = 'image/*';\r\n      input.onchange = async (e) => {\r\n        const file = e.target.files[0];\r\n        if (file) {\r\n          try {\r\n            const storage = getStorage();\r\n            const storageRef = ref(storage, `avatars/${currentUser.uid}.jpg`);\r\n            await uploadBytes(storageRef, file);\r\n            const url = await getDownloadURL(storageRef);\r\n            await updateProfile(currentUser, { photoURL: url });\r\n            setAvatar({ uri: url });\r\n            // Guarda la URL en Firestore\r\n            if (currentUser && currentUser.uid) {\r\n              await setDoc(\r\n                doc(db, 'users', currentUser.uid),\r\n                { photoURL: url },\r\n                { merge: true }\r\n              );\r\n            }\r\n          } catch (error) {\r\n            console.error('Error al subir la imagen:', error);\r\n          }\r\n        }\r\n      };\r\n      input.click();\r\n    } else {\r\n      // En móvil, usamos expo-image-picker\r\n      let result = await ImagePicker.launchImageLibraryAsync({\r\n        mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n        allowsEditing: true,\r\n        aspect: [1, 1],\r\n        quality: 0.7,\r\n      });\r\n      if (!result.canceled && result.assets && result.assets.length > 0) {\r\n        const image = result.assets[0];\r\n        try {\r\n          const storage = getStorage();\r\n          const storageRef = ref(storage, `avatars/${currentUser.uid}.jpg`);\r\n          const response = await fetch(image.uri);\r\n          const blob = await response.blob();\r\n          await uploadBytes(storageRef, blob);\r\n          const url = await getDownloadURL(storageRef);\r\n          await updateProfile(currentUser, { photoURL: url });\r\n          setAvatar({ uri: url });\r\n          // Guarda la URL en Firestore\r\n          if (currentUser && currentUser.uid) {\r\n            await setDoc(\r\n              doc(db, 'users', currentUser.uid),\r\n              { photoURL: url },\r\n              { merge: true }\r\n            );\r\n          }\r\n        } catch (error) {\r\n          console.error('Error al subir la imagen:', error);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const saveEdit = async () => {\r\n    const newName = editName.trim() ? editName : username;\r\n    setUsername(newName);\r\n    setAvatar(editAvatar);\r\n    setModalVisible(false);\r\n    // Actualiza el nombre en Firebase Auth\r\n    await updateProfile(currentUser, { displayName: newName });\r\n    // Actualiza el nombre en Firestore\r\n    if (currentUser && currentUser.uid) {\r\n      await setDoc(\r\n        doc(db, 'users', currentUser.uid),\r\n        { displayName: newName },\r\n        { merge: true }\r\n      );\r\n    }\r\n  };\r\n\r\n  // Si no hay usuario, mostrar pantalla de carga o nada\r\n  if (!currentUser) {\r\n    return (\r\n      <SafeAreaView style={{ flex: 1, backgroundColor: '#0a0a23' }}>\r\n        <View style={[styles.root, { justifyContent: 'center', alignItems: 'center' }]}>\r\n          <Text style={[styles.title, ...pixelStroke]}>Cargando...</Text>\r\n        </View>\r\n      </SafeAreaView>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <UserCacheContext.Provider value={userCache}>\r\n      <SafeAreaView style={{ flex: 1, backgroundColor: '#0a0a23' }}>\r\n        <View style={styles.root}>\r\n          <ScrollView contentContainerStyle={{ flexGrow: 1, paddingBottom: 120 }} showsVerticalScrollIndicator={false}>\r\n            {/* Título */}\r\n            <Text style={[styles.title, ...pixelStroke]}>PERFIL DE USUARIO</Text>\r\n\r\n            {/* Avatar */}\r\n            <View style={styles.avatarBox}>\r\n              <Image source={avatar} style={styles.avatar} resizeMode=\"contain\" />\r\n            </View>\r\n\r\n            {/* Nombre de usuario */}\r\n            <View style={styles.usernameBox}>\r\n              <Text style={[styles.username, ...pixelStroke]}>{username}</Text>\r\n            </View>\r\n\r\n            {/* Nivel y barra de experiencia */}\r\n            <View style={styles.levelBox}>\r\n              <View style={styles.levelRow}>\r\n                <Text style={styles.levelText}>Nivel {level}</Text>\r\n                <Text style={styles.expText}>Exp {exp}/{expMax}</Text>\r\n              </View>\r\n              <View style={styles.expBarBg}>\r\n                <View style={[styles.expBarFill, { width: `${(exp/expMax)*100}%` }]} />\r\n              </View>\r\n            </View>\r\n\r\n            {/* Botón Editar perfil */}\r\n            <TouchableOpacity style={styles.editBtn} activeOpacity={0.7} onPress={openEdit} disabled={!currentUser}>\r\n              <View style={{ flexDirection: 'row', alignItems: 'center', justifyContent: 'center' }}>\r\n                <Text style={styles.editBtnText}>Editar perfil</Text>\r\n                <Image source={editarRosaIcon} style={styles.editIcon} resizeMode=\"contain\" />\r\n              </View>\r\n            </TouchableOpacity>\r\n\r\n            {/* Botón Salir */}\r\n            {!loggingOut && (\r\n              <RetroButton \r\n                title=\"Salir\" \r\n                onPress={async () => {\r\n                  setLoggingOut(true);\r\n                  await signOut(auth);\r\n                  setLoggingOut(false);\r\n                  if (!isTab) {\r\n                    navigation.replace && navigation.replace('Login');\r\n                  } else {\r\n                    setCurrentUser(null);\r\n                  }\r\n                }} \r\n                style={[styles.logoutBtn, { alignSelf: 'center', width: '90%', marginTop: 18 }]}\r\n                textStyle={styles.logoutBtnText}\r\n              />\r\n            )}\r\n\r\n            {/* Loading modal al cerrar sesión */}\r\n            <Modal\r\n              visible={loggingOut}\r\n              transparent\r\n              animationType=\"fade\"\r\n            >\r\n              <View style={styles.loadingOverlay}>\r\n                <View style={styles.loadingBox}>\r\n                  <Text style={styles.loadingText}>Cerrando sesión...</Text>\r\n                  <View style={{ marginTop: 18 }}>\r\n                    <ActivityIndicator size=\"large\" color=\"#ff2e7e\" />\r\n                  </View>\r\n                </View>\r\n              </View>\r\n            </Modal>\r\n\r\n            {/* Modal edición perfil */}\r\n            <Modal\r\n              visible={modalVisible}\r\n              animationType=\"fade\"\r\n              transparent\r\n              onRequestClose={() => setModalVisible(false)}\r\n            >\r\n              <View style={styles.modalOverlay}>\r\n                <View style={styles.modalBox}>\r\n                  {(!username || !avatar) ? (\r\n                    <View style={{ alignItems: 'center', justifyContent: 'center', height: 120 }}>\r\n                      <ActivityIndicator size=\"large\" color=\"#00fff7\" />\r\n                      <Text style={{ color: '#00fff7', fontFamily: pixelFont, marginTop: 18 }}>Cargando perfil...</Text>\r\n                    </View>\r\n                  ) : (\r\n                    <>\r\n                      <Text style={[styles.modalTitle, ...pixelStroke]}>Editar perfil</Text>\r\n                      <View style={styles.modalAvatarRow}>\r\n                        {avatarOptions.map((img, i) => (\r\n                          <Pressable key={i} onPress={() => setEditAvatar(img)} style={[styles.modalAvatarOption, editAvatar === img && styles.modalAvatarActive]}> \r\n                            <Image source={img} style={styles.modalAvatarImg} resizeMode=\"contain\" />\r\n                          </Pressable>\r\n                        ))}\r\n                      </View>\r\n                      <TextInput\r\n                        style={styles.modalInput}\r\n                        value={editName}\r\n                        onChangeText={setEditName}\r\n                        maxLength={16}\r\n                        placeholder=\"Nombre de usuario\"\r\n                        placeholderTextColor=\"#00fff7\"\r\n                        autoFocus\r\n                      />\r\n                      <TouchableOpacity onPress={pickImage} style={styles.editAvatarBtn}>\r\n                        <Text style={styles.editAvatarBtnText}>Elegir foto de galería</Text>\r\n                      </TouchableOpacity>\r\n                      <View style={styles.modalBtnRowColumn}>\r\n                        <RetroButton title=\"Guardar\" onPress={saveEdit} />\r\n                        <RetroButton title=\"Cancelar\" onPress={() => setModalVisible(false)} style={styles.cancelBtn} textStyle={styles.cancelBtnText} />\r\n                      </View>\r\n                    </>\r\n                  )}\r\n                </View>\r\n              </View>\r\n            </Modal>\r\n          </ScrollView>\r\n\r\n          {/* Menú inferior siempre visible */}\r\n          {(!isTab) && (\r\n            <View style={styles.bottomTab}>\r\n              <TouchableOpacity\r\n                style={[styles.tabBtn, activeTab === 'trophy' && styles.tabBtnActive]}\r\n                onPress={() => navigation && navigation.navigate && navigation.navigate('Home')}\r\n              >\r\n                <Image source={activeTab === 'trophy' ? require('../assets/trophy-pink.png') : require('../assets/trophy-blue.png')} style={styles.tabIcon} resizeMode=\"contain\" />\r\n              </TouchableOpacity>\r\n              <TouchableOpacity\r\n                style={[styles.tabBtn, activeTab === 'home' && styles.tabBtnActive]}\r\n                onPress={() => navigation && navigation.navigate && navigation.navigate('Games')}\r\n              >\r\n                <Image source={activeTab === 'home' ? require('../assets/home-pink.png') : require('../assets/home-blue.png')} style={styles.tabIcon} resizeMode=\"contain\" />\r\n              </TouchableOpacity>\r\n              <TouchableOpacity\r\n                style={[styles.tabBtn, activeTab === 'user' && styles.tabBtnActive]}\r\n                onPress={() => navigation && navigation.navigate && navigation.navigate('Profile')}\r\n              >\r\n                <Image source={activeTab === 'user' ? require('../assets/user-pink.png') : require('../assets/user-blue.png')} style={styles.tabIcon} resizeMode=\"contain\" />\r\n              </TouchableOpacity>\r\n            </View>\r\n          )}\r\n        </View>\r\n      </SafeAreaView>\r\n    </UserCacheContext.Provider>\r\n  );\r\n}\r\n\r\nexport async function addTrikiWinExp() {\r\n  if (!auth.currentUser) return;\r\n  const userRef = doc(db, 'users', auth.currentUser.uid);\r\n  const userDoc = await getDoc(userRef);\r\n  let exp = 0, expMax = 600, level = 0;\r\n  if (userDoc.exists()) {\r\n    exp = userDoc.data().exp || 0;\r\n    expMax = userDoc.data().expMax || 600;\r\n    level = userDoc.data().level || 0;\r\n  }\r\n  exp += 5;\r\n  let leveledUp = false;\r\n  while (exp >= expMax) {\r\n    exp -= expMax;\r\n    level += 1;\r\n    expMax += 100;\r\n    leveledUp = true;\r\n  }\r\n  await setDoc(userRef, { exp, expMax, level }, { merge: true });\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  root: {\r\n    flex: 1,\r\n    backgroundColor: '#0a0a23',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-start',\r\n    paddingTop: height * 0.04,\r\n    paddingBottom: height * 0.025,\r\n    width: '100%',\r\n    alignSelf: 'center',\r\n  },\r\n  title: {\r\n    color: '#fff',\r\n    fontFamily: pixelFont,\r\n    fontSize: Math.min(width * 0.07, 22),\r\n    letterSpacing: 2,\r\n    marginBottom: height * 0.025,\r\n    textAlign: 'center',\r\n  },\r\n  avatarBox: {\r\n    borderWidth: width * 0.015,\r\n    borderColor: '#00fff7',\r\n    borderRadius: width * 0.08,\r\n    padding: width * 0.02,\r\n    backgroundColor: '#23233a',\r\n    alignSelf: 'center',\r\n    marginBottom: height * 0.018,\r\n    shadowColor: '#00fff7',\r\n    shadowOpacity: 0.45,\r\n    shadowRadius: 16,\r\n    shadowOffset: { width: 0, height: 0 },\r\n  },\r\n  avatar: {\r\n    width: Math.min(width * 0.28, 80),\r\n    height: Math.min(width * 0.28, 80),\r\n    borderRadius: width * 0.06,\r\n  },\r\n  usernameBox: {\r\n    alignSelf: 'center',\r\n    marginVertical: height * 0.012,\r\n    borderWidth: width * 0.01,\r\n    borderColor: '#00fff7',\r\n    borderRadius: width * 0.03,\r\n    paddingHorizontal: width * 0.04,\r\n    paddingVertical: height * 0.01,\r\n    backgroundColor: '#23233a',\r\n  },\r\n  username: {\r\n    color: '#00fff7',\r\n    fontFamily: pixelFont,\r\n    fontSize: Math.min(width * 0.055, 18),\r\n    textAlign: 'center',\r\n  },\r\n  levelBox: {\r\n    width: '90%',\r\n    alignSelf: 'center',\r\n    marginVertical: height * 0.018,\r\n    borderWidth: width * 0.01,\r\n    borderColor: '#00fff7',\r\n    borderRadius: width * 0.04,\r\n    backgroundColor: '#23233a',\r\n    padding: width * 0.03,\r\n  },\r\n  levelRow: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginBottom: 6,\r\n  },\r\n  levelText: {\r\n    color: '#ff2e7e',\r\n    fontFamily: pixelFont,\r\n    fontSize: Math.min(width * 0.045, 14),\r\n  },\r\n  expText: {\r\n    color: '#ff2e7e',\r\n    fontFamily: pixelFont,\r\n    fontSize: Math.min(width * 0.035, 12),\r\n  },\r\n  expBarBg: {\r\n    width: '100%',\r\n    height: Math.max(10, height * 0.015),\r\n    backgroundColor: '#101926',\r\n    borderRadius: width * 0.03,\r\n    overflow: 'hidden',\r\n    borderWidth: width * 0.008,\r\n    borderColor: '#ff2e7e',\r\n  },\r\n  expBarFill: {\r\n    height: '100%',\r\n    backgroundColor: '#ff2e7e',\r\n    borderRadius: width * 0.03,\r\n  },\r\n  editBtn: {\r\n    width: '90%',\r\n    alignSelf: 'center',\r\n    marginTop: height * 0.012,\r\n    marginBottom: height * 0.012,\r\n    borderWidth: width * 0.01,\r\n    borderColor: '#00fff7',\r\n    borderRadius: width * 0.03,\r\n    backgroundColor: '#101926',\r\n    paddingVertical: height * 0.018,\r\n    paddingHorizontal: width * 0.04,\r\n  },\r\n  editBtnText: {\r\n    color: '#fff',\r\n    fontFamily: pixelFont,\r\n    fontSize: Math.min(width * 0.038, 13),\r\n    textAlign: 'center',\r\n  },\r\n  bottomTab: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    width: '94%',\r\n    backgroundColor: 'transparent',\r\n    borderRadius: width * 0.045,\r\n    borderWidth: width * 0.01,\r\n    borderColor: '#00fff7',\r\n    paddingVertical: height * 0.012,\r\n    paddingHorizontal: width * 0.045,\r\n    alignSelf: 'center',\r\n    marginTop: 'auto',\r\n    shadowColor: '#00fff7',\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 10,\r\n    shadowOffset: { width: 0, height: 0 },\r\n  },\r\n  tabBtn: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: height * 0.012,\r\n    minHeight: 40,\r\n  },\r\n  tabBtnActive: {\r\n    borderBottomWidth: 4,\r\n    borderBottomColor: '#ff2e7e',\r\n    shadowColor: '#ff2e7e',\r\n    shadowOpacity: 0.7,\r\n    shadowRadius: 10,\r\n    shadowOffset: { width: 0, height: 0 },\r\n  },\r\n  tabIcon: {\r\n    width: width * 0.09,\r\n    height: width * 0.09,\r\n  },\r\n  modalOverlay: {\r\n    flex: 1,\r\n    backgroundColor: 'rgba(10,10,35,0.92)',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  modalBox: {\r\n    width: Math.min(width * 0.88, 340),\r\n    backgroundColor: '#23233a',\r\n    borderRadius: Math.max(18, width * 0.045),\r\n    borderWidth: 4,\r\n    borderColor: '#00fff7',\r\n    padding: 22,\r\n    alignItems: 'center',\r\n    shadowColor: '#00fff7',\r\n    shadowOpacity: 0.45,\r\n    shadowRadius: 16,\r\n    shadowOffset: { width: 0, height: 0 },\r\n  },\r\n  modalTitle: {\r\n    color: '#ff2e7e',\r\n    fontFamily: pixelFont,\r\n    fontSize: Math.min(width * 0.055, 22),\r\n    marginBottom: 18,\r\n    textAlign: 'center',\r\n  },\r\n  modalAvatarRow: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginBottom: 18,\r\n    gap: 12,\r\n  },\r\n  modalAvatarOption: {\r\n    borderWidth: 2,\r\n    borderColor: '#00fff7',\r\n    borderRadius: 16,\r\n    padding: 4,\r\n    marginHorizontal: 6,\r\n    backgroundColor: '#101926',\r\n  },\r\n  modalAvatarActive: {\r\n    borderColor: '#ff2e7e',\r\n    backgroundColor: '#18182e',\r\n    shadowColor: '#ff2e7e',\r\n    shadowOpacity: 0.7,\r\n    shadowRadius: 8,\r\n    shadowOffset: { width: 0, height: 0 },\r\n  },\r\n  modalAvatarImg: {\r\n    width: 48,\r\n    height: 48,\r\n    borderRadius: 12,\r\n  },\r\n  modalInput: {\r\n    width: '90%',\r\n    borderWidth: 2,\r\n    borderColor: '#00fff7',\r\n    borderRadius: 10,\r\n    backgroundColor: '#101926',\r\n    color: '#00fff7',\r\n    fontFamily: pixelFont,\r\n    fontSize: Math.min(width * 0.045, 18),\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 12,\r\n    marginBottom: 18,\r\n    textAlign: 'center',\r\n  },\r\n  modalBtnRowColumn: {\r\n    flexDirection: 'column',\r\n    width: '100%',\r\n    gap: 10,\r\n    marginTop: 8,\r\n  },\r\n  editAvatarBtn: {\r\n    marginTop: 10,\r\n    marginBottom: 10,\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 18,\r\n    borderRadius: 8,\r\n    borderWidth: 2,\r\n    borderColor: '#00fff7',\r\n    backgroundColor: '#181828',\r\n    alignSelf: 'center',\r\n  },\r\n  editAvatarBtnText: {\r\n    color: '#00fff7',\r\n    fontFamily: pixelFont,\r\n    fontSize: Math.min(width * 0.038, 16),\r\n    textAlign: 'center',\r\n  },\r\n  cancelBtn: {\r\n    backgroundColor: '#ff2e7e',\r\n    borderColor: '#ff2e7e',\r\n    marginTop: 6,\r\n  },\r\n  cancelBtnText: {\r\n    color: '#fff',\r\n    fontFamily: pixelFont,\r\n    fontSize: Math.min(width * 0.038, 16),\r\n    textAlign: 'center',\r\n  },\r\n  logoutBtn: {\r\n    backgroundColor: '#ff2e7e',\r\n    borderColor: '#ff2e7e',\r\n    marginTop: 16,\r\n  },\r\n  logoutBtnText: {\r\n    color: '#fff',\r\n    fontFamily: pixelFont,\r\n    fontSize: Math.min(width * 0.038, 16),\r\n    textAlign: 'center',\r\n  },\r\n  loadingOverlay: {\r\n    flex: 1,\r\n    backgroundColor: 'rgba(10,10,35,0.92)',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  loadingBox: {\r\n    backgroundColor: '#23233a',\r\n    borderRadius: 18,\r\n    borderWidth: 4,\r\n    borderColor: '#ff2e7e',\r\n    padding: 32,\r\n    alignItems: 'center',\r\n    shadowColor: '#ff2e7e',\r\n    shadowOpacity: 0.45,\r\n    shadowRadius: 16,\r\n    shadowOffset: { width: 0, height: 0 },\r\n  },\r\n  loadingText: {\r\n    color: '#ff2e7e',\r\n    fontFamily: pixelFont,\r\n    fontSize: Math.min(width * 0.045, 18),\r\n    textAlign: 'center',\r\n    marginBottom: 8,\r\n  },\r\n  editIcon: {\r\n    width: 28,\r\n    height: 28,\r\n    marginLeft: 14,\r\n    marginBottom: -3,\r\n  },\r\n}); "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}