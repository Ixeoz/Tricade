{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nvar _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Documents\\\\Tricade\\\\src\\\\views\\\\DuosGameScreen.js\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useState, useEffect, useRef } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport { screenWidth as width, screenHeight as height, wp, hp, SPACING, FONT_SIZES, scaleDimension, scaleFont, getResponsiveDimension } from '../utils/dimensions';\nimport { auth, db } from '../firebaseConfig';\nimport { doc, getDoc, setDoc, updateDoc, increment } from 'firebase/firestore';\nimport { checkAndUpdateMissions } from '../utils/missions';\nimport { GAME_SCORES, getExpForLevel, SPECIAL_AVATARS } from '../utils/scoreConfig';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar pixelFont = 'PressStart2P_400Regular';\nvar pixelStroke = [{\n  textShadowOffset: {\n    width: -4,\n    height: 0\n  },\n  textShadowColor: '#000',\n  textShadowRadius: 0\n}, {\n  textShadowOffset: {\n    width: 4,\n    height: 0\n  },\n  textShadowColor: '#000',\n  textShadowRadius: 0\n}, {\n  textShadowOffset: {\n    width: 0,\n    height: -4\n  },\n  textShadowColor: '#000',\n  textShadowRadius: 0\n}, {\n  textShadowOffset: {\n    width: 0,\n    height: 4\n  },\n  textShadowColor: '#000',\n  textShadowRadius: 0\n}, {\n  textShadowOffset: {\n    width: -4,\n    height: -4\n  },\n  textShadowColor: '#000',\n  textShadowRadius: 0\n}, {\n  textShadowOffset: {\n    width: 4,\n    height: -4\n  },\n  textShadowColor: '#000',\n  textShadowRadius: 0\n}, {\n  textShadowOffset: {\n    width: -4,\n    height: 4\n  },\n  textShadowColor: '#000',\n  textShadowRadius: 0\n}, {\n  textShadowOffset: {\n    width: 4,\n    height: 4\n  },\n  textShadowColor: '#000',\n  textShadowRadius: 0\n}];\nvar cartaAbajo = require('../assets/carta-abajo.png');\nvar cartaCorazon = require('../assets/carta-corazon.png');\nvar cartaEstrella = require('../assets/carta-estrella.png');\nvar EASY_PAIRS = [{\n  type: 'corazon',\n  image: cartaCorazon\n}, {\n  type: 'corazon',\n  image: cartaCorazon\n}, {\n  type: 'estrella',\n  image: cartaEstrella\n}, {\n  type: 'estrella',\n  image: cartaEstrella\n}, {\n  type: 'corazon',\n  image: cartaCorazon\n}, {\n  type: 'corazon',\n  image: cartaCorazon\n}, {\n  type: 'estrella',\n  image: cartaEstrella\n}, {\n  type: 'estrella',\n  image: cartaEstrella\n}];\nvar HARD_PAIRS = [{\n  type: 'corazon',\n  image: cartaCorazon\n}, {\n  type: 'corazon',\n  image: cartaCorazon\n}, {\n  type: 'estrella',\n  image: cartaEstrella\n}, {\n  type: 'estrella',\n  image: cartaEstrella\n}, {\n  type: 'corazon',\n  image: cartaCorazon\n}, {\n  type: 'corazon',\n  image: cartaCorazon\n}, {\n  type: 'estrella',\n  image: cartaEstrella\n}, {\n  type: 'estrella',\n  image: cartaEstrella\n}, {\n  type: 'corazon',\n  image: cartaCorazon\n}, {\n  type: 'corazon',\n  image: cartaCorazon\n}, {\n  type: 'estrella',\n  image: cartaEstrella\n}, {\n  type: 'estrella',\n  image: cartaEstrella\n}, {\n  type: 'corazon',\n  image: cartaCorazon\n}, {\n  type: 'corazon',\n  image: cartaCorazon\n}, {\n  type: 'estrella',\n  image: cartaEstrella\n}, {\n  type: 'estrella',\n  image: cartaEstrella\n}];\nvar updateDuosStats = function () {\n  var _ref = _asyncToGenerator(function* (isWin, tiempoStr) {\n    var scoreToAdd = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    try {\n      if (!auth.currentUser) return;\n      var statsRef = doc(db, 'users', auth.currentUser.uid, 'duosStats', 'stats');\n      var userDocRef = doc(db, 'users', auth.currentUser.uid);\n      var statsDoc = yield getDoc(statsRef);\n      var prev = {\n        victorias: 0,\n        derrotas: 0,\n        mejorTiempo: null\n      };\n      if (statsDoc.exists()) {\n        prev = statsDoc.data();\n      }\n      var mejorTiempo = prev.mejorTiempo || null;\n      if (isWin) {\n        if (!mejorTiempo || mejorTiempo === '0:00' || tiempoMenor(tiempoStr, mejorTiempo)) {\n          mejorTiempo = tiempoStr;\n        }\n      }\n      yield setDoc(statsRef, {\n        victorias: prev.victorias + (isWin ? 1 : 0),\n        derrotas: prev.derrotas + (isWin ? 0 : 1),\n        mejorTiempo: mejorTiempo || tiempoStr\n      }, {\n        merge: true\n      });\n      if (isWin) {\n        var _tiempoStr$split$map = tiempoStr.split(':').map(Number),\n          _tiempoStr$split$map2 = _slicedToArray(_tiempoStr$split$map, 2),\n          mins = _tiempoStr$split$map2[0],\n          secs = _tiempoStr$split$map2[1];\n        var tiempoTotal = mins * 60 + secs;\n        var tiempoMaximo = difficulty === 'Facil' ? 480 : 240;\n        var tiempoBonus = Math.floor((tiempoMaximo - tiempoTotal) * 2);\n        var dificultadBonus = difficulty === 'Facil' ? 100 : 200;\n        var scoreFinal = scoreToAdd + tiempoBonus + dificultadBonus;\n        yield updateDoc(userDocRef, {\n          level: increment(scoreFinal)\n        });\n        var missionReward = yield checkAndUpdateMissions(auth.currentUser.uid, 'DUOS', {\n          victorias: prev.victorias + 1,\n          derrotas: prev.derrotas,\n          mejorTiempo: mejorTiempo\n        });\n        if (missionReward > 0) {\n          yield updateDoc(userDocRef, {\n            level: increment(missionReward)\n          });\n        }\n        if (difficulty === 'Dificil') {\n          var trophyRef = doc(db, 'users', auth.currentUser.uid, 'trophies', 'memorion');\n          yield setDoc(trophyRef, {\n            unlocked: true,\n            date: new Date().toISOString(),\n            name: 'Memorion',\n            description: 'Gana una partida de DuOS en difícil'\n          }, {\n            merge: true\n          });\n        }\n        var victoriasActualizadas = prev.victorias + 1;\n        if (victoriasActualizadas > 0 && victoriasActualizadas % 50 === 0) {\n          var trophyId = `duos${victoriasActualizadas}`;\n          var _trophyRef = doc(db, 'users', auth.currentUser.uid, 'trophies', trophyId);\n          yield setDoc(_trophyRef, {\n            unlocked: true,\n            date: new Date().toISOString(),\n            count: victoriasActualizadas,\n            name: `Duos Master ${victoriasActualizadas}`,\n            description: `¡Has ganado ${victoriasActualizadas} partidas de Duos!`\n          });\n          yield updateDoc(userDocRef, {\n            level: increment(10)\n          });\n        }\n      }\n    } catch (e) {\n      console.error('Error guardando stats de Duos:', e);\n    }\n  });\n  return function updateDuosStats(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nfunction tiempoMenor(t1, t2) {\n  var _t1$split$map = t1.split(':').map(Number),\n    _t1$split$map2 = _slicedToArray(_t1$split$map, 2),\n    m1 = _t1$split$map2[0],\n    s1 = _t1$split$map2[1];\n  var _t2$split$map = t2.split(':').map(Number),\n    _t2$split$map2 = _slicedToArray(_t2$split$map, 2),\n    m2 = _t2$split$map2[0],\n    s2 = _t2$split$map2[1];\n  return m1 < m2 || m1 === m2 && s1 < s2;\n}\nvar changeAvatarWithAnimation = function changeAvatarWithAnimation(newAvatar) {\n  Animated.sequence([Animated.timing(fadeAnim, {\n    toValue: 0,\n    duration: 500,\n    useNativeDriver: true\n  }), Animated.timing(fadeAnim, {\n    toValue: 1,\n    duration: 500,\n    useNativeDriver: true\n  })]).start();\n  setAvatar(newAvatar);\n};\nfunction addDuosWinExp() {\n  return _addDuosWinExp.apply(this, arguments);\n}\nfunction _addDuosWinExp() {\n  _addDuosWinExp = _asyncToGenerator(function* () {\n    if (!auth.currentUser) return;\n    var userRef = doc(db, 'users', auth.currentUser.uid);\n    var userDoc = yield getDoc(userRef);\n    var exp = 0,\n      level = 0;\n    if (userDoc.exists()) {\n      exp = userDoc.data().exp || 0;\n      level = userDoc.data().level || 0;\n    }\n    exp += GAME_SCORES.duos;\n    var newLevel = level;\n    var expMax = getExpForLevel(newLevel + 1);\n    if (exp >= expMax) {\n      exp -= expMax;\n      newLevel += 1;\n    }\n    var updates = {\n      exp: exp,\n      level: newLevel\n    };\n    var special = SPECIAL_AVATARS.find(function (a) {\n      return a.level === newLevel;\n    });\n    if (special) {\n      updates.photoURL = null;\n      updates.avatarSpecial = special.image;\n    }\n    yield setDoc(userRef, updates, {\n      merge: true\n    });\n    var statsRef = doc(db, 'users', auth.currentUser.uid, 'duosStats', 'stats');\n    var statsDoc = yield getDoc(statsRef);\n    var prev = {\n      victorias: 0,\n      derrotas: 0\n    };\n    if (statsDoc.exists()) {\n      prev = statsDoc.data();\n    }\n    yield setDoc(statsRef, {\n      victorias: prev.victorias + 1,\n      derrotas: prev.derrotas\n    }, {\n      merge: true\n    });\n    var missionReward = yield checkAndUpdateMissions(auth.currentUser.uid, 'DUOS', {\n      victorias: prev.victorias + 1,\n      derrotas: prev.derrotas\n    });\n    if (missionReward > 0) {\n      yield updateDoc(userRef, {\n        level: increment(missionReward)\n      });\n    }\n  });\n  return _addDuosWinExp.apply(this, arguments);\n}\nexport default function DuosGameScreen(_ref2) {\n  var _this = this;\n  var navigation = _ref2.navigation,\n    route = _ref2.route;\n  var difficulty = route.params.difficulty;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    cards = _useState2[0],\n    setCards = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    flippedIndices = _useState4[0],\n    setFlippedIndices = _useState4[1];\n  var _useState5 = useState([]),\n    _useState6 = _slicedToArray(_useState5, 2),\n    matchedPairs = _useState6[0],\n    setMatchedPairs = _useState6[1];\n  var _useState7 = useState(0),\n    _useState8 = _slicedToArray(_useState7, 2),\n    score = _useState8[0],\n    setScore = _useState8[1];\n  var _useState9 = useState(difficulty === 'Facil' ? 480 : 240),\n    _useState0 = _slicedToArray(_useState9, 2),\n    timer = _useState0[0],\n    setTimer = _useState0[1];\n  var _useState1 = useState(false),\n    _useState10 = _slicedToArray(_useState1, 2),\n    gameOver = _useState10[0],\n    setGameOver = _useState10[1];\n  var _useState11 = useState(false),\n    _useState12 = _slicedToArray(_useState11, 2),\n    showExitConfirm = _useState12[0],\n    setShowExitConfirm = _useState12[1];\n  var _useState13 = useState(false),\n    _useState14 = _slicedToArray(_useState13, 2),\n    paused = _useState14[0],\n    setPaused = _useState14[1];\n  var flipAnimations = useRef({}).current;\n  var fadeAnim = useRef(new Animated.Value(1)).current;\n  var cardDynamicStyles = {\n    maxWidth: difficulty === 'Facil' ? 100 : 72,\n    aspectRatio: 0.65,\n    margin: 8,\n    minWidth: 52,\n    minHeight: 68\n  };\n  useEffect(function () {\n    initializeGame();\n  }, []);\n  useEffect(function () {\n    if (timer > 0 && !gameOver && !paused) {\n      var interval = setInterval(function () {\n        return setTimer(function (t) {\n          return t - 1;\n        });\n      }, 1000);\n      return function () {\n        return clearInterval(interval);\n      };\n    } else if (timer === 0 && !gameOver) {\n      handleGameOver();\n    }\n  }, [timer, gameOver, paused]);\n  useEffect(function () {\n    var checkMatch = function () {\n      var _ref3 = _asyncToGenerator(function* () {\n        if (flippedIndices.length === 2) {\n          var _flippedIndices = _slicedToArray(flippedIndices, 2),\n            firstIndex = _flippedIndices[0],\n            secondIndex = _flippedIndices[1];\n          var firstCard = cards[firstIndex];\n          var secondCard = cards[secondIndex];\n          if (firstCard.type === secondCard.type) {\n            yield new Promise(function (resolve) {\n              return setTimeout(resolve, 300);\n            });\n            setMatchedPairs(function (prev) {\n              return [].concat(_toConsumableArray(prev), [firstIndex, secondIndex]);\n            });\n            setScore(function (prev) {\n              return prev + 100;\n            });\n            setFlippedIndices([]);\n          } else {\n            yield new Promise(function (resolve) {\n              return setTimeout(resolve, 1000);\n            });\n            animateCard(firstIndex, 0);\n            animateCard(secondIndex, 0);\n            setFlippedIndices([]);\n          }\n        }\n      });\n      return function checkMatch() {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n    checkMatch();\n  }, [flippedIndices]);\n  useEffect(function () {\n    var totalCards = difficulty === 'Facil' ? 8 : 16;\n    if (matchedPairs.length === totalCards) {\n      handleGameOver(true);\n    }\n  }, [matchedPairs]);\n  var initializeGame = function initializeGame() {\n    var gamePairs = difficulty === 'Facil' ? EASY_PAIRS : HARD_PAIRS;\n    var shuffledPairs = _toConsumableArray(gamePairs).sort(function () {\n      return Math.random() - 0.5;\n    }).map(function (card, index) {\n      return _objectSpread(_objectSpread({}, card), {}, {\n        index: index\n      });\n    });\n    setCards(shuffledPairs);\n    setFlippedIndices([]);\n    setMatchedPairs([]);\n    setScore(0);\n    setGameOver(false);\n    setTimer(difficulty === 'Facil' ? 480 : 240);\n    shuffledPairs.forEach(function (_, idx) {\n      flipAnimations[idx] = new Animated.Value(0);\n    });\n  };\n  var animateCard = function animateCard(index, toValue) {\n    Animated.timing(flipAnimations[index], {\n      toValue: toValue,\n      duration: 200,\n      useNativeDriver: true\n    }).start();\n  };\n  var handleCardPress = function handleCardPress(index) {\n    if (flippedIndices.length === 2 || flippedIndices.includes(index) || matchedPairs.includes(index) || gameOver || paused) {\n      return;\n    }\n    animateCard(index, 1);\n    setFlippedIndices(function (prev) {\n      return [].concat(_toConsumableArray(prev), [index]);\n    });\n  };\n  var handleGameOver = function handleGameOver() {\n    var isWin = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    setGameOver(true);\n    var finalScore = score;\n    if (isWin) {\n      finalScore = score + Math.floor(timer * 10);\n      setScore(finalScore);\n      addDuosWinExp();\n    }\n    var tiempoStr = formatTime(timer);\n    updateDuosStats(isWin, tiempoStr, finalScore);\n  };\n  var handleBack = function handleBack() {\n    setShowExitConfirm(true);\n    setPaused(true);\n  };\n  var formatTime = function formatTime(seconds) {\n    var mins = Math.floor(seconds / 60);\n    var secs = seconds % 60;\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n  var renderCards = function renderCards() {\n    var rows = [];\n    var cardsPerRow = difficulty === 'Facil' ? [4, 4] : [4, 4, 4, 4];\n    var currentIndex = 0;\n    cardsPerRow.forEach(function (numCards, rowIndex) {\n      var rowCards = cards.slice(currentIndex, currentIndex + numCards);\n      rows.push(_jsxDEV(View, {\n        style: styles.cardRow,\n        children: rowCards.map(function (card, index) {\n          var cardIndex = currentIndex + index;\n          var isFlipped = flippedIndices.includes(cardIndex);\n          var isMatched = matchedPairs.includes(cardIndex);\n          var scale = flipAnimations[cardIndex].interpolate({\n            inputRange: [0, 0.5, 1],\n            outputRange: [1, 0.8, 1]\n          });\n          return _jsxDEV(TouchableOpacity, {\n            style: [styles.card, cardDynamicStyles, (isFlipped || isMatched) && styles.cardFlipped],\n            onPress: function onPress() {\n              return handleCardPress(cardIndex);\n            },\n            activeOpacity: 0.7,\n            disabled: isMatched || isFlipped || flippedIndices.length === 2,\n            children: _jsxDEV(Animated.View, {\n              style: [styles.cardInner, {\n                transform: [{\n                  scale: scale\n                }]\n              }],\n              children: _jsxDEV(Image, {\n                source: isFlipped || isMatched ? card.image : cartaAbajo,\n                style: styles.cardImage,\n                resizeMode: \"contain\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 17\n            }, _this)\n          }, card.index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 15\n          }, _this);\n        })\n      }, rowIndex, false, {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 9\n      }, _this));\n      currentIndex += numCards;\n    });\n    return rows;\n  };\n  return _jsxDEV(SafeAreaView, {\n    style: styles.container,\n    children: [_jsxDEV(TouchableOpacity, {\n      style: styles.backButton,\n      onPress: handleBack,\n      children: _jsxDEV(View, {\n        style: styles.backBox,\n        children: _jsxDEV(Text, {\n          style: styles.backText,\n          children: \"\\u2190\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 7\n    }, this), _jsxDEV(View, {\n      style: styles.cornerDotTL\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 435,\n      columnNumber: 7\n    }, this), _jsxDEV(View, {\n      style: styles.cornerDotTR\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 436,\n      columnNumber: 7\n    }, this), _jsxDEV(View, {\n      style: styles.cornerDotBL\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 437,\n      columnNumber: 7\n    }, this), _jsxDEV(View, {\n      style: styles.cornerDotBR\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 438,\n      columnNumber: 7\n    }, this), _jsxDEV(View, {\n      style: styles.header,\n      children: [_jsxDEV(Text, {\n        style: [styles.title].concat(pixelStroke),\n        children: \"DUOS\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 9\n      }, this), _jsxDEV(View, {\n        style: styles.scoreContainer,\n        children: [_jsxDEV(View, {\n          style: styles.scoreBox,\n          children: [_jsxDEV(Text, {\n            style: styles.scoreLabel,\n            children: \"Parejas encontradas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 13\n          }, this), _jsxDEV(Text, {\n            style: styles.scoreValue,\n            children: matchedPairs.length / 2\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 11\n        }, this), _jsxDEV(View, {\n          style: styles.scoreBox,\n          children: [_jsxDEV(Text, {\n            style: styles.scoreLabel,\n            children: \"Parejas restantes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 448,\n            columnNumber: 13\n          }, this), _jsxDEV(Text, {\n            style: styles.scoreValue,\n            children: (difficulty === 'Facil' ? 4 : 8) - matchedPairs.length / 2\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 9\n      }, this), _jsxDEV(View, {\n        style: styles.timerBox,\n        children: _jsxDEV(Text, {\n          style: styles.timerText,\n          children: formatTime(timer)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 7\n    }, this), _jsxDEV(View, {\n      style: styles.boardContainer,\n      children: _jsxDEV(View, {\n        style: styles.boardBorder,\n        children: _jsxDEV(View, {\n          style: styles.board,\n          children: renderCards()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 459,\n      columnNumber: 7\n    }, this), _jsxDEV(Modal, {\n      visible: gameOver,\n      transparent: true,\n      animationType: \"fade\",\n      onRequestClose: function onRequestClose() {},\n      children: _jsxDEV(View, {\n        style: styles.modalOverlay,\n        children: _jsxDEV(View, {\n          style: styles.modalContent,\n          children: [_jsxDEV(Text, {\n            style: styles.modalTitle,\n            children: matchedPairs.length === (difficulty === 'Facil' ? 8 : 16) ? '¡Victoria!' : 'Game Over'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 13\n          }, this), _jsxDEV(Text, {\n            style: styles.modalScore,\n            children: [\"Score: \", score]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 479,\n            columnNumber: 13\n          }, this), _jsxDEV(View, {\n            style: styles.modalButtons,\n            children: [_jsxDEV(TouchableOpacity, {\n              style: styles.modalButton,\n              onPress: function onPress() {\n                initializeGame();\n              },\n              children: _jsxDEV(Text, {\n                style: styles.modalButtonText,\n                children: \"Reintentar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 487,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 15\n            }, this), _jsxDEV(TouchableOpacity, {\n              style: [styles.modalButton, styles.modalButtonExit],\n              onPress: function onPress() {\n                setGameOver(false);\n                navigation.navigate('DuosDetailScreen');\n              },\n              children: _jsxDEV(Text, {\n                style: styles.modalButtonText,\n                children: \"Salir\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 496,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 474,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 468,\n      columnNumber: 7\n    }, this), _jsxDEV(Modal, {\n      visible: showExitConfirm,\n      transparent: true,\n      animationType: \"fade\",\n      onRequestClose: function onRequestClose() {\n        setShowExitConfirm(false);\n        setPaused(false);\n      },\n      children: _jsxDEV(View, {\n        style: styles.modalOverlay,\n        children: _jsxDEV(View, {\n          style: styles.modalContent,\n          children: [_jsxDEV(Text, {\n            style: styles.modalTitle,\n            children: \"\\xBFSalir del juego?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 515,\n            columnNumber: 13\n          }, this), _jsxDEV(Text, {\n            style: styles.modalText,\n            children: \"Perder\\xE1s el progreso actual\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 516,\n            columnNumber: 13\n          }, this), _jsxDEV(View, {\n            style: styles.modalButtons,\n            children: [_jsxDEV(TouchableOpacity, {\n              style: styles.modalButton,\n              onPress: function onPress() {\n                setShowExitConfirm(false);\n                setPaused(false);\n              },\n              children: _jsxDEV(Text, {\n                style: styles.modalButtonText,\n                children: \"Continuar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 525,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 518,\n              columnNumber: 15\n            }, this), _jsxDEV(TouchableOpacity, {\n              style: [styles.modalButton, styles.modalButtonExit],\n              onPress: function onPress() {\n                setShowExitConfirm(false);\n                setPaused(false);\n                navigation.navigate('DuosDetailScreen');\n              },\n              children: _jsxDEV(Text, {\n                style: styles.modalButtonText,\n                children: \"Salir\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 535,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 527,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 517,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 514,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 513,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 504,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 426,\n    columnNumber: 5\n  }, this);\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#0a0a23'\n  },\n  cornerDotTL: {\n    position: 'absolute',\n    top: hp(2.5),\n    left: wp(4),\n    width: scaleDimension(12),\n    height: scaleDimension(12),\n    backgroundColor: '#ff2e7e',\n    borderRadius: scaleDimension(6),\n    zIndex: 2\n  },\n  cornerDotTR: {\n    position: 'absolute',\n    top: hp(2.5),\n    right: wp(4),\n    width: scaleDimension(12),\n    height: scaleDimension(12),\n    backgroundColor: '#00fff7',\n    borderRadius: scaleDimension(6),\n    zIndex: 2\n  },\n  cornerDotBL: {\n    position: 'absolute',\n    bottom: hp(2.5),\n    left: wp(4),\n    width: scaleDimension(12),\n    height: scaleDimension(12),\n    backgroundColor: '#00fff7',\n    borderRadius: scaleDimension(6),\n    zIndex: 2\n  },\n  cornerDotBR: {\n    position: 'absolute',\n    bottom: hp(2.5),\n    right: wp(4),\n    width: scaleDimension(12),\n    height: scaleDimension(12),\n    backgroundColor: '#ff2e7e',\n    borderRadius: scaleDimension(6),\n    zIndex: 2\n  },\n  backButton: {\n    position: 'absolute',\n    top: hp(2.5),\n    left: wp(4),\n    zIndex: 10\n  },\n  backBox: {\n    width: scaleDimension(36),\n    height: scaleDimension(36),\n    borderRadius: scaleDimension(8),\n    backgroundColor: '#3a2172',\n    borderWidth: scaleDimension(2),\n    borderColor: '#ff2e7e',\n    alignItems: 'center',\n    justifyContent: 'center',\n    boxShadow: '0px 0px 6px #ff2e7e'\n  },\n  backText: {\n    color: '#ff2e7e',\n    fontFamily: pixelFont,\n    fontSize: scaleFont(22),\n    marginLeft: scaleDimension(2),\n    marginTop: -scaleDimension(2)\n  },\n  header: {\n    alignItems: 'center',\n    marginTop: hp(5),\n    marginBottom: hp(3),\n    width: '100%',\n    paddingHorizontal: wp(4)\n  },\n  title: {\n    fontSize: scaleFont(42),\n    fontFamily: pixelFont,\n    color: '#ff2e7e',\n    marginBottom: hp(3),\n    textAlign: 'center'\n  },\n  scoreContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    width: '100%',\n    maxWidth: wp(95),\n    marginBottom: hp(2),\n    paddingHorizontal: wp(2)\n  },\n  scoreBox: {\n    backgroundColor: '#18182e',\n    borderWidth: 3,\n    borderColor: '#00fff7',\n    borderRadius: 12,\n    paddingVertical: 12,\n    paddingHorizontal: 15,\n    alignItems: 'center',\n    width: '48%',\n    boxShadow: '0px 0px 6px #00fff7'\n  },\n  scoreLabel: {\n    color: '#fff',\n    fontFamily: pixelFont,\n    fontSize: 14,\n    textAlign: 'center',\n    marginBottom: 8\n  },\n  scoreValue: {\n    color: '#00fff7',\n    fontFamily: pixelFont,\n    fontSize: 28,\n    textAlign: 'center'\n  },\n  timerBox: {\n    backgroundColor: '#18182e',\n    borderWidth: 3,\n    borderColor: '#ff2e7e',\n    borderRadius: 12,\n    paddingVertical: 10,\n    paddingHorizontal: 25,\n    marginTop: hp(2),\n    boxShadow: '0px 0px 6px #ff2e7e'\n  },\n  timerText: {\n    color: '#ff2e7e',\n    fontFamily: pixelFont,\n    fontSize: 32,\n    textAlign: 'center'\n  },\n  boardContainer: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingHorizontal: wp(1),\n    marginTop: hp(2)\n  },\n  boardBorder: {\n    width: '100%',\n    aspectRatio: 0.75,\n    maxWidth: 400,\n    backgroundColor: '#23233a',\n    borderRadius: 16,\n    borderWidth: 4,\n    borderColor: '#00fff7',\n    padding: 12,\n    boxShadow: '0px 0px 10px #00fff7'\n  },\n  board: {\n    flex: 1,\n    backgroundColor: '#0a0a23',\n    borderRadius: 12,\n    borderWidth: 3,\n    borderColor: '#ff2e7e',\n    padding: 20,\n    justifyContent: 'space-evenly'\n  },\n  cardRow: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    width: '100%',\n    paddingHorizontal: 0\n  },\n  card: {\n    backgroundColor: '#23233a',\n    borderRadius: 4,\n    borderWidth: 1.5,\n    borderColor: '#00fff7',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 2,\n    boxShadow: '0px 0px 4px #00fff7'\n  },\n  cardFlipped: {\n    backgroundColor: '#3a2172',\n    borderColor: '#ff2e7e',\n    boxShadow: '0px 0px 6px #ff2e7e'\n  },\n  cardInner: {\n    width: '100%',\n    height: '100%',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  cardImage: {\n    width: '75%',\n    height: '75%',\n    resizeMode: 'contain'\n  },\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0,0,0,0.85)',\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20\n  },\n  modalContent: {\n    width: '90%',\n    maxWidth: 340,\n    backgroundColor: '#23233a',\n    borderRadius: 16,\n    borderWidth: 5,\n    borderColor: '#00fff7',\n    padding: 6,\n    boxShadow: '0px 0px 10px #00fff7'\n  },\n  modalTitle: {\n    color: '#ff2e7e',\n    fontFamily: pixelFont,\n    fontSize: 24,\n    textAlign: 'center',\n    marginVertical: 20\n  },\n  modalScore: {\n    color: '#00fff7',\n    fontFamily: pixelFont,\n    fontSize: 18,\n    textAlign: 'center',\n    marginBottom: 20\n  },\n  modalText: {\n    color: '#fff',\n    fontFamily: pixelFont,\n    fontSize: 14,\n    textAlign: 'center',\n    marginBottom: 20\n  },\n  modalButtons: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    marginBottom: 20\n  },\n  modalButton: {\n    backgroundColor: '#00fff7',\n    borderRadius: 8,\n    borderWidth: 2,\n    borderColor: '#ff2e7e',\n    paddingHorizontal: 20,\n    paddingVertical: 10,\n    boxShadow: '0px 0px 6px #ff2e7e'\n  },\n  modalButtonExit: {\n    backgroundColor: '#ff2e7e',\n    borderColor: '#00fff7',\n    boxShadow: '0px 0px 6px #00fff7'\n  },\n  modalButtonText: {\n    color: '#0a0a23',\n    fontFamily: pixelFont,\n    fontSize: 14\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","useRef","View","Text","StyleSheet","TouchableOpacity","SafeAreaView","Dimensions","Image","Modal","Animated","screenWidth","width","screenHeight","height","wp","hp","SPACING","FONT_SIZES","scaleDimension","scaleFont","getResponsiveDimension","auth","db","doc","getDoc","setDoc","updateDoc","increment","checkAndUpdateMissions","GAME_SCORES","getExpForLevel","SPECIAL_AVATARS","jsxDEV","_jsxDEV","pixelFont","pixelStroke","textShadowOffset","textShadowColor","textShadowRadius","cartaAbajo","require","cartaCorazon","cartaEstrella","EASY_PAIRS","type","image","HARD_PAIRS","updateDuosStats","_ref","_asyncToGenerator","isWin","tiempoStr","scoreToAdd","arguments","length","undefined","currentUser","statsRef","uid","userDocRef","statsDoc","prev","victorias","derrotas","mejorTiempo","exists","data","tiempoMenor","merge","_tiempoStr$split$map","split","map","Number","_tiempoStr$split$map2","_slicedToArray","mins","secs","tiempoTotal","tiempoMaximo","difficulty","tiempoBonus","Math","floor","dificultadBonus","scoreFinal","level","missionReward","trophyRef","unlocked","date","Date","toISOString","name","description","victoriasActualizadas","trophyId","count","e","console","error","_x","_x2","apply","t1","t2","_t1$split$map","_t1$split$map2","m1","s1","_t2$split$map","_t2$split$map2","m2","s2","changeAvatarWithAnimation","newAvatar","sequence","timing","fadeAnim","toValue","duration","useNativeDriver","start","setAvatar","addDuosWinExp","_addDuosWinExp","userRef","userDoc","exp","duos","newLevel","expMax","updates","special","find","a","photoURL","avatarSpecial","DuosGameScreen","_ref2","_this","navigation","route","params","_useState","_useState2","cards","setCards","_useState3","_useState4","flippedIndices","setFlippedIndices","_useState5","_useState6","matchedPairs","setMatchedPairs","_useState7","_useState8","score","setScore","_useState9","_useState0","timer","setTimer","_useState1","_useState10","gameOver","setGameOver","_useState11","_useState12","showExitConfirm","setShowExitConfirm","_useState13","_useState14","paused","setPaused","flipAnimations","current","Value","cardDynamicStyles","maxWidth","aspectRatio","margin","minWidth","minHeight","initializeGame","interval","setInterval","t","clearInterval","handleGameOver","checkMatch","_ref3","_flippedIndices","firstIndex","secondIndex","firstCard","secondCard","Promise","resolve","setTimeout","concat","_toConsumableArray","animateCard","totalCards","gamePairs","shuffledPairs","sort","random","card","index","_objectSpread","forEach","_","idx","handleCardPress","includes","finalScore","formatTime","handleBack","seconds","toString","padStart","renderCards","rows","cardsPerRow","currentIndex","numCards","rowIndex","rowCards","slice","push","style","styles","cardRow","children","cardIndex","isFlipped","isMatched","scale","interpolate","inputRange","outputRange","cardFlipped","onPress","activeOpacity","disabled","cardInner","transform","source","cardImage","resizeMode","fileName","_jsxFileName","lineNumber","columnNumber","container","backButton","backBox","backText","cornerDotTL","cornerDotTR","cornerDotBL","cornerDotBR","header","title","scoreContainer","scoreBox","scoreLabel","scoreValue","timerBox","timerText","boardContainer","boardBorder","board","visible","transparent","animationType","onRequestClose","modalOverlay","modalContent","modalTitle","modalScore","modalButtons","modalButton","modalButtonText","modalButtonExit","navigate","modalText","create","flex","backgroundColor","position","top","left","borderRadius","zIndex","right","bottom","borderWidth","borderColor","alignItems","justifyContent","boxShadow","color","fontFamily","fontSize","marginLeft","marginTop","marginBottom","paddingHorizontal","textAlign","flexDirection","paddingVertical","padding","marginVertical"],"sources":["C:/Users/Administrator/Documents/Tricade/src/views/DuosGameScreen.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, SafeAreaView, Dimensions, Image, Modal, Animated } from 'react-native';\r\nimport {\r\n  screenWidth as width,\r\n  screenHeight as height,\r\n  wp,\r\n  hp,\r\n  SPACING,\r\n  FONT_SIZES,\r\n  scaleDimension,\r\n  scaleFont,\r\n  getResponsiveDimension\r\n} from '../utils/dimensions';\r\nimport { auth, db } from '../firebaseConfig';\r\nimport { doc, getDoc, setDoc, updateDoc, increment } from 'firebase/firestore';\r\nimport { checkAndUpdateMissions } from '../utils/missions';\r\nimport { GAME_SCORES, getExpForLevel, SPECIAL_AVATARS } from '../utils/scoreConfig';\r\n\r\nconst pixelFont = 'PressStart2P_400Regular';\r\n\r\nconst pixelStroke = [\r\n  { textShadowOffset: { width: -4, height: 0 }, textShadowColor: '#000', textShadowRadius: 0 },\r\n  { textShadowOffset: { width: 4, height: 0 }, textShadowColor: '#000', textShadowRadius: 0 },\r\n  { textShadowOffset: { width: 0, height: -4 }, textShadowColor: '#000', textShadowRadius: 0 },\r\n  { textShadowOffset: { width: 0, height: 4 }, textShadowColor: '#000', textShadowRadius: 0 },\r\n  { textShadowOffset: { width: -4, height: -4 }, textShadowColor: '#000', textShadowRadius: 0 },\r\n  { textShadowOffset: { width: 4, height: -4 }, textShadowColor: '#000', textShadowRadius: 0 },\r\n  { textShadowOffset: { width: -4, height: 4 }, textShadowColor: '#000', textShadowRadius: 0 },\r\n  { textShadowOffset: { width: 4, height: 4 }, textShadowColor: '#000', textShadowRadius: 0 },\r\n];\r\n\r\nconst cartaAbajo = require('../assets/carta-abajo.png');\r\nconst cartaCorazon = require('../assets/carta-corazon.png');\r\nconst cartaEstrella = require('../assets/carta-estrella.png');\r\n\r\nconst EASY_PAIRS = [\r\n  { type: 'corazon', image: cartaCorazon },\r\n  { type: 'corazon', image: cartaCorazon },\r\n  { type: 'estrella', image: cartaEstrella },\r\n  { type: 'estrella', image: cartaEstrella },\r\n  { type: 'corazon', image: cartaCorazon },\r\n  { type: 'corazon', image: cartaCorazon },\r\n  { type: 'estrella', image: cartaEstrella },\r\n  { type: 'estrella', image: cartaEstrella },\r\n];\r\n\r\nconst HARD_PAIRS = [\r\n  { type: 'corazon', image: cartaCorazon },\r\n  { type: 'corazon', image: cartaCorazon },\r\n  { type: 'estrella', image: cartaEstrella },\r\n  { type: 'estrella', image: cartaEstrella },\r\n  { type: 'corazon', image: cartaCorazon },\r\n  { type: 'corazon', image: cartaCorazon },\r\n  { type: 'estrella', image: cartaEstrella },\r\n  { type: 'estrella', image: cartaEstrella },\r\n  { type: 'corazon', image: cartaCorazon },\r\n  { type: 'corazon', image: cartaCorazon },\r\n  { type: 'estrella', image: cartaEstrella },\r\n  { type: 'estrella', image: cartaEstrella },\r\n  { type: 'corazon', image: cartaCorazon },\r\n  { type: 'corazon', image: cartaCorazon },\r\n  { type: 'estrella', image: cartaEstrella },\r\n  { type: 'estrella', image: cartaEstrella },\r\n];\r\n\r\n// Función para actualizar estadísticas en Firestore\r\nconst updateDuosStats = async (isWin, tiempoStr, scoreToAdd = 0) => {\r\n  try {\r\n    if (!auth.currentUser) return;\r\n    const statsRef = doc(db, 'users', auth.currentUser.uid, 'duosStats', 'stats');\r\n    const userDocRef = doc(db, 'users', auth.currentUser.uid);\r\n    const statsDoc = await getDoc(statsRef);\r\n    let prev = { victorias: 0, derrotas: 0, mejorTiempo: null };\r\n    if (statsDoc.exists()) {\r\n      prev = statsDoc.data();\r\n    }\r\n    let mejorTiempo = prev.mejorTiempo || null;\r\n    // Si ganó, actualiza mejor tiempo si es mejor\r\n    if (isWin) {\r\n      // Si no hay mejor tiempo o el nuevo es menor, actualiza\r\n      if (!mejorTiempo || mejorTiempo === '0:00' || tiempoMenor(tiempoStr, mejorTiempo)) {\r\n        mejorTiempo = tiempoStr;\r\n      }\r\n    }\r\n    await setDoc(statsRef, {\r\n      victorias: prev.victorias + (isWin ? 1 : 0),\r\n      derrotas: prev.derrotas + (isWin ? 0 : 1),\r\n      mejorTiempo: mejorTiempo || tiempoStr\r\n    }, { merge: true });\r\n\r\n    // Si ganó, actualizar nivel y revisar trofeos\r\n    if (isWin) {\r\n      // Calcular score basado en tiempo y dificultad\r\n      const [mins, secs] = tiempoStr.split(':').map(Number);\r\n      const tiempoTotal = mins * 60 + secs;\r\n      const tiempoMaximo = difficulty === 'Facil' ? 480 : 240; // 8 min o 4 min\r\n      const tiempoBonus = Math.floor((tiempoMaximo - tiempoTotal) * 2); // 2 puntos por segundo restante\r\n      const dificultadBonus = difficulty === 'Facil' ? 100 : 200;\r\n      const scoreFinal = scoreToAdd + tiempoBonus + dificultadBonus;\r\n\r\n      // Actualizar nivel\r\n      await updateDoc(userDocRef, { level: increment(scoreFinal) });\r\n\r\n      // Verificar misiones\r\n      const missionReward = await checkAndUpdateMissions(\r\n        auth.currentUser.uid,\r\n        'DUOS',\r\n        {\r\n          victorias: prev.victorias + 1,\r\n          derrotas: prev.derrotas,\r\n          mejorTiempo: mejorTiempo\r\n        }\r\n      );\r\n\r\n      // Si hay recompensa por misiones, sumarla al nivel\r\n      if (missionReward > 0) {\r\n        await updateDoc(userDocRef, { level: increment(missionReward) });\r\n      }\r\n\r\n      // Trofeo personalizado: Memorion (gana una partida de Duos en difícil)\r\n      if (difficulty === 'Dificil') {\r\n        const trophyRef = doc(db, 'users', auth.currentUser.uid, 'trophies', 'memorion');\r\n        await setDoc(trophyRef, {\r\n          unlocked: true,\r\n          date: new Date().toISOString(),\r\n          name: 'Memorion',\r\n          description: 'Gana una partida de DuOS en difícil'\r\n        }, { merge: true });\r\n      }\r\n\r\n      // Revisar para trofeos progresivos\r\n      const victoriasActualizadas = prev.victorias + 1;\r\n      if (victoriasActualizadas > 0 && victoriasActualizadas % 50 === 0) {\r\n        const trophyId = `duos${victoriasActualizadas}`;\r\n        const trophyRef = doc(db, 'users', auth.currentUser.uid, 'trophies', trophyId);\r\n        await setDoc(trophyRef, { \r\n          unlocked: true, \r\n          date: new Date().toISOString(), \r\n          count: victoriasActualizadas,\r\n          name: `Duos Master ${victoriasActualizadas}`,\r\n          description: `¡Has ganado ${victoriasActualizadas} partidas de Duos!`\r\n        });\r\n        // Bonus de nivel por trofeo\r\n        await updateDoc(userDocRef, { level: increment(10) });\r\n      }\r\n    }\r\n  } catch (e) {\r\n    console.error('Error guardando stats de Duos:', e);\r\n  }\r\n};\r\n\r\n// Compara dos strings de tiempo 'm:ss', retorna true si t1 < t2\r\nfunction tiempoMenor(t1, t2) {\r\n  const [m1, s1] = t1.split(':').map(Number);\r\n  const [m2, s2] = t2.split(':').map(Number);\r\n  return m1 < m2 || (m1 === m2 && s1 < s2);\r\n}\r\n\r\n// Función para cambiar el avatar con animación\r\nconst changeAvatarWithAnimation = (newAvatar) => {\r\n  Animated.sequence([\r\n    Animated.timing(fadeAnim, {\r\n      toValue: 0,\r\n      duration: 500,\r\n      useNativeDriver: true,\r\n    }),\r\n    Animated.timing(fadeAnim, {\r\n      toValue: 1,\r\n      duration: 500,\r\n      useNativeDriver: true,\r\n    }),\r\n  ]).start();\r\n  setAvatar(newAvatar);\r\n};\r\n\r\n// Sumar experiencia y nivel al ganar en Duos\r\nasync function addDuosWinExp() {\r\n  if (!auth.currentUser) return;\r\n  const userRef = doc(db, 'users', auth.currentUser.uid);\r\n  const userDoc = await getDoc(userRef);\r\n  let exp = 0, level = 0;\r\n  if (userDoc.exists()) {\r\n    exp = userDoc.data().exp || 0;\r\n    level = userDoc.data().level || 0;\r\n  }\r\n  exp += GAME_SCORES.duos;\r\n  let newLevel = level;\r\n  let expMax = getExpForLevel(newLevel + 1);\r\n  // Subir solo un nivel por victoria\r\n  if (exp >= expMax) {\r\n    exp -= expMax;\r\n    newLevel += 1;\r\n  }\r\n  let updates = { exp, level: newLevel };\r\n  const special = SPECIAL_AVATARS.find(a => a.level === newLevel);\r\n  if (special) {\r\n    updates.photoURL = null;\r\n    updates.avatarSpecial = special.image; // Store only the filename string\r\n  }\r\n  await setDoc(userRef, updates, { merge: true });\r\n\r\n  // Actualizar estadísticas y trofeos\r\n  const statsRef = doc(db, 'users', auth.currentUser.uid, 'duosStats', 'stats');\r\n  const statsDoc = await getDoc(statsRef);\r\n  let prev = { victorias: 0, derrotas: 0 };\r\n  if (statsDoc.exists()) {\r\n    prev = statsDoc.data();\r\n  }\r\n  await setDoc(statsRef, {\r\n    victorias: prev.victorias + 1,\r\n    derrotas: prev.derrotas\r\n  }, { merge: true });\r\n\r\n  // Verificar misiones\r\n  const missionReward = await checkAndUpdateMissions(\r\n    auth.currentUser.uid,\r\n    'DUOS',\r\n    {\r\n      victorias: prev.victorias + 1,\r\n      derrotas: prev.derrotas\r\n    }\r\n  );\r\n\r\n  // Si hay recompensa por misiones, sumarla al nivel\r\n  if (missionReward > 0) {\r\n    await updateDoc(userRef, { level: increment(missionReward) });\r\n  }\r\n}\r\n\r\nexport default function DuosGameScreen({ navigation, route }) {\r\n  const { difficulty } = route.params;\r\n  const [cards, setCards] = useState([]);\r\n  const [flippedIndices, setFlippedIndices] = useState([]);\r\n  const [matchedPairs, setMatchedPairs] = useState([]);\r\n  const [score, setScore] = useState(0);\r\n  const [timer, setTimer] = useState(difficulty === 'Facil' ? 480 : 240); // 8:00 o 4:00 en segundos\r\n  const [gameOver, setGameOver] = useState(false);\r\n  const [showExitConfirm, setShowExitConfirm] = useState(false);\r\n  const [paused, setPaused] = useState(false);\r\n  const flipAnimations = useRef({}).current;\r\n  const fadeAnim = useRef(new Animated.Value(1)).current;\r\n\r\n  // Calculate dynamic card styles based on difficulty\r\n  const cardDynamicStyles = {\r\n    maxWidth: difficulty === 'Facil' ? 100 : 72,\r\n    aspectRatio: 0.65,\r\n    margin: 8,\r\n    minWidth: 52,\r\n    minHeight: 68,\r\n  };\r\n\r\n  // Initialize game\r\n  useEffect(() => {\r\n    initializeGame();\r\n  }, []);\r\n\r\n  // Timer countdown\r\n  useEffect(() => {\r\n    if (timer > 0 && !gameOver && !paused) {\r\n      const interval = setInterval(() => setTimer(t => t - 1), 1000);\r\n      return () => clearInterval(interval);\r\n    } else if (timer === 0 && !gameOver) {\r\n      handleGameOver();\r\n    }\r\n  }, [timer, gameOver, paused]);\r\n\r\n  // Check for matches\r\n  useEffect(() => {\r\n    const checkMatch = async () => {\r\n      if (flippedIndices.length === 2) {\r\n        const [firstIndex, secondIndex] = flippedIndices;\r\n        const firstCard = cards[firstIndex];\r\n        const secondCard = cards[secondIndex];\r\n\r\n        if (firstCard.type === secondCard.type) {\r\n          await new Promise(resolve => setTimeout(resolve, 300));\r\n          setMatchedPairs(prev => [...prev, firstIndex, secondIndex]);\r\n          setScore(prev => prev + 100);\r\n          setFlippedIndices([]);\r\n        } else {\r\n          await new Promise(resolve => setTimeout(resolve, 1000));\r\n          animateCard(firstIndex, 0);\r\n          animateCard(secondIndex, 0);\r\n          setFlippedIndices([]);\r\n        }\r\n      }\r\n    };\r\n\r\n    checkMatch();\r\n  }, [flippedIndices]);\r\n\r\n  // Check for win\r\n  useEffect(() => {\r\n    const totalCards = difficulty === 'Facil' ? 8 : 16;\r\n    if (matchedPairs.length === totalCards) {\r\n      handleGameOver(true);\r\n    }\r\n  }, [matchedPairs]);\r\n\r\n  const initializeGame = () => {\r\n    const gamePairs = difficulty === 'Facil' ? EASY_PAIRS : HARD_PAIRS;\r\n    const shuffledPairs = [...gamePairs]\r\n      .sort(() => Math.random() - 0.5)\r\n      .map((card, index) => ({\r\n        ...card,\r\n        index\r\n      }));\r\n    \r\n    setCards(shuffledPairs);\r\n    setFlippedIndices([]);\r\n    setMatchedPairs([]);\r\n    setScore(0);\r\n    setGameOver(false);\r\n    setTimer(difficulty === 'Facil' ? 480 : 240); // 480s = 8min, 240s = 4min\r\n\r\n    // Inicializa flipAnimations para cada carta\r\n    shuffledPairs.forEach((_, idx) => {\r\n      flipAnimations[idx] = new Animated.Value(0);\r\n    });\r\n  };\r\n\r\n  const animateCard = (index, toValue) => {\r\n    Animated.timing(flipAnimations[index], {\r\n      toValue,\r\n      duration: 200,\r\n      useNativeDriver: true,\r\n    }).start();\r\n  };\r\n\r\n  const handleCardPress = (index) => {\r\n    if (\r\n      flippedIndices.length === 2 ||\r\n      flippedIndices.includes(index) ||\r\n      matchedPairs.includes(index) ||\r\n      gameOver ||\r\n      paused\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    animateCard(index, 1);\r\n    setFlippedIndices(prev => [...prev, index]);\r\n  };\r\n\r\n  const handleGameOver = (isWin = false) => {\r\n    setGameOver(true);\r\n    let finalScore = score;\r\n    if (isWin) {\r\n      finalScore = score + Math.floor(timer * 10); // Bonus points for remaining time\r\n      setScore(finalScore);\r\n      addDuosWinExp();\r\n    }\r\n    // Guardar stats y sumar score a nivel\r\n    const tiempoStr = formatTime(timer);\r\n    updateDuosStats(isWin, tiempoStr, finalScore);\r\n  };\r\n\r\n  const handleBack = () => {\r\n    setShowExitConfirm(true);\r\n    setPaused(true);\r\n  };\r\n\r\n  const formatTime = (seconds) => {\r\n    const mins = Math.floor(seconds / 60);\r\n    const secs = seconds % 60;\r\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  // Organize cards into rows\r\n  const renderCards = () => {\r\n    const rows = [];\r\n    const cardsPerRow = difficulty === 'Facil' ? [4, 4] : [4, 4, 4, 4];\r\n    let currentIndex = 0;\r\n\r\n    cardsPerRow.forEach((numCards, rowIndex) => {\r\n      const rowCards = cards.slice(currentIndex, currentIndex + numCards);\r\n\r\n      rows.push(\r\n        <View key={rowIndex} style={styles.cardRow}>\r\n          {rowCards.map((card, index) => {\r\n            const cardIndex = currentIndex + index;\r\n            const isFlipped = flippedIndices.includes(cardIndex);\r\n            const isMatched = matchedPairs.includes(cardIndex);\r\n            \r\n            const scale = flipAnimations[cardIndex].interpolate({\r\n              inputRange: [0, 0.5, 1],\r\n              outputRange: [1, 0.8, 1]\r\n            });\r\n\r\n            return (\r\n              <TouchableOpacity\r\n                key={card.index}\r\n                style={[\r\n                  styles.card,\r\n                  cardDynamicStyles,\r\n                  (isFlipped || isMatched) && styles.cardFlipped\r\n                ]}\r\n                onPress={() => handleCardPress(cardIndex)}\r\n                activeOpacity={0.7}\r\n                disabled={isMatched || isFlipped || flippedIndices.length === 2}\r\n              >\r\n                <Animated.View style={[\r\n                  styles.cardInner,\r\n                  {\r\n                    transform: [{ scale }]\r\n                  }\r\n                ]}>\r\n                  <Image\r\n                    source={isFlipped || isMatched ? card.image : cartaAbajo}\r\n                    style={styles.cardImage}\r\n                    resizeMode=\"contain\"\r\n                  />\r\n                </Animated.View>\r\n              </TouchableOpacity>\r\n            );\r\n          })}\r\n        </View>\r\n      );\r\n      currentIndex += numCards;\r\n    });\r\n\r\n    return rows;\r\n  };\r\n\r\n  return (\r\n    <SafeAreaView style={styles.container}>\r\n      {/* Back Button */}\r\n      <TouchableOpacity style={styles.backButton} onPress={handleBack}>\r\n        <View style={styles.backBox}>\r\n          <Text style={styles.backText}>←</Text>\r\n        </View>\r\n      </TouchableOpacity>\r\n\r\n      {/* Corner dots */}\r\n      <View style={styles.cornerDotTL} />\r\n      <View style={styles.cornerDotTR} />\r\n      <View style={styles.cornerDotBL} />\r\n      <View style={styles.cornerDotBR} />\r\n\r\n      <View style={styles.header}>\r\n        <Text style={[styles.title, ...pixelStroke]}>DUOS</Text>\r\n        <View style={styles.scoreContainer}>\r\n          <View style={styles.scoreBox}>\r\n            <Text style={styles.scoreLabel}>Parejas encontradas</Text>\r\n            <Text style={styles.scoreValue}>{matchedPairs.length / 2}</Text>\r\n          </View>\r\n          <View style={styles.scoreBox}>\r\n            <Text style={styles.scoreLabel}>Parejas restantes</Text>\r\n            <Text style={styles.scoreValue}>\r\n              {(difficulty === 'Facil' ? 4 : 8) - matchedPairs.length / 2}\r\n            </Text>\r\n          </View>\r\n        </View>\r\n        <View style={styles.timerBox}>\r\n          <Text style={styles.timerText}>{formatTime(timer)}</Text>\r\n        </View>\r\n      </View>\r\n\r\n      <View style={styles.boardContainer}>\r\n        <View style={styles.boardBorder}>\r\n          <View style={styles.board}>\r\n            {renderCards()}\r\n          </View>\r\n        </View>\r\n      </View>\r\n\r\n      {/* Game Over Modal */}\r\n      <Modal\r\n        visible={gameOver}\r\n        transparent\r\n        animationType=\"fade\"\r\n        onRequestClose={() => {}}\r\n      >\r\n        <View style={styles.modalOverlay}>\r\n          <View style={styles.modalContent}>\r\n            <Text style={styles.modalTitle}>\r\n              {matchedPairs.length === (difficulty === 'Facil' ? 8 : 16) ? '¡Victoria!' : 'Game Over'}\r\n            </Text>\r\n            <Text style={styles.modalScore}>Score: {score}</Text>\r\n            <View style={styles.modalButtons}>\r\n              <TouchableOpacity\r\n                style={styles.modalButton}\r\n                onPress={() => {\r\n                  initializeGame();\r\n                }}\r\n              >\r\n                <Text style={styles.modalButtonText}>Reintentar</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity\r\n                style={[styles.modalButton, styles.modalButtonExit]}\r\n                onPress={() => {\r\n                  setGameOver(false);\r\n                  navigation.navigate('DuosDetailScreen');\r\n                }}\r\n              >\r\n                <Text style={styles.modalButtonText}>Salir</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </Modal>\r\n\r\n      {/* Exit Confirmation Modal */}\r\n      <Modal\r\n        visible={showExitConfirm}\r\n        transparent\r\n        animationType=\"fade\"\r\n        onRequestClose={() => {\r\n          setShowExitConfirm(false);\r\n          setPaused(false);\r\n        }}\r\n      >\r\n        <View style={styles.modalOverlay}>\r\n          <View style={styles.modalContent}>\r\n            <Text style={styles.modalTitle}>¿Salir del juego?</Text>\r\n            <Text style={styles.modalText}>Perderás el progreso actual</Text>\r\n            <View style={styles.modalButtons}>\r\n              <TouchableOpacity\r\n                style={styles.modalButton}\r\n                onPress={() => {\r\n                  setShowExitConfirm(false);\r\n                  setPaused(false);\r\n                }}\r\n              >\r\n                <Text style={styles.modalButtonText}>Continuar</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity\r\n                style={[styles.modalButton, styles.modalButtonExit]}\r\n                onPress={() => {\r\n                  setShowExitConfirm(false);\r\n                  setPaused(false);\r\n                  navigation.navigate('DuosDetailScreen');\r\n                }}\r\n              >\r\n                <Text style={styles.modalButtonText}>Salir</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </Modal>\r\n    </SafeAreaView>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#0a0a23',\r\n  },\r\n  cornerDotTL: {\r\n    position: 'absolute',\r\n    top: hp(2.5),\r\n    left: wp(4),\r\n    width: scaleDimension(12),\r\n    height: scaleDimension(12),\r\n    backgroundColor: '#ff2e7e',\r\n    borderRadius: scaleDimension(6),\r\n    zIndex: 2,\r\n  },\r\n  cornerDotTR: {\r\n    position: 'absolute',\r\n    top: hp(2.5),\r\n    right: wp(4),\r\n    width: scaleDimension(12),\r\n    height: scaleDimension(12),\r\n    backgroundColor: '#00fff7',\r\n    borderRadius: scaleDimension(6),\r\n    zIndex: 2,\r\n  },\r\n  cornerDotBL: {\r\n    position: 'absolute',\r\n    bottom: hp(2.5),\r\n    left: wp(4),\r\n    width: scaleDimension(12),\r\n    height: scaleDimension(12),\r\n    backgroundColor: '#00fff7',\r\n    borderRadius: scaleDimension(6),\r\n    zIndex: 2,\r\n  },\r\n  cornerDotBR: {\r\n    position: 'absolute',\r\n    bottom: hp(2.5),\r\n    right: wp(4),\r\n    width: scaleDimension(12),\r\n    height: scaleDimension(12),\r\n    backgroundColor: '#ff2e7e',\r\n    borderRadius: scaleDimension(6),\r\n    zIndex: 2,\r\n  },\r\n  backButton: {\r\n    position: 'absolute',\r\n    top: hp(2.5),\r\n    left: wp(4),\r\n    zIndex: 10,\r\n  },\r\n  backBox: {\r\n    width: scaleDimension(36),\r\n    height: scaleDimension(36),\r\n    borderRadius: scaleDimension(8),\r\n    backgroundColor: '#3a2172',\r\n    borderWidth: scaleDimension(2),\r\n    borderColor: '#ff2e7e',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    boxShadow: '0px 0px 6px #ff2e7e',\r\n  },\r\n  backText: {\r\n    color: '#ff2e7e',\r\n    fontFamily: pixelFont,\r\n    fontSize: scaleFont(22),\r\n    marginLeft: scaleDimension(2),\r\n    marginTop: -scaleDimension(2),\r\n  },\r\n  header: {\r\n    alignItems: 'center',\r\n    marginTop: hp(5),\r\n    marginBottom: hp(3),\r\n    width: '100%',\r\n    paddingHorizontal: wp(4),\r\n  },\r\n  title: {\r\n    fontSize: scaleFont(42),\r\n    fontFamily: pixelFont,\r\n    color: '#ff2e7e',\r\n    marginBottom: hp(3),\r\n    textAlign: 'center',\r\n  },\r\n  scoreContainer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    width: '100%',\r\n    maxWidth: wp(95),\r\n    marginBottom: hp(2),\r\n    paddingHorizontal: wp(2),\r\n  },\r\n  scoreBox: {\r\n    backgroundColor: '#18182e',\r\n    borderWidth: 3,\r\n    borderColor: '#00fff7',\r\n    borderRadius: 12,\r\n    paddingVertical: 12,\r\n    paddingHorizontal: 15,\r\n    alignItems: 'center',\r\n    width: '48%',\r\n    boxShadow: '0px 0px 6px #00fff7',\r\n  },\r\n  scoreLabel: {\r\n    color: '#fff',\r\n    fontFamily: pixelFont,\r\n    fontSize: 14,\r\n    textAlign: 'center',\r\n    marginBottom: 8,\r\n  },\r\n  scoreValue: {\r\n    color: '#00fff7',\r\n    fontFamily: pixelFont,\r\n    fontSize: 28,\r\n    textAlign: 'center',\r\n  },\r\n  timerBox: {\r\n    backgroundColor: '#18182e',\r\n    borderWidth: 3,\r\n    borderColor: '#ff2e7e',\r\n    borderRadius: 12,\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 25,\r\n    marginTop: hp(2),\r\n    boxShadow: '0px 0px 6px #ff2e7e',\r\n  },\r\n  timerText: {\r\n    color: '#ff2e7e',\r\n    fontFamily: pixelFont,\r\n    fontSize: 32,\r\n    textAlign: 'center',\r\n  },\r\n  boardContainer: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingHorizontal: wp(1),\r\n    marginTop: hp(2),\r\n  },\r\n  boardBorder: {\r\n    width: '100%',\r\n    aspectRatio: 0.75,\r\n    maxWidth: 400,\r\n    backgroundColor: '#23233a',\r\n    borderRadius: 16,\r\n    borderWidth: 4,\r\n    borderColor: '#00fff7',\r\n    padding: 12,\r\n    boxShadow: '0px 0px 10px #00fff7',\r\n  },\r\n  board: {\r\n    flex: 1,\r\n    backgroundColor: '#0a0a23',\r\n    borderRadius: 12,\r\n    borderWidth: 3,\r\n    borderColor: '#ff2e7e',\r\n    padding: 20,\r\n    justifyContent: 'space-evenly',\r\n  },\r\n  cardRow: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    width: '100%',\r\n    paddingHorizontal: 0,\r\n  },\r\n  card: {\r\n    backgroundColor: '#23233a',\r\n    borderRadius: 4,\r\n    borderWidth: 1.5,\r\n    borderColor: '#00fff7',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    padding: 2,\r\n    boxShadow: '0px 0px 4px #00fff7',\r\n  },\r\n  cardFlipped: {\r\n    backgroundColor: '#3a2172',\r\n    borderColor: '#ff2e7e',\r\n    boxShadow: '0px 0px 6px #ff2e7e',\r\n  },\r\n  cardInner: {\r\n    width: '100%',\r\n    height: '100%',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  cardImage: {\r\n    width: '75%',\r\n    height: '75%',\r\n    resizeMode: 'contain',\r\n  },\r\n  modalOverlay: {\r\n    flex: 1,\r\n    backgroundColor: 'rgba(0,0,0,0.85)',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n  },\r\n  modalContent: {\r\n    width: '90%',\r\n    maxWidth: 340,\r\n    backgroundColor: '#23233a',\r\n    borderRadius: 16,\r\n    borderWidth: 5,\r\n    borderColor: '#00fff7',\r\n    padding: 6,\r\n    boxShadow: '0px 0px 10px #00fff7',\r\n  },\r\n  modalTitle: {\r\n    color: '#ff2e7e',\r\n    fontFamily: pixelFont,\r\n    fontSize: 24,\r\n    textAlign: 'center',\r\n    marginVertical: 20,\r\n  },\r\n  modalScore: {\r\n    color: '#00fff7',\r\n    fontFamily: pixelFont,\r\n    fontSize: 18,\r\n    textAlign: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  modalText: {\r\n    color: '#fff',\r\n    fontFamily: pixelFont,\r\n    fontSize: 14,\r\n    textAlign: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  modalButtons: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-around',\r\n    marginBottom: 20,\r\n  },\r\n  modalButton: {\r\n    backgroundColor: '#00fff7',\r\n    borderRadius: 8,\r\n    borderWidth: 2,\r\n    borderColor: '#ff2e7e',\r\n    paddingHorizontal: 20,\r\n    paddingVertical: 10,\r\n    boxShadow: '0px 0px 6px #ff2e7e',\r\n  },\r\n  modalButtonExit: {\r\n    backgroundColor: '#ff2e7e',\r\n    borderColor: '#00fff7',\r\n    boxShadow: '0px 0px 6px #00fff7',\r\n  },\r\n  modalButtonText: {\r\n    color: '#0a0a23',\r\n    fontFamily: pixelFont,\r\n    fontSize: 14,\r\n  },\r\n}); "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}