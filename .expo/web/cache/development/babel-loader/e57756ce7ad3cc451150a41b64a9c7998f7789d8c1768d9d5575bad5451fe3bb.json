{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nvar _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Documents\\\\Tricade\\\\src\\\\views\\\\DuosGameScreen.js\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useState, useEffect, useRef } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport { screenWidth as width, screenHeight as height, wp, hp, SPACING, FONT_SIZES, scaleDimension, scaleFont, getResponsiveDimension } from '../utils/dimensions';\nimport { auth, db } from '../firebaseConfig';\nimport { doc, getDoc, setDoc, updateDoc, increment } from 'firebase/firestore';\nimport { checkAndUpdateMissions } from '../utils/missions';\nimport { GAME_SCORES, getExpForLevel, SPECIAL_AVATARS } from '../utils/scoreConfig';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar pixelFont = 'PressStart2P_400Regular';\nvar pixelStroke = [{\n  textShadowOffset: {\n    width: -4,\n    height: 0\n  },\n  textShadowColor: '#000',\n  textShadowRadius: 0\n}, {\n  textShadowOffset: {\n    width: 4,\n    height: 0\n  },\n  textShadowColor: '#000',\n  textShadowRadius: 0\n}, {\n  textShadowOffset: {\n    width: 0,\n    height: -4\n  },\n  textShadowColor: '#000',\n  textShadowRadius: 0\n}, {\n  textShadowOffset: {\n    width: 0,\n    height: 4\n  },\n  textShadowColor: '#000',\n  textShadowRadius: 0\n}, {\n  textShadowOffset: {\n    width: -4,\n    height: -4\n  },\n  textShadowColor: '#000',\n  textShadowRadius: 0\n}, {\n  textShadowOffset: {\n    width: 4,\n    height: -4\n  },\n  textShadowColor: '#000',\n  textShadowRadius: 0\n}, {\n  textShadowOffset: {\n    width: -4,\n    height: 4\n  },\n  textShadowColor: '#000',\n  textShadowRadius: 0\n}, {\n  textShadowOffset: {\n    width: 4,\n    height: 4\n  },\n  textShadowColor: '#000',\n  textShadowRadius: 0\n}];\nvar cartaAbajo = require('../assets/carta-abajo.png');\nvar cartaCorazon = require('../assets/carta-corazon.png');\nvar cartaEstrella = require('../assets/carta-estrella.png');\nvar EASY_PAIRS = [{\n  type: 'corazon',\n  image: cartaCorazon\n}, {\n  type: 'corazon',\n  image: cartaCorazon\n}, {\n  type: 'estrella',\n  image: cartaEstrella\n}, {\n  type: 'estrella',\n  image: cartaEstrella\n}, {\n  type: 'corazon',\n  image: cartaCorazon\n}, {\n  type: 'corazon',\n  image: cartaCorazon\n}, {\n  type: 'estrella',\n  image: cartaEstrella\n}, {\n  type: 'estrella',\n  image: cartaEstrella\n}];\nvar HARD_PAIRS = [{\n  type: 'corazon',\n  image: cartaCorazon\n}, {\n  type: 'corazon',\n  image: cartaCorazon\n}, {\n  type: 'estrella',\n  image: cartaEstrella\n}, {\n  type: 'estrella',\n  image: cartaEstrella\n}, {\n  type: 'corazon',\n  image: cartaCorazon\n}, {\n  type: 'corazon',\n  image: cartaCorazon\n}, {\n  type: 'estrella',\n  image: cartaEstrella\n}, {\n  type: 'estrella',\n  image: cartaEstrella\n}, {\n  type: 'corazon',\n  image: cartaCorazon\n}, {\n  type: 'corazon',\n  image: cartaCorazon\n}, {\n  type: 'estrella',\n  image: cartaEstrella\n}, {\n  type: 'estrella',\n  image: cartaEstrella\n}, {\n  type: 'corazon',\n  image: cartaCorazon\n}, {\n  type: 'corazon',\n  image: cartaCorazon\n}, {\n  type: 'estrella',\n  image: cartaEstrella\n}, {\n  type: 'estrella',\n  image: cartaEstrella\n}];\nvar updateDuosStats = function () {\n  var _ref = _asyncToGenerator(function* (isWin, tiempoStr) {\n    var scoreToAdd = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    try {\n      if (!auth.currentUser) return;\n      var statsRef = doc(db, 'users', auth.currentUser.uid, 'duosStats', 'stats');\n      var userDocRef = doc(db, 'users', auth.currentUser.uid);\n      var statsDoc = yield getDoc(statsRef);\n      var prev = {\n        victorias: 0,\n        derrotas: 0,\n        mejorTiempo: null\n      };\n      if (statsDoc.exists()) {\n        prev = statsDoc.data();\n      }\n      var mejorTiempo = prev.mejorTiempo || null;\n      if (isWin) {\n        if (!mejorTiempo || mejorTiempo === '0:00' || tiempoMenor(tiempoStr, mejorTiempo)) {\n          mejorTiempo = tiempoStr;\n        }\n      }\n      yield setDoc(statsRef, {\n        victorias: prev.victorias + (isWin ? 1 : 0),\n        derrotas: prev.derrotas + (isWin ? 0 : 1),\n        mejorTiempo: mejorTiempo || tiempoStr\n      }, {\n        merge: true\n      });\n      if (isWin) {\n        var _tiempoStr$split$map = tiempoStr.split(':').map(Number),\n          _tiempoStr$split$map2 = _slicedToArray(_tiempoStr$split$map, 2),\n          mins = _tiempoStr$split$map2[0],\n          secs = _tiempoStr$split$map2[1];\n        var tiempoTotal = mins * 60 + secs;\n        var tiempoMaximo = difficulty === 'Facil' ? 480 : 240;\n        var tiempoBonus = Math.floor((tiempoMaximo - tiempoTotal) * 2);\n        var dificultadBonus = difficulty === 'Facil' ? 100 : 200;\n        var scoreFinal = scoreToAdd + tiempoBonus + dificultadBonus;\n        yield updateDoc(userDocRef, {\n          level: increment(scoreFinal)\n        });\n        var missionReward = yield checkAndUpdateMissions(auth.currentUser.uid, 'DUOS', {\n          victorias: prev.victorias + 1,\n          derrotas: prev.derrotas,\n          mejorTiempo: mejorTiempo\n        });\n        if (missionReward > 0) {\n          yield updateDoc(userDocRef, {\n            level: increment(missionReward)\n          });\n        }\n        if (difficulty === 'Dificil') {\n          var trophyRef = doc(db, 'users', auth.currentUser.uid, 'trophies', 'memorion');\n          yield setDoc(trophyRef, {\n            unlocked: true,\n            date: new Date().toISOString(),\n            name: 'Memorion',\n            description: 'Gana una partida de DuOS en difícil'\n          }, {\n            merge: true\n          });\n        }\n        var victoriasActualizadas = prev.victorias + 1;\n        if (victoriasActualizadas > 0 && victoriasActualizadas % 50 === 0) {\n          var trophyId = `duos${victoriasActualizadas}`;\n          var _trophyRef = doc(db, 'users', auth.currentUser.uid, 'trophies', trophyId);\n          yield setDoc(_trophyRef, {\n            unlocked: true,\n            date: new Date().toISOString(),\n            count: victoriasActualizadas,\n            name: `Duos Master ${victoriasActualizadas}`,\n            description: `¡Has ganado ${victoriasActualizadas} partidas de Duos!`\n          });\n          yield updateDoc(userDocRef, {\n            level: increment(10)\n          });\n        }\n      }\n    } catch (e) {\n      console.error('Error guardando stats de Duos:', e);\n    }\n  });\n  return function updateDuosStats(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nfunction tiempoMenor(t1, t2) {\n  var _t1$split$map = t1.split(':').map(Number),\n    _t1$split$map2 = _slicedToArray(_t1$split$map, 2),\n    m1 = _t1$split$map2[0],\n    s1 = _t1$split$map2[1];\n  var _t2$split$map = t2.split(':').map(Number),\n    _t2$split$map2 = _slicedToArray(_t2$split$map, 2),\n    m2 = _t2$split$map2[0],\n    s2 = _t2$split$map2[1];\n  return m1 < m2 || m1 === m2 && s1 < s2;\n}\nfunction addDuosWinExp() {\n  return _addDuosWinExp.apply(this, arguments);\n}\nfunction _addDuosWinExp() {\n  _addDuosWinExp = _asyncToGenerator(function* () {\n    if (!auth.currentUser) return;\n    var userRef = doc(db, 'users', auth.currentUser.uid);\n    var userDoc = yield getDoc(userRef);\n    var exp = 0,\n      level = 0;\n    if (userDoc.exists()) {\n      exp = userDoc.data().exp || 0;\n      level = userDoc.data().level || 0;\n    }\n    exp += GAME_SCORES.duos;\n    var newLevel = level;\n    var expMax = getExpForLevel(newLevel + 1);\n    while (exp >= expMax) {\n      exp -= expMax;\n      newLevel += 1;\n      expMax = getExpForLevel(newLevel + 1);\n    }\n    var updates = {\n      exp: exp,\n      level: newLevel\n    };\n    var special = SPECIAL_AVATARS.find(function (a) {\n      return a.level === newLevel;\n    });\n    if (special) {\n      updates.photoURL = null;\n      updates.avatarSpecial = special.image;\n    }\n    yield setDoc(userRef, updates, {\n      merge: true\n    });\n  });\n  return _addDuosWinExp.apply(this, arguments);\n}\nexport default function DuosGameScreen(_ref2) {\n  var _this = this;\n  var navigation = _ref2.navigation,\n    route = _ref2.route;\n  var difficulty = route.params.difficulty;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    cards = _useState2[0],\n    setCards = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    flippedIndices = _useState4[0],\n    setFlippedIndices = _useState4[1];\n  var _useState5 = useState([]),\n    _useState6 = _slicedToArray(_useState5, 2),\n    matchedPairs = _useState6[0],\n    setMatchedPairs = _useState6[1];\n  var _useState7 = useState(0),\n    _useState8 = _slicedToArray(_useState7, 2),\n    score = _useState8[0],\n    setScore = _useState8[1];\n  var _useState9 = useState(difficulty === 'Facil' ? 480 : 240),\n    _useState0 = _slicedToArray(_useState9, 2),\n    timer = _useState0[0],\n    setTimer = _useState0[1];\n  var _useState1 = useState(false),\n    _useState10 = _slicedToArray(_useState1, 2),\n    gameOver = _useState10[0],\n    setGameOver = _useState10[1];\n  var _useState11 = useState(false),\n    _useState12 = _slicedToArray(_useState11, 2),\n    showExitConfirm = _useState12[0],\n    setShowExitConfirm = _useState12[1];\n  var _useState13 = useState(false),\n    _useState14 = _slicedToArray(_useState13, 2),\n    paused = _useState14[0],\n    setPaused = _useState14[1];\n  var flipAnimations = useRef({}).current;\n  var cardDynamicStyles = {\n    maxWidth: difficulty === 'Facil' ? 100 : 72,\n    aspectRatio: 0.65,\n    margin: 8,\n    minWidth: 52,\n    minHeight: 68\n  };\n  useEffect(function () {\n    initializeGame();\n  }, []);\n  useEffect(function () {\n    if (timer > 0 && !gameOver && !paused) {\n      var interval = setInterval(function () {\n        return setTimer(function (t) {\n          return t - 1;\n        });\n      }, 1000);\n      return function () {\n        return clearInterval(interval);\n      };\n    } else if (timer === 0 && !gameOver) {\n      handleGameOver();\n    }\n  }, [timer, gameOver, paused]);\n  useEffect(function () {\n    var checkMatch = function () {\n      var _ref3 = _asyncToGenerator(function* () {\n        if (flippedIndices.length === 2) {\n          var _flippedIndices = _slicedToArray(flippedIndices, 2),\n            firstIndex = _flippedIndices[0],\n            secondIndex = _flippedIndices[1];\n          var firstCard = cards[firstIndex];\n          var secondCard = cards[secondIndex];\n          if (firstCard.type === secondCard.type) {\n            yield new Promise(function (resolve) {\n              return setTimeout(resolve, 300);\n            });\n            setMatchedPairs(function (prev) {\n              return [].concat(_toConsumableArray(prev), [firstIndex, secondIndex]);\n            });\n            setScore(function (prev) {\n              return prev + 100;\n            });\n            setFlippedIndices([]);\n          } else {\n            yield new Promise(function (resolve) {\n              return setTimeout(resolve, 1000);\n            });\n            animateCard(firstIndex, 0);\n            animateCard(secondIndex, 0);\n            setFlippedIndices([]);\n          }\n        }\n      });\n      return function checkMatch() {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n    checkMatch();\n  }, [flippedIndices]);\n  useEffect(function () {\n    var totalCards = difficulty === 'Facil' ? 8 : 16;\n    if (matchedPairs.length === totalCards) {\n      handleGameOver(true);\n    }\n  }, [matchedPairs]);\n  var initializeGame = function initializeGame() {\n    var gamePairs = difficulty === 'Facil' ? EASY_PAIRS : HARD_PAIRS;\n    var shuffledPairs = _toConsumableArray(gamePairs).sort(function () {\n      return Math.random() - 0.5;\n    }).map(function (card, index) {\n      return _objectSpread(_objectSpread({}, card), {}, {\n        index: index\n      });\n    });\n    setCards(shuffledPairs);\n    setFlippedIndices([]);\n    setMatchedPairs([]);\n    setScore(0);\n    setGameOver(false);\n    setTimer(difficulty === 'Facil' ? 480 : 240);\n    shuffledPairs.forEach(function (_, idx) {\n      flipAnimations[idx] = new Animated.Value(0);\n    });\n  };\n  var animateCard = function animateCard(index, toValue) {\n    Animated.timing(flipAnimations[index], {\n      toValue: toValue,\n      duration: 200,\n      useNativeDriver: true\n    }).start();\n  };\n  var handleCardPress = function handleCardPress(index) {\n    if (flippedIndices.length === 2 || flippedIndices.includes(index) || matchedPairs.includes(index) || gameOver || paused) {\n      return;\n    }\n    animateCard(index, 1);\n    setFlippedIndices(function (prev) {\n      return [].concat(_toConsumableArray(prev), [index]);\n    });\n  };\n  var handleGameOver = function handleGameOver() {\n    var isWin = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    setGameOver(true);\n    var finalScore = score;\n    if (isWin) {\n      finalScore = score + Math.floor(timer * 10);\n      setScore(finalScore);\n      addDuosWinExp();\n    }\n    var tiempoStr = formatTime(timer);\n    updateDuosStats(isWin, tiempoStr, finalScore);\n  };\n  var handleBack = function handleBack() {\n    setShowExitConfirm(true);\n    setPaused(true);\n  };\n  var formatTime = function formatTime(seconds) {\n    var mins = Math.floor(seconds / 60);\n    var secs = seconds % 60;\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n  var renderCards = function renderCards() {\n    var rows = [];\n    var cardsPerRow = difficulty === 'Facil' ? [4, 4] : [4, 4, 4, 4];\n    var currentIndex = 0;\n    cardsPerRow.forEach(function (numCards, rowIndex) {\n      var rowCards = cards.slice(currentIndex, currentIndex + numCards);\n      rows.push(_jsxDEV(View, {\n        style: styles.cardRow,\n        children: rowCards.map(function (card, index) {\n          var cardIndex = currentIndex + index;\n          var isFlipped = flippedIndices.includes(cardIndex);\n          var isMatched = matchedPairs.includes(cardIndex);\n          var scale = flipAnimations[cardIndex].interpolate({\n            inputRange: [0, 0.5, 1],\n            outputRange: [1, 0.8, 1]\n          });\n          return _jsxDEV(TouchableOpacity, {\n            style: [styles.card, cardDynamicStyles, (isFlipped || isMatched) && styles.cardFlipped],\n            onPress: function onPress() {\n              return handleCardPress(cardIndex);\n            },\n            activeOpacity: 0.7,\n            disabled: isMatched || isFlipped || flippedIndices.length === 2,\n            children: _jsxDEV(Animated.View, {\n              style: [styles.cardInner, {\n                transform: [{\n                  scale: scale\n                }]\n              }],\n              children: _jsxDEV(Image, {\n                source: isFlipped || isMatched ? card.image : cartaAbajo,\n                style: styles.cardImage,\n                resizeMode: \"contain\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 17\n            }, _this)\n          }, card.index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 15\n          }, _this);\n        })\n      }, rowIndex, false, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 9\n      }, _this));\n      currentIndex += numCards;\n    });\n    return rows;\n  };\n  return _jsxDEV(SafeAreaView, {\n    style: styles.container,\n    children: [_jsxDEV(TouchableOpacity, {\n      style: styles.backButton,\n      onPress: handleBack,\n      children: _jsxDEV(View, {\n        style: styles.backBox,\n        children: _jsxDEV(Text, {\n          style: styles.backText,\n          children: \"\\u2190\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 7\n    }, this), _jsxDEV(View, {\n      style: styles.cornerDotTL\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 7\n    }, this), _jsxDEV(View, {\n      style: styles.cornerDotTR\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 7\n    }, this), _jsxDEV(View, {\n      style: styles.cornerDotBL\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 7\n    }, this), _jsxDEV(View, {\n      style: styles.cornerDotBR\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 7\n    }, this), _jsxDEV(View, {\n      style: styles.header,\n      children: [_jsxDEV(Text, {\n        style: [styles.title].concat(pixelStroke),\n        children: \"DUOS\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 9\n      }, this), _jsxDEV(View, {\n        style: styles.scoreContainer,\n        children: [_jsxDEV(View, {\n          style: styles.scoreBox,\n          children: [_jsxDEV(Text, {\n            style: styles.scoreLabel,\n            children: \"Parejas encontradas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 13\n          }, this), _jsxDEV(Text, {\n            style: styles.scoreValue,\n            children: matchedPairs.length / 2\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 11\n        }, this), _jsxDEV(View, {\n          style: styles.scoreBox,\n          children: [_jsxDEV(Text, {\n            style: styles.scoreLabel,\n            children: \"Parejas restantes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 13\n          }, this), _jsxDEV(Text, {\n            style: styles.scoreValue,\n            children: (difficulty === 'Facil' ? 4 : 8) - matchedPairs.length / 2\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 9\n      }, this), _jsxDEV(View, {\n        style: styles.timerBox,\n        children: _jsxDEV(Text, {\n          style: styles.timerText,\n          children: formatTime(timer)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 7\n    }, this), _jsxDEV(View, {\n      style: styles.boardContainer,\n      children: _jsxDEV(View, {\n        style: styles.boardBorder,\n        children: _jsxDEV(View, {\n          style: styles.board,\n          children: renderCards()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 7\n    }, this), _jsxDEV(Modal, {\n      visible: gameOver,\n      transparent: true,\n      animationType: \"fade\",\n      onRequestClose: function onRequestClose() {},\n      children: _jsxDEV(View, {\n        style: styles.modalOverlay,\n        children: _jsxDEV(View, {\n          style: styles.modalContent,\n          children: [_jsxDEV(Text, {\n            style: styles.modalTitle,\n            children: matchedPairs.length === (difficulty === 'Facil' ? 8 : 16) ? '¡Victoria!' : 'Game Over'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 13\n          }, this), _jsxDEV(Text, {\n            style: styles.modalScore,\n            children: [\"Score: \", score]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 13\n          }, this), _jsxDEV(View, {\n            style: styles.modalButtons,\n            children: [_jsxDEV(TouchableOpacity, {\n              style: styles.modalButton,\n              onPress: function onPress() {\n                initializeGame();\n              },\n              children: _jsxDEV(Text, {\n                style: styles.modalButtonText,\n                children: \"Reintentar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 442,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 15\n            }, this), _jsxDEV(TouchableOpacity, {\n              style: [styles.modalButton, styles.modalButtonExit],\n              onPress: function onPress() {\n                setGameOver(false);\n                navigation.navigate('DuosDetailScreen');\n              },\n              children: _jsxDEV(Text, {\n                style: styles.modalButtonText,\n                children: \"Salir\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 451,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 7\n    }, this), _jsxDEV(Modal, {\n      visible: showExitConfirm,\n      transparent: true,\n      animationType: \"fade\",\n      onRequestClose: function onRequestClose() {\n        setShowExitConfirm(false);\n        setPaused(false);\n      },\n      children: _jsxDEV(View, {\n        style: styles.modalOverlay,\n        children: _jsxDEV(View, {\n          style: styles.modalContent,\n          children: [_jsxDEV(Text, {\n            style: styles.modalTitle,\n            children: \"\\xBFSalir del juego?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 470,\n            columnNumber: 13\n          }, this), _jsxDEV(Text, {\n            style: styles.modalText,\n            children: \"Perder\\xE1s el progreso actual\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 471,\n            columnNumber: 13\n          }, this), _jsxDEV(View, {\n            style: styles.modalButtons,\n            children: [_jsxDEV(TouchableOpacity, {\n              style: styles.modalButton,\n              onPress: function onPress() {\n                setShowExitConfirm(false);\n                setPaused(false);\n              },\n              children: _jsxDEV(Text, {\n                style: styles.modalButtonText,\n                children: \"Continuar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 480,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 473,\n              columnNumber: 15\n            }, this), _jsxDEV(TouchableOpacity, {\n              style: [styles.modalButton, styles.modalButtonExit],\n              onPress: function onPress() {\n                setShowExitConfirm(false);\n                setPaused(false);\n                navigation.navigate('DuosDetailScreen');\n              },\n              children: _jsxDEV(Text, {\n                style: styles.modalButtonText,\n                children: \"Salir\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 490,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 459,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 381,\n    columnNumber: 5\n  }, this);\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#0a0a23'\n  },\n  cornerDotTL: {\n    position: 'absolute',\n    top: hp(2.5),\n    left: wp(4),\n    width: scaleDimension(12),\n    height: scaleDimension(12),\n    backgroundColor: '#ff2e7e',\n    borderRadius: scaleDimension(6),\n    zIndex: 2\n  },\n  cornerDotTR: {\n    position: 'absolute',\n    top: hp(2.5),\n    right: wp(4),\n    width: scaleDimension(12),\n    height: scaleDimension(12),\n    backgroundColor: '#00fff7',\n    borderRadius: scaleDimension(6),\n    zIndex: 2\n  },\n  cornerDotBL: {\n    position: 'absolute',\n    bottom: hp(2.5),\n    left: wp(4),\n    width: scaleDimension(12),\n    height: scaleDimension(12),\n    backgroundColor: '#00fff7',\n    borderRadius: scaleDimension(6),\n    zIndex: 2\n  },\n  cornerDotBR: {\n    position: 'absolute',\n    bottom: hp(2.5),\n    right: wp(4),\n    width: scaleDimension(12),\n    height: scaleDimension(12),\n    backgroundColor: '#ff2e7e',\n    borderRadius: scaleDimension(6),\n    zIndex: 2\n  },\n  backButton: {\n    position: 'absolute',\n    top: hp(2.5),\n    left: wp(4),\n    zIndex: 10\n  },\n  backBox: {\n    width: scaleDimension(36),\n    height: scaleDimension(36),\n    borderRadius: scaleDimension(8),\n    backgroundColor: '#3a2172',\n    borderWidth: scaleDimension(2),\n    borderColor: '#ff2e7e',\n    alignItems: 'center',\n    justifyContent: 'center',\n    boxShadow: '0px 0px 6px #ff2e7e'\n  },\n  backText: {\n    color: '#ff2e7e',\n    fontFamily: pixelFont,\n    fontSize: scaleFont(22),\n    marginLeft: scaleDimension(2),\n    marginTop: -scaleDimension(2)\n  },\n  header: {\n    alignItems: 'center',\n    marginTop: hp(5),\n    marginBottom: hp(3),\n    width: '100%',\n    paddingHorizontal: wp(4)\n  },\n  title: {\n    fontSize: scaleFont(42),\n    fontFamily: pixelFont,\n    color: '#ff2e7e',\n    marginBottom: hp(3),\n    textAlign: 'center'\n  },\n  scoreContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    width: '100%',\n    maxWidth: wp(95),\n    marginBottom: hp(2),\n    paddingHorizontal: wp(2)\n  },\n  scoreBox: {\n    backgroundColor: '#18182e',\n    borderWidth: 3,\n    borderColor: '#00fff7',\n    borderRadius: 12,\n    paddingVertical: 12,\n    paddingHorizontal: 15,\n    alignItems: 'center',\n    width: '48%',\n    boxShadow: '0px 0px 6px #00fff7'\n  },\n  scoreLabel: {\n    color: '#fff',\n    fontFamily: pixelFont,\n    fontSize: 14,\n    textAlign: 'center',\n    marginBottom: 8\n  },\n  scoreValue: {\n    color: '#00fff7',\n    fontFamily: pixelFont,\n    fontSize: 28,\n    textAlign: 'center'\n  },\n  timerBox: {\n    backgroundColor: '#18182e',\n    borderWidth: 3,\n    borderColor: '#ff2e7e',\n    borderRadius: 12,\n    paddingVertical: 10,\n    paddingHorizontal: 25,\n    marginTop: hp(2),\n    boxShadow: '0px 0px 6px #ff2e7e'\n  },\n  timerText: {\n    color: '#ff2e7e',\n    fontFamily: pixelFont,\n    fontSize: 32,\n    textAlign: 'center'\n  },\n  boardContainer: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingHorizontal: wp(1),\n    marginTop: hp(2)\n  },\n  boardBorder: {\n    width: '100%',\n    aspectRatio: 0.75,\n    maxWidth: 400,\n    backgroundColor: '#23233a',\n    borderRadius: 16,\n    borderWidth: 4,\n    borderColor: '#00fff7',\n    padding: 12,\n    boxShadow: '0px 0px 10px #00fff7'\n  },\n  board: {\n    flex: 1,\n    backgroundColor: '#0a0a23',\n    borderRadius: 12,\n    borderWidth: 3,\n    borderColor: '#ff2e7e',\n    padding: 20,\n    justifyContent: 'space-evenly'\n  },\n  cardRow: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    width: '100%',\n    paddingHorizontal: 0\n  },\n  card: {\n    backgroundColor: '#23233a',\n    borderRadius: 4,\n    borderWidth: 1.5,\n    borderColor: '#00fff7',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 2,\n    boxShadow: '0px 0px 4px #00fff7'\n  },\n  cardFlipped: {\n    backgroundColor: '#3a2172',\n    borderColor: '#ff2e7e',\n    boxShadow: '0px 0px 6px #ff2e7e'\n  },\n  cardInner: {\n    width: '100%',\n    height: '100%',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  cardImage: {\n    width: '75%',\n    height: '75%',\n    resizeMode: 'contain'\n  },\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0,0,0,0.85)',\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20\n  },\n  modalContent: {\n    width: '90%',\n    maxWidth: 340,\n    backgroundColor: '#23233a',\n    borderRadius: 16,\n    borderWidth: 5,\n    borderColor: '#00fff7',\n    padding: 6,\n    boxShadow: '0px 0px 10px #00fff7'\n  },\n  modalTitle: {\n    color: '#ff2e7e',\n    fontFamily: pixelFont,\n    fontSize: 24,\n    textAlign: 'center',\n    marginVertical: 20\n  },\n  modalScore: {\n    color: '#00fff7',\n    fontFamily: pixelFont,\n    fontSize: 18,\n    textAlign: 'center',\n    marginBottom: 20\n  },\n  modalText: {\n    color: '#fff',\n    fontFamily: pixelFont,\n    fontSize: 14,\n    textAlign: 'center',\n    marginBottom: 20\n  },\n  modalButtons: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    marginBottom: 20\n  },\n  modalButton: {\n    backgroundColor: '#00fff7',\n    borderRadius: 8,\n    borderWidth: 2,\n    borderColor: '#ff2e7e',\n    paddingHorizontal: 20,\n    paddingVertical: 10,\n    boxShadow: '0px 0px 6px #ff2e7e'\n  },\n  modalButtonExit: {\n    backgroundColor: '#ff2e7e',\n    borderColor: '#00fff7',\n    boxShadow: '0px 0px 6px #00fff7'\n  },\n  modalButtonText: {\n    color: '#0a0a23',\n    fontFamily: pixelFont,\n    fontSize: 14\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","useRef","View","Text","StyleSheet","TouchableOpacity","SafeAreaView","Dimensions","Image","Modal","Animated","screenWidth","width","screenHeight","height","wp","hp","SPACING","FONT_SIZES","scaleDimension","scaleFont","getResponsiveDimension","auth","db","doc","getDoc","setDoc","updateDoc","increment","checkAndUpdateMissions","GAME_SCORES","getExpForLevel","SPECIAL_AVATARS","jsxDEV","_jsxDEV","pixelFont","pixelStroke","textShadowOffset","textShadowColor","textShadowRadius","cartaAbajo","require","cartaCorazon","cartaEstrella","EASY_PAIRS","type","image","HARD_PAIRS","updateDuosStats","_ref","_asyncToGenerator","isWin","tiempoStr","scoreToAdd","arguments","length","undefined","currentUser","statsRef","uid","userDocRef","statsDoc","prev","victorias","derrotas","mejorTiempo","exists","data","tiempoMenor","merge","_tiempoStr$split$map","split","map","Number","_tiempoStr$split$map2","_slicedToArray","mins","secs","tiempoTotal","tiempoMaximo","difficulty","tiempoBonus","Math","floor","dificultadBonus","scoreFinal","level","missionReward","trophyRef","unlocked","date","Date","toISOString","name","description","victoriasActualizadas","trophyId","count","e","console","error","_x","_x2","apply","t1","t2","_t1$split$map","_t1$split$map2","m1","s1","_t2$split$map","_t2$split$map2","m2","s2","addDuosWinExp","_addDuosWinExp","userRef","userDoc","exp","duos","newLevel","expMax","updates","special","find","a","photoURL","avatarSpecial","DuosGameScreen","_ref2","_this","navigation","route","params","_useState","_useState2","cards","setCards","_useState3","_useState4","flippedIndices","setFlippedIndices","_useState5","_useState6","matchedPairs","setMatchedPairs","_useState7","_useState8","score","setScore","_useState9","_useState0","timer","setTimer","_useState1","_useState10","gameOver","setGameOver","_useState11","_useState12","showExitConfirm","setShowExitConfirm","_useState13","_useState14","paused","setPaused","flipAnimations","current","cardDynamicStyles","maxWidth","aspectRatio","margin","minWidth","minHeight","initializeGame","interval","setInterval","t","clearInterval","handleGameOver","checkMatch","_ref3","_flippedIndices","firstIndex","secondIndex","firstCard","secondCard","Promise","resolve","setTimeout","concat","_toConsumableArray","animateCard","totalCards","gamePairs","shuffledPairs","sort","random","card","index","_objectSpread","forEach","_","idx","Value","toValue","timing","duration","useNativeDriver","start","handleCardPress","includes","finalScore","formatTime","handleBack","seconds","toString","padStart","renderCards","rows","cardsPerRow","currentIndex","numCards","rowIndex","rowCards","slice","push","style","styles","cardRow","children","cardIndex","isFlipped","isMatched","scale","interpolate","inputRange","outputRange","cardFlipped","onPress","activeOpacity","disabled","cardInner","transform","source","cardImage","resizeMode","fileName","_jsxFileName","lineNumber","columnNumber","container","backButton","backBox","backText","cornerDotTL","cornerDotTR","cornerDotBL","cornerDotBR","header","title","scoreContainer","scoreBox","scoreLabel","scoreValue","timerBox","timerText","boardContainer","boardBorder","board","visible","transparent","animationType","onRequestClose","modalOverlay","modalContent","modalTitle","modalScore","modalButtons","modalButton","modalButtonText","modalButtonExit","navigate","modalText","create","flex","backgroundColor","position","top","left","borderRadius","zIndex","right","bottom","borderWidth","borderColor","alignItems","justifyContent","boxShadow","color","fontFamily","fontSize","marginLeft","marginTop","marginBottom","paddingHorizontal","textAlign","flexDirection","paddingVertical","padding","marginVertical"],"sources":["C:/Users/Administrator/Documents/Tricade/src/views/DuosGameScreen.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, SafeAreaView, Dimensions, Image, Modal, Animated } from 'react-native';\r\nimport {\r\n  screenWidth as width,\r\n  screenHeight as height,\r\n  wp,\r\n  hp,\r\n  SPACING,\r\n  FONT_SIZES,\r\n  scaleDimension,\r\n  scaleFont,\r\n  getResponsiveDimension\r\n} from '../utils/dimensions';\r\nimport { auth, db } from '../firebaseConfig';\r\nimport { doc, getDoc, setDoc, updateDoc, increment } from 'firebase/firestore';\r\nimport { checkAndUpdateMissions } from '../utils/missions';\r\nimport { GAME_SCORES, getExpForLevel, SPECIAL_AVATARS } from '../utils/scoreConfig';\r\n\r\nconst pixelFont = 'PressStart2P_400Regular';\r\n\r\nconst pixelStroke = [\r\n  { textShadowOffset: { width: -4, height: 0 }, textShadowColor: '#000', textShadowRadius: 0 },\r\n  { textShadowOffset: { width: 4, height: 0 }, textShadowColor: '#000', textShadowRadius: 0 },\r\n  { textShadowOffset: { width: 0, height: -4 }, textShadowColor: '#000', textShadowRadius: 0 },\r\n  { textShadowOffset: { width: 0, height: 4 }, textShadowColor: '#000', textShadowRadius: 0 },\r\n  { textShadowOffset: { width: -4, height: -4 }, textShadowColor: '#000', textShadowRadius: 0 },\r\n  { textShadowOffset: { width: 4, height: -4 }, textShadowColor: '#000', textShadowRadius: 0 },\r\n  { textShadowOffset: { width: -4, height: 4 }, textShadowColor: '#000', textShadowRadius: 0 },\r\n  { textShadowOffset: { width: 4, height: 4 }, textShadowColor: '#000', textShadowRadius: 0 },\r\n];\r\n\r\nconst cartaAbajo = require('../assets/carta-abajo.png');\r\nconst cartaCorazon = require('../assets/carta-corazon.png');\r\nconst cartaEstrella = require('../assets/carta-estrella.png');\r\n\r\nconst EASY_PAIRS = [\r\n  { type: 'corazon', image: cartaCorazon },\r\n  { type: 'corazon', image: cartaCorazon },\r\n  { type: 'estrella', image: cartaEstrella },\r\n  { type: 'estrella', image: cartaEstrella },\r\n  { type: 'corazon', image: cartaCorazon },\r\n  { type: 'corazon', image: cartaCorazon },\r\n  { type: 'estrella', image: cartaEstrella },\r\n  { type: 'estrella', image: cartaEstrella },\r\n];\r\n\r\nconst HARD_PAIRS = [\r\n  { type: 'corazon', image: cartaCorazon },\r\n  { type: 'corazon', image: cartaCorazon },\r\n  { type: 'estrella', image: cartaEstrella },\r\n  { type: 'estrella', image: cartaEstrella },\r\n  { type: 'corazon', image: cartaCorazon },\r\n  { type: 'corazon', image: cartaCorazon },\r\n  { type: 'estrella', image: cartaEstrella },\r\n  { type: 'estrella', image: cartaEstrella },\r\n  { type: 'corazon', image: cartaCorazon },\r\n  { type: 'corazon', image: cartaCorazon },\r\n  { type: 'estrella', image: cartaEstrella },\r\n  { type: 'estrella', image: cartaEstrella },\r\n  { type: 'corazon', image: cartaCorazon },\r\n  { type: 'corazon', image: cartaCorazon },\r\n  { type: 'estrella', image: cartaEstrella },\r\n  { type: 'estrella', image: cartaEstrella },\r\n];\r\n\r\n// Función para actualizar estadísticas en Firestore\r\nconst updateDuosStats = async (isWin, tiempoStr, scoreToAdd = 0) => {\r\n  try {\r\n    if (!auth.currentUser) return;\r\n    const statsRef = doc(db, 'users', auth.currentUser.uid, 'duosStats', 'stats');\r\n    const userDocRef = doc(db, 'users', auth.currentUser.uid);\r\n    const statsDoc = await getDoc(statsRef);\r\n    let prev = { victorias: 0, derrotas: 0, mejorTiempo: null };\r\n    if (statsDoc.exists()) {\r\n      prev = statsDoc.data();\r\n    }\r\n    let mejorTiempo = prev.mejorTiempo || null;\r\n    // Si ganó, actualiza mejor tiempo si es mejor\r\n    if (isWin) {\r\n      // Si no hay mejor tiempo o el nuevo es menor, actualiza\r\n      if (!mejorTiempo || mejorTiempo === '0:00' || tiempoMenor(tiempoStr, mejorTiempo)) {\r\n        mejorTiempo = tiempoStr;\r\n      }\r\n    }\r\n    await setDoc(statsRef, {\r\n      victorias: prev.victorias + (isWin ? 1 : 0),\r\n      derrotas: prev.derrotas + (isWin ? 0 : 1),\r\n      mejorTiempo: mejorTiempo || tiempoStr\r\n    }, { merge: true });\r\n\r\n    // Si ganó, actualizar nivel y revisar trofeos\r\n    if (isWin) {\r\n      // Calcular score basado en tiempo y dificultad\r\n      const [mins, secs] = tiempoStr.split(':').map(Number);\r\n      const tiempoTotal = mins * 60 + secs;\r\n      const tiempoMaximo = difficulty === 'Facil' ? 480 : 240; // 8 min o 4 min\r\n      const tiempoBonus = Math.floor((tiempoMaximo - tiempoTotal) * 2); // 2 puntos por segundo restante\r\n      const dificultadBonus = difficulty === 'Facil' ? 100 : 200;\r\n      const scoreFinal = scoreToAdd + tiempoBonus + dificultadBonus;\r\n\r\n      // Actualizar nivel\r\n      await updateDoc(userDocRef, { level: increment(scoreFinal) });\r\n\r\n      // Verificar misiones\r\n      const missionReward = await checkAndUpdateMissions(\r\n        auth.currentUser.uid,\r\n        'DUOS',\r\n        {\r\n          victorias: prev.victorias + 1,\r\n          derrotas: prev.derrotas,\r\n          mejorTiempo: mejorTiempo\r\n        }\r\n      );\r\n\r\n      // Si hay recompensa por misiones, sumarla al nivel\r\n      if (missionReward > 0) {\r\n        await updateDoc(userDocRef, { level: increment(missionReward) });\r\n      }\r\n\r\n      // Trofeo personalizado: Memorion (gana una partida de Duos en difícil)\r\n      if (difficulty === 'Dificil') {\r\n        const trophyRef = doc(db, 'users', auth.currentUser.uid, 'trophies', 'memorion');\r\n        await setDoc(trophyRef, {\r\n          unlocked: true,\r\n          date: new Date().toISOString(),\r\n          name: 'Memorion',\r\n          description: 'Gana una partida de DuOS en difícil'\r\n        }, { merge: true });\r\n      }\r\n\r\n      // Revisar para trofeos progresivos\r\n      const victoriasActualizadas = prev.victorias + 1;\r\n      if (victoriasActualizadas > 0 && victoriasActualizadas % 50 === 0) {\r\n        const trophyId = `duos${victoriasActualizadas}`;\r\n        const trophyRef = doc(db, 'users', auth.currentUser.uid, 'trophies', trophyId);\r\n        await setDoc(trophyRef, { \r\n          unlocked: true, \r\n          date: new Date().toISOString(), \r\n          count: victoriasActualizadas,\r\n          name: `Duos Master ${victoriasActualizadas}`,\r\n          description: `¡Has ganado ${victoriasActualizadas} partidas de Duos!`\r\n        });\r\n        // Bonus de nivel por trofeo\r\n        await updateDoc(userDocRef, { level: increment(10) });\r\n      }\r\n    }\r\n  } catch (e) {\r\n    console.error('Error guardando stats de Duos:', e);\r\n  }\r\n};\r\n\r\n// Compara dos strings de tiempo 'm:ss', retorna true si t1 < t2\r\nfunction tiempoMenor(t1, t2) {\r\n  const [m1, s1] = t1.split(':').map(Number);\r\n  const [m2, s2] = t2.split(':').map(Number);\r\n  return m1 < m2 || (m1 === m2 && s1 < s2);\r\n}\r\n\r\n// Sumar experiencia y nivel al ganar en Duos\r\nasync function addDuosWinExp() {\r\n  if (!auth.currentUser) return;\r\n  const userRef = doc(db, 'users', auth.currentUser.uid);\r\n  const userDoc = await getDoc(userRef);\r\n  let exp = 0, level = 0;\r\n  if (userDoc.exists()) {\r\n    exp = userDoc.data().exp || 0;\r\n    level = userDoc.data().level || 0;\r\n  }\r\n  exp += GAME_SCORES.duos;\r\n  let newLevel = level;\r\n  let expMax = getExpForLevel(newLevel + 1);\r\n  while (exp >= expMax) {\r\n    exp -= expMax;\r\n    newLevel += 1;\r\n    expMax = getExpForLevel(newLevel + 1);\r\n  }\r\n  let updates = { exp, level: newLevel };\r\n  const special = SPECIAL_AVATARS.find(a => a.level === newLevel);\r\n  if (special) {\r\n    updates.photoURL = null;\r\n    updates.avatarSpecial = special.image;\r\n  }\r\n  await setDoc(userRef, updates, { merge: true });\r\n}\r\n\r\nexport default function DuosGameScreen({ navigation, route }) {\r\n  const { difficulty } = route.params;\r\n  const [cards, setCards] = useState([]);\r\n  const [flippedIndices, setFlippedIndices] = useState([]);\r\n  const [matchedPairs, setMatchedPairs] = useState([]);\r\n  const [score, setScore] = useState(0);\r\n  const [timer, setTimer] = useState(difficulty === 'Facil' ? 480 : 240); // 8:00 o 4:00 en segundos\r\n  const [gameOver, setGameOver] = useState(false);\r\n  const [showExitConfirm, setShowExitConfirm] = useState(false);\r\n  const [paused, setPaused] = useState(false);\r\n  const flipAnimations = useRef({}).current;\r\n\r\n  // Calculate dynamic card styles based on difficulty\r\n  const cardDynamicStyles = {\r\n    maxWidth: difficulty === 'Facil' ? 100 : 72,\r\n    aspectRatio: 0.65,\r\n    margin: 8,\r\n    minWidth: 52,\r\n    minHeight: 68,\r\n  };\r\n\r\n  // Initialize game\r\n  useEffect(() => {\r\n    initializeGame();\r\n  }, []);\r\n\r\n  // Timer countdown\r\n  useEffect(() => {\r\n    if (timer > 0 && !gameOver && !paused) {\r\n      const interval = setInterval(() => setTimer(t => t - 1), 1000);\r\n      return () => clearInterval(interval);\r\n    } else if (timer === 0 && !gameOver) {\r\n      handleGameOver();\r\n    }\r\n  }, [timer, gameOver, paused]);\r\n\r\n  // Check for matches\r\n  useEffect(() => {\r\n    const checkMatch = async () => {\r\n      if (flippedIndices.length === 2) {\r\n        const [firstIndex, secondIndex] = flippedIndices;\r\n        const firstCard = cards[firstIndex];\r\n        const secondCard = cards[secondIndex];\r\n\r\n        if (firstCard.type === secondCard.type) {\r\n          await new Promise(resolve => setTimeout(resolve, 300));\r\n          setMatchedPairs(prev => [...prev, firstIndex, secondIndex]);\r\n          setScore(prev => prev + 100);\r\n          setFlippedIndices([]);\r\n        } else {\r\n          await new Promise(resolve => setTimeout(resolve, 1000));\r\n          animateCard(firstIndex, 0);\r\n          animateCard(secondIndex, 0);\r\n          setFlippedIndices([]);\r\n        }\r\n      }\r\n    };\r\n\r\n    checkMatch();\r\n  }, [flippedIndices]);\r\n\r\n  // Check for win\r\n  useEffect(() => {\r\n    const totalCards = difficulty === 'Facil' ? 8 : 16;\r\n    if (matchedPairs.length === totalCards) {\r\n      handleGameOver(true);\r\n    }\r\n  }, [matchedPairs]);\r\n\r\n  const initializeGame = () => {\r\n    const gamePairs = difficulty === 'Facil' ? EASY_PAIRS : HARD_PAIRS;\r\n    const shuffledPairs = [...gamePairs]\r\n      .sort(() => Math.random() - 0.5)\r\n      .map((card, index) => ({\r\n        ...card,\r\n        index\r\n      }));\r\n    \r\n    setCards(shuffledPairs);\r\n    setFlippedIndices([]);\r\n    setMatchedPairs([]);\r\n    setScore(0);\r\n    setGameOver(false);\r\n    setTimer(difficulty === 'Facil' ? 480 : 240); // 480s = 8min, 240s = 4min\r\n\r\n    // Inicializa flipAnimations para cada carta\r\n    shuffledPairs.forEach((_, idx) => {\r\n      flipAnimations[idx] = new Animated.Value(0);\r\n    });\r\n  };\r\n\r\n  const animateCard = (index, toValue) => {\r\n    Animated.timing(flipAnimations[index], {\r\n      toValue,\r\n      duration: 200,\r\n      useNativeDriver: true,\r\n    }).start();\r\n  };\r\n\r\n  const handleCardPress = (index) => {\r\n    if (\r\n      flippedIndices.length === 2 ||\r\n      flippedIndices.includes(index) ||\r\n      matchedPairs.includes(index) ||\r\n      gameOver ||\r\n      paused\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    animateCard(index, 1);\r\n    setFlippedIndices(prev => [...prev, index]);\r\n  };\r\n\r\n  const handleGameOver = (isWin = false) => {\r\n    setGameOver(true);\r\n    let finalScore = score;\r\n    if (isWin) {\r\n      finalScore = score + Math.floor(timer * 10); // Bonus points for remaining time\r\n      setScore(finalScore);\r\n      addDuosWinExp();\r\n    }\r\n    // Guardar stats y sumar score a nivel\r\n    const tiempoStr = formatTime(timer);\r\n    updateDuosStats(isWin, tiempoStr, finalScore);\r\n  };\r\n\r\n  const handleBack = () => {\r\n    setShowExitConfirm(true);\r\n    setPaused(true);\r\n  };\r\n\r\n  const formatTime = (seconds) => {\r\n    const mins = Math.floor(seconds / 60);\r\n    const secs = seconds % 60;\r\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  // Organize cards into rows\r\n  const renderCards = () => {\r\n    const rows = [];\r\n    const cardsPerRow = difficulty === 'Facil' ? [4, 4] : [4, 4, 4, 4];\r\n    let currentIndex = 0;\r\n\r\n    cardsPerRow.forEach((numCards, rowIndex) => {\r\n      const rowCards = cards.slice(currentIndex, currentIndex + numCards);\r\n\r\n      rows.push(\r\n        <View key={rowIndex} style={styles.cardRow}>\r\n          {rowCards.map((card, index) => {\r\n            const cardIndex = currentIndex + index;\r\n            const isFlipped = flippedIndices.includes(cardIndex);\r\n            const isMatched = matchedPairs.includes(cardIndex);\r\n            \r\n            const scale = flipAnimations[cardIndex].interpolate({\r\n              inputRange: [0, 0.5, 1],\r\n              outputRange: [1, 0.8, 1]\r\n            });\r\n\r\n            return (\r\n              <TouchableOpacity\r\n                key={card.index}\r\n                style={[\r\n                  styles.card,\r\n                  cardDynamicStyles,\r\n                  (isFlipped || isMatched) && styles.cardFlipped\r\n                ]}\r\n                onPress={() => handleCardPress(cardIndex)}\r\n                activeOpacity={0.7}\r\n                disabled={isMatched || isFlipped || flippedIndices.length === 2}\r\n              >\r\n                <Animated.View style={[\r\n                  styles.cardInner,\r\n                  {\r\n                    transform: [{ scale }]\r\n                  }\r\n                ]}>\r\n                  <Image\r\n                    source={isFlipped || isMatched ? card.image : cartaAbajo}\r\n                    style={styles.cardImage}\r\n                    resizeMode=\"contain\"\r\n                  />\r\n                </Animated.View>\r\n              </TouchableOpacity>\r\n            );\r\n          })}\r\n        </View>\r\n      );\r\n      currentIndex += numCards;\r\n    });\r\n\r\n    return rows;\r\n  };\r\n\r\n  return (\r\n    <SafeAreaView style={styles.container}>\r\n      {/* Back Button */}\r\n      <TouchableOpacity style={styles.backButton} onPress={handleBack}>\r\n        <View style={styles.backBox}>\r\n          <Text style={styles.backText}>←</Text>\r\n        </View>\r\n      </TouchableOpacity>\r\n\r\n      {/* Corner dots */}\r\n      <View style={styles.cornerDotTL} />\r\n      <View style={styles.cornerDotTR} />\r\n      <View style={styles.cornerDotBL} />\r\n      <View style={styles.cornerDotBR} />\r\n\r\n      <View style={styles.header}>\r\n        <Text style={[styles.title, ...pixelStroke]}>DUOS</Text>\r\n        <View style={styles.scoreContainer}>\r\n          <View style={styles.scoreBox}>\r\n            <Text style={styles.scoreLabel}>Parejas encontradas</Text>\r\n            <Text style={styles.scoreValue}>{matchedPairs.length / 2}</Text>\r\n          </View>\r\n          <View style={styles.scoreBox}>\r\n            <Text style={styles.scoreLabel}>Parejas restantes</Text>\r\n            <Text style={styles.scoreValue}>\r\n              {(difficulty === 'Facil' ? 4 : 8) - matchedPairs.length / 2}\r\n            </Text>\r\n          </View>\r\n        </View>\r\n        <View style={styles.timerBox}>\r\n          <Text style={styles.timerText}>{formatTime(timer)}</Text>\r\n        </View>\r\n      </View>\r\n\r\n      <View style={styles.boardContainer}>\r\n        <View style={styles.boardBorder}>\r\n          <View style={styles.board}>\r\n            {renderCards()}\r\n          </View>\r\n        </View>\r\n      </View>\r\n\r\n      {/* Game Over Modal */}\r\n      <Modal\r\n        visible={gameOver}\r\n        transparent\r\n        animationType=\"fade\"\r\n        onRequestClose={() => {}}\r\n      >\r\n        <View style={styles.modalOverlay}>\r\n          <View style={styles.modalContent}>\r\n            <Text style={styles.modalTitle}>\r\n              {matchedPairs.length === (difficulty === 'Facil' ? 8 : 16) ? '¡Victoria!' : 'Game Over'}\r\n            </Text>\r\n            <Text style={styles.modalScore}>Score: {score}</Text>\r\n            <View style={styles.modalButtons}>\r\n              <TouchableOpacity\r\n                style={styles.modalButton}\r\n                onPress={() => {\r\n                  initializeGame();\r\n                }}\r\n              >\r\n                <Text style={styles.modalButtonText}>Reintentar</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity\r\n                style={[styles.modalButton, styles.modalButtonExit]}\r\n                onPress={() => {\r\n                  setGameOver(false);\r\n                  navigation.navigate('DuosDetailScreen');\r\n                }}\r\n              >\r\n                <Text style={styles.modalButtonText}>Salir</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </Modal>\r\n\r\n      {/* Exit Confirmation Modal */}\r\n      <Modal\r\n        visible={showExitConfirm}\r\n        transparent\r\n        animationType=\"fade\"\r\n        onRequestClose={() => {\r\n          setShowExitConfirm(false);\r\n          setPaused(false);\r\n        }}\r\n      >\r\n        <View style={styles.modalOverlay}>\r\n          <View style={styles.modalContent}>\r\n            <Text style={styles.modalTitle}>¿Salir del juego?</Text>\r\n            <Text style={styles.modalText}>Perderás el progreso actual</Text>\r\n            <View style={styles.modalButtons}>\r\n              <TouchableOpacity\r\n                style={styles.modalButton}\r\n                onPress={() => {\r\n                  setShowExitConfirm(false);\r\n                  setPaused(false);\r\n                }}\r\n              >\r\n                <Text style={styles.modalButtonText}>Continuar</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity\r\n                style={[styles.modalButton, styles.modalButtonExit]}\r\n                onPress={() => {\r\n                  setShowExitConfirm(false);\r\n                  setPaused(false);\r\n                  navigation.navigate('DuosDetailScreen');\r\n                }}\r\n              >\r\n                <Text style={styles.modalButtonText}>Salir</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </Modal>\r\n    </SafeAreaView>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#0a0a23',\r\n  },\r\n  cornerDotTL: {\r\n    position: 'absolute',\r\n    top: hp(2.5),\r\n    left: wp(4),\r\n    width: scaleDimension(12),\r\n    height: scaleDimension(12),\r\n    backgroundColor: '#ff2e7e',\r\n    borderRadius: scaleDimension(6),\r\n    zIndex: 2,\r\n  },\r\n  cornerDotTR: {\r\n    position: 'absolute',\r\n    top: hp(2.5),\r\n    right: wp(4),\r\n    width: scaleDimension(12),\r\n    height: scaleDimension(12),\r\n    backgroundColor: '#00fff7',\r\n    borderRadius: scaleDimension(6),\r\n    zIndex: 2,\r\n  },\r\n  cornerDotBL: {\r\n    position: 'absolute',\r\n    bottom: hp(2.5),\r\n    left: wp(4),\r\n    width: scaleDimension(12),\r\n    height: scaleDimension(12),\r\n    backgroundColor: '#00fff7',\r\n    borderRadius: scaleDimension(6),\r\n    zIndex: 2,\r\n  },\r\n  cornerDotBR: {\r\n    position: 'absolute',\r\n    bottom: hp(2.5),\r\n    right: wp(4),\r\n    width: scaleDimension(12),\r\n    height: scaleDimension(12),\r\n    backgroundColor: '#ff2e7e',\r\n    borderRadius: scaleDimension(6),\r\n    zIndex: 2,\r\n  },\r\n  backButton: {\r\n    position: 'absolute',\r\n    top: hp(2.5),\r\n    left: wp(4),\r\n    zIndex: 10,\r\n  },\r\n  backBox: {\r\n    width: scaleDimension(36),\r\n    height: scaleDimension(36),\r\n    borderRadius: scaleDimension(8),\r\n    backgroundColor: '#3a2172',\r\n    borderWidth: scaleDimension(2),\r\n    borderColor: '#ff2e7e',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    boxShadow: '0px 0px 6px #ff2e7e',\r\n  },\r\n  backText: {\r\n    color: '#ff2e7e',\r\n    fontFamily: pixelFont,\r\n    fontSize: scaleFont(22),\r\n    marginLeft: scaleDimension(2),\r\n    marginTop: -scaleDimension(2),\r\n  },\r\n  header: {\r\n    alignItems: 'center',\r\n    marginTop: hp(5),\r\n    marginBottom: hp(3),\r\n    width: '100%',\r\n    paddingHorizontal: wp(4),\r\n  },\r\n  title: {\r\n    fontSize: scaleFont(42),\r\n    fontFamily: pixelFont,\r\n    color: '#ff2e7e',\r\n    marginBottom: hp(3),\r\n    textAlign: 'center',\r\n  },\r\n  scoreContainer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    width: '100%',\r\n    maxWidth: wp(95),\r\n    marginBottom: hp(2),\r\n    paddingHorizontal: wp(2),\r\n  },\r\n  scoreBox: {\r\n    backgroundColor: '#18182e',\r\n    borderWidth: 3,\r\n    borderColor: '#00fff7',\r\n    borderRadius: 12,\r\n    paddingVertical: 12,\r\n    paddingHorizontal: 15,\r\n    alignItems: 'center',\r\n    width: '48%',\r\n    boxShadow: '0px 0px 6px #00fff7',\r\n  },\r\n  scoreLabel: {\r\n    color: '#fff',\r\n    fontFamily: pixelFont,\r\n    fontSize: 14,\r\n    textAlign: 'center',\r\n    marginBottom: 8,\r\n  },\r\n  scoreValue: {\r\n    color: '#00fff7',\r\n    fontFamily: pixelFont,\r\n    fontSize: 28,\r\n    textAlign: 'center',\r\n  },\r\n  timerBox: {\r\n    backgroundColor: '#18182e',\r\n    borderWidth: 3,\r\n    borderColor: '#ff2e7e',\r\n    borderRadius: 12,\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 25,\r\n    marginTop: hp(2),\r\n    boxShadow: '0px 0px 6px #ff2e7e',\r\n  },\r\n  timerText: {\r\n    color: '#ff2e7e',\r\n    fontFamily: pixelFont,\r\n    fontSize: 32,\r\n    textAlign: 'center',\r\n  },\r\n  boardContainer: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingHorizontal: wp(1),\r\n    marginTop: hp(2),\r\n  },\r\n  boardBorder: {\r\n    width: '100%',\r\n    aspectRatio: 0.75,\r\n    maxWidth: 400,\r\n    backgroundColor: '#23233a',\r\n    borderRadius: 16,\r\n    borderWidth: 4,\r\n    borderColor: '#00fff7',\r\n    padding: 12,\r\n    boxShadow: '0px 0px 10px #00fff7',\r\n  },\r\n  board: {\r\n    flex: 1,\r\n    backgroundColor: '#0a0a23',\r\n    borderRadius: 12,\r\n    borderWidth: 3,\r\n    borderColor: '#ff2e7e',\r\n    padding: 20,\r\n    justifyContent: 'space-evenly',\r\n  },\r\n  cardRow: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    width: '100%',\r\n    paddingHorizontal: 0,\r\n  },\r\n  card: {\r\n    backgroundColor: '#23233a',\r\n    borderRadius: 4,\r\n    borderWidth: 1.5,\r\n    borderColor: '#00fff7',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    padding: 2,\r\n    boxShadow: '0px 0px 4px #00fff7',\r\n  },\r\n  cardFlipped: {\r\n    backgroundColor: '#3a2172',\r\n    borderColor: '#ff2e7e',\r\n    boxShadow: '0px 0px 6px #ff2e7e',\r\n  },\r\n  cardInner: {\r\n    width: '100%',\r\n    height: '100%',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  cardImage: {\r\n    width: '75%',\r\n    height: '75%',\r\n    resizeMode: 'contain',\r\n  },\r\n  modalOverlay: {\r\n    flex: 1,\r\n    backgroundColor: 'rgba(0,0,0,0.85)',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n  },\r\n  modalContent: {\r\n    width: '90%',\r\n    maxWidth: 340,\r\n    backgroundColor: '#23233a',\r\n    borderRadius: 16,\r\n    borderWidth: 5,\r\n    borderColor: '#00fff7',\r\n    padding: 6,\r\n    boxShadow: '0px 0px 10px #00fff7',\r\n  },\r\n  modalTitle: {\r\n    color: '#ff2e7e',\r\n    fontFamily: pixelFont,\r\n    fontSize: 24,\r\n    textAlign: 'center',\r\n    marginVertical: 20,\r\n  },\r\n  modalScore: {\r\n    color: '#00fff7',\r\n    fontFamily: pixelFont,\r\n    fontSize: 18,\r\n    textAlign: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  modalText: {\r\n    color: '#fff',\r\n    fontFamily: pixelFont,\r\n    fontSize: 14,\r\n    textAlign: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  modalButtons: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-around',\r\n    marginBottom: 20,\r\n  },\r\n  modalButton: {\r\n    backgroundColor: '#00fff7',\r\n    borderRadius: 8,\r\n    borderWidth: 2,\r\n    borderColor: '#ff2e7e',\r\n    paddingHorizontal: 20,\r\n    paddingVertical: 10,\r\n    boxShadow: '0px 0px 6px #ff2e7e',\r\n  },\r\n  modalButtonExit: {\r\n    backgroundColor: '#ff2e7e',\r\n    borderColor: '#00fff7',\r\n    boxShadow: '0px 0px 6px #00fff7',\r\n  },\r\n  modalButtonText: {\r\n    color: '#0a0a23',\r\n    fontFamily: pixelFont,\r\n    fontSize: 14,\r\n  },\r\n}); "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}