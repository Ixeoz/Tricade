{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Documents\\\\Tricade\\\\src\\\\views\\\\TrikiGameScreen.js\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport { auth, db } from '../firebaseConfig';\nimport { doc, getDoc, setDoc, increment } from 'firebase/firestore';\nimport Svg, { Line } from 'react-native-svg';\nimport { addTrikiWinExp } from './ProfileScreen';\nimport { screenWidth as width, screenHeight as height, wp, hp, SPACING, FONT_SIZES, scaleDimension, scaleFont, getResponsiveDimension } from '../utils/dimensions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar pixelFont = 'PressStart2P_400Regular';\nvar equisTriki = require('../assets/equis-triki.png');\nvar circleTriki = require('../assets/circle-triki.png');\nvar initialBoard = [['', '', ''], ['', '', ''], ['', '', '']];\nfunction formatTime(seconds) {\n  var m = Math.floor(seconds / 60).toString();\n  var s = (seconds % 60).toString().padStart(2, '0');\n  return `${m}:${s}`;\n}\nexport default function TrikiGameScreen(_ref) {\n  var _this = this;\n  var navigation = _ref.navigation;\n  var _useState = useState(initialBoard),\n    _useState2 = _slicedToArray(_useState, 2),\n    board = _useState2[0],\n    setBoard = _useState2[1];\n  var _useState3 = useState('X'),\n    _useState4 = _slicedToArray(_useState3, 2),\n    turn = _useState4[0],\n    setTurn = _useState4[1];\n  var _useState5 = useState({\n      user: 0,\n      ai: 0\n    }),\n    _useState6 = _slicedToArray(_useState5, 2),\n    score = _useState6[0],\n    setScore = _useState6[1];\n  var _useState7 = useState(240),\n    _useState8 = _slicedToArray(_useState7, 2),\n    timer = _useState8[0],\n    setTimer = _useState8[1];\n  var _useState9 = useState(false),\n    _useState0 = _slicedToArray(_useState9, 2),\n    gameOver = _useState0[0],\n    setGameOver = _useState0[1];\n  var _useState1 = useState(null),\n    _useState10 = _slicedToArray(_useState1, 2),\n    winnerLine = _useState10[0],\n    setWinnerLine = _useState10[1];\n  var _useState11 = useState(false),\n    _useState12 = _slicedToArray(_useState11, 2),\n    paused = _useState12[0],\n    setPaused = _useState12[1];\n  var _useState13 = useState(false),\n    _useState14 = _slicedToArray(_useState13, 2),\n    showExitConfirm = _useState14[0],\n    setShowExitConfirm = _useState14[1];\n  var _useState15 = useState({\n      width: 0,\n      height: 0\n    }),\n    _useState16 = _slicedToArray(_useState15, 2),\n    boardLayout = _useState16[0],\n    setBoardLayout = _useState16[1];\n  useEffect(function () {\n    if (timer > 0 && !gameOver && !paused) {\n      var interval = setInterval(function () {\n        return setTimer(function (t) {\n          return t - 1;\n        });\n      }, 1000);\n      return function () {\n        return clearInterval(interval);\n      };\n    }\n  }, [timer, gameOver, paused]);\n  useEffect(function () {\n    if (turn === 'O' && !gameOver) {\n      var empty = [];\n      board.forEach(function (row, i) {\n        return row.forEach(function (cell, j) {\n          if (!cell) empty.push([i, j]);\n        });\n      });\n      if (empty.length > 0) {\n        setTimeout(function () {\n          var _empty$Math$floor = _slicedToArray(empty[Math.floor(Math.random() * empty.length)], 2),\n            i = _empty$Math$floor[0],\n            j = _empty$Math$floor[1];\n          makeMove(i, j);\n        }, 600);\n      }\n    }\n  }, [turn, board, gameOver]);\n  function updateStats(_x) {\n    return _updateStats.apply(this, arguments);\n  }\n  function _updateStats() {\n    _updateStats = _asyncToGenerator(function* (result) {\n      if (!auth.currentUser) return;\n      var userRef = doc(db, 'users', auth.currentUser.uid);\n      var statsRef = doc(userRef, 'trikiStats', 'stats');\n      var userDocRef = doc(db, 'users', auth.currentUser.uid);\n      try {\n        var statsDoc = yield getDoc(statsRef);\n        if (!statsDoc.exists()) {\n          yield setDoc(statsRef, {\n            victorias: 0,\n            derrotas: 0,\n            empates: 0\n          });\n        }\n        yield setDoc(statsRef, _defineProperty({}, result, increment(1)), {\n          merge: true\n        });\n        if (result === 'victorias') {\n          var updatedDoc = yield getDoc(statsRef);\n          var victorias = updatedDoc.exists() ? updatedDoc.data().victorias || 0 : 0;\n          if (victorias > 0 && victorias % 5 === 0) {\n            yield setDoc(userDocRef, {\n              level: increment(2)\n            }, {\n              merge: true\n            });\n          }\n          if (victorias > 0 && victorias % 50 === 0) {\n            var trophyId = `triki${victorias}`;\n            var trophyRef = doc(userRef, 'trophies', trophyId);\n            yield setDoc(trophyRef, {\n              unlocked: true,\n              date: new Date().toISOString(),\n              count: victorias\n            });\n            yield setDoc(userDocRef, {\n              level: increment(10)\n            }, {\n              merge: true\n            });\n          }\n        }\n      } catch (error) {\n        console.error('Error updating stats:', error);\n      }\n    });\n    return _updateStats.apply(this, arguments);\n  }\n  function checkWinner(b) {\n    for (var i = 0; i < 3; i++) {\n      if (b[i][0] && b[i][0] === b[i][1] && b[i][1] === b[i][2]) {\n        return {\n          line: ['row', i]\n        };\n      }\n    }\n    for (var _i = 0; _i < 3; _i++) {\n      if (b[0][_i] && b[0][_i] === b[1][_i] && b[1][_i] === b[2][_i]) {\n        return {\n          line: ['col', _i]\n        };\n      }\n    }\n    if (b[0][0] && b[0][0] === b[1][1] && b[1][1] === b[2][2]) {\n      return {\n        line: ['diag', 0]\n      };\n    }\n    if (b[0][2] && b[0][2] === b[1][1] && b[1][1] === b[2][0]) {\n      return {\n        line: ['diag', 1]\n      };\n    }\n    return null;\n  }\n  function makeMove(i, j) {\n    if (board[i][j] || gameOver) return;\n    var newBoard = board.map(function (row) {\n      return _toConsumableArray(row);\n    });\n    newBoard[i][j] = turn;\n    setBoard(newBoard);\n    var win = checkWinner(newBoard);\n    if (win) {\n      setGameOver(true);\n      setWinnerLine(win.line);\n      if (turn === 'X') {\n        setScore(function (s) {\n          return _objectSpread(_objectSpread({}, s), {}, {\n            user: s.user + 1\n          });\n        });\n        updateStats('victorias');\n        addTrikiWinExp();\n      } else {\n        setScore(function (s) {\n          return _objectSpread(_objectSpread({}, s), {}, {\n            ai: s.ai + 1\n          });\n        });\n        updateStats('derrotas');\n      }\n      setTimeout(resetBoard, 1800);\n    } else if (newBoard.flat().every(function (cell) {\n      return cell;\n    })) {\n      setGameOver(true);\n      updateStats('empates');\n      setTimeout(resetBoard, 1800);\n    } else {\n      setTurn(turn === 'X' ? 'O' : 'X');\n    }\n  }\n  function resetBoard() {\n    setBoard(initialBoard);\n    setTurn('X');\n    setGameOver(false);\n    setWinnerLine(null);\n  }\n  return _jsxDEV(SafeAreaView, {\n    style: {\n      flex: 1,\n      backgroundColor: '#0a0a23'\n    },\n    children: _jsxDEV(View, {\n      style: styles.root,\n      children: [_jsxDEV(View, {\n        style: styles.topBar,\n        children: [_jsxDEV(TouchableOpacity, {\n          onPress: function onPress() {\n            return navigation.goBack();\n          },\n          style: [styles.topBtn, styles.topBtnGlow],\n          children: _jsxDEV(Text, {\n            style: [styles.topTextIcon, {\n              color: '#00fff7',\n              textShadowColor: '#00fff7',\n              textShadowRadius: 8,\n              textShadowOffset: {\n                width: 0,\n                height: 0\n              }\n            }],\n            children: \"\\u2190\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this), _jsxDEV(TouchableOpacity, {\n          onPress: function onPress() {\n            return setPaused(true);\n          },\n          style: [styles.topBtn, styles.topBtnGlow],\n          children: _jsxDEV(Text, {\n            style: [styles.topTextIcon, {\n              color: '#00fff7',\n              textShadowColor: '#00fff7',\n              textShadowRadius: 8,\n              textShadowOffset: {\n                width: 0,\n                height: 0\n              }\n            }],\n            children: \"\\u2225\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this), _jsxDEV(TouchableOpacity, {\n          onPress: function onPress() {\n            return setShowExitConfirm(true);\n          },\n          style: [styles.topBtn, styles.topBtnGlow],\n          children: _jsxDEV(Text, {\n            style: [styles.topTextIcon, {\n              color: '#ff2e7e',\n              textShadowColor: '#ff2e7e',\n              textShadowRadius: 8,\n              textShadowOffset: {\n                width: 0,\n                height: 0\n              }\n            }],\n            children: \"\\u2716\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this), _jsxDEV(View, {\n        style: styles.turnBox,\n        children: [_jsxDEV(Text, {\n          style: styles.turnLabel,\n          children: \"Turno de:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this), _jsxDEV(Text, {\n          style: [styles.turnIcon, {\n            color: turn === 'X' ? '#00fff7' : '#ff2e7e',\n            fontSize: Math.min(width * 0.06, 36),\n            textShadowColor: turn === 'X' ? '#00fff7' : '#ff2e7e',\n            textShadowRadius: 8\n          }],\n          children: turn\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this), _jsxDEV(View, {\n        style: styles.boardBorder,\n        children: _jsxDEV(View, {\n          style: styles.boardInner,\n          onLayout: function onLayout(e) {\n            return setBoardLayout(e.nativeEvent.layout);\n          },\n          children: [board.map(function (row, i) {\n            return _jsxDEV(View, {\n              style: styles.boardRow,\n              children: row.map(function (cell, j) {\n                return _jsxDEV(TouchableOpacity, {\n                  style: styles.cell,\n                  activeOpacity: cell || gameOver || turn === 'O' ? 1 : 0.7,\n                  onPress: function onPress() {\n                    return turn === 'X' && !cell && !gameOver ? makeMove(i, j) : null;\n                  },\n                  children: [cell === 'X' && _jsxDEV(Image, {\n                    source: equisTriki,\n                    style: styles.cellIcon,\n                    resizeMode: \"contain\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 206,\n                    columnNumber: 38\n                  }, _this), cell === 'O' && _jsxDEV(Image, {\n                    source: circleTriki,\n                    style: styles.cellIcon,\n                    resizeMode: \"contain\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 207,\n                    columnNumber: 38\n                  }, _this)]\n                }, j, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 19\n                }, _this);\n              })\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 15\n            }, _this);\n          }), winnerLine && _jsxDEV(WinnerLine, {\n            line: winnerLine,\n            boardLayout: boardLayout,\n            winnerSymbol: turn\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 28\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), _jsxDEV(View, {\n        style: styles.scoreRow,\n        children: [_jsxDEV(View, {\n          style: styles.scoreBox,\n          children: [_jsxDEV(Text, {\n            style: styles.scoreLabel,\n            children: \"T\\xDA\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 41\n          }, this), _jsxDEV(Text, {\n            style: styles.scoreValue,\n            children: score.user\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 82\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this), _jsxDEV(View, {\n          style: styles.scoreBox,\n          children: [_jsxDEV(Text, {\n            style: styles.scoreLabel,\n            children: \"IA\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 41\n          }, this), _jsxDEV(Text, {\n            style: styles.scoreValue,\n            children: score.ai\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 82\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this), _jsxDEV(View, {\n        style: styles.timerBox,\n        children: _jsxDEV(Text, {\n          style: styles.timerText,\n          children: formatTime(timer)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this), _jsxDEV(Modal, {\n        visible: paused,\n        transparent: true,\n        animationType: \"fade\",\n        onRequestClose: function onRequestClose() {\n          return setPaused(false);\n        },\n        children: _jsxDEV(View, {\n          style: styles.pauseOverlay,\n          children: _jsxDEV(View, {\n            style: styles.pauseBoxBorder,\n            children: _jsxDEV(View, {\n              style: styles.pauseBox,\n              children: [_jsxDEV(Text, {\n                style: styles.pauseTitle,\n                children: \"Juego pausado\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 17\n              }, this), _jsxDEV(Text, {\n                style: styles.pauseMsg,\n                children: \"\\xBFSigues ah\\xED?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 17\n              }, this), _jsxDEV(TouchableOpacity, {\n                style: styles.pauseBtn,\n                onPress: function onPress() {\n                  return setPaused(false);\n                },\n                children: _jsxDEV(Text, {\n                  style: styles.pauseBtnText,\n                  children: \"Continuar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this), _jsxDEV(Modal, {\n        visible: showExitConfirm,\n        transparent: true,\n        animationType: \"fade\",\n        onRequestClose: function onRequestClose() {\n          return setShowExitConfirm(false);\n        },\n        children: _jsxDEV(View, {\n          style: styles.pauseOverlay,\n          children: _jsxDEV(View, {\n            style: styles.pauseBoxBorder,\n            children: _jsxDEV(View, {\n              style: styles.pauseBox,\n              children: [_jsxDEV(Text, {\n                style: styles.exitMsg,\n                children: \"\\xBFSeguro que que quieres salir?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 17\n              }, this), _jsxDEV(Text, {\n                style: styles.exitWarn,\n                children: \"No se guardara el progreso\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 17\n              }, this), _jsxDEV(TouchableOpacity, {\n                style: [styles.pauseBtn, {\n                  marginBottom: 8\n                }],\n                onPress: function onPress() {\n                  setShowExitConfirm(false);\n                  navigation.goBack();\n                },\n                children: _jsxDEV(Text, {\n                  style: [styles.pauseBtnText, {\n                    color: '#ff2e7e'\n                  }],\n                  children: \"Salir\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 17\n              }, this), _jsxDEV(TouchableOpacity, {\n                style: styles.pauseBtn,\n                onPress: function onPress() {\n                  return setShowExitConfirm(false);\n                },\n                children: _jsxDEV(Text, {\n                  style: [styles.pauseBtnText, {\n                    color: '#00fff7'\n                  }],\n                  children: \"Cancelar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 167,\n    columnNumber: 5\n  }, this);\n}\nfunction WinnerLine(_ref2) {\n  var line = _ref2.line,\n    boardLayout = _ref2.boardLayout,\n    winnerSymbol = _ref2.winnerSymbol;\n  if (!boardLayout.width || !boardLayout.height) return null;\n  var lineThickness = 10;\n  var glowThickness = 22;\n  var cellW = boardLayout.width / 3;\n  var cellH = boardLayout.height / 3;\n  var color = winnerSymbol === 'X' ? '#00fff7' : '#ff2e7e';\n  var glowColor = winnerSymbol === 'X' ? '#00fff7aa' : '#ff2e7eaa';\n  var x1, y1, x2, y2;\n  if (line[0] === 'row') {\n    x1 = cellW / 2;\n    y1 = cellH * line[1] + cellH / 2;\n    x2 = boardLayout.width - cellW / 2;\n    y2 = y1;\n  } else if (line[0] === 'col') {\n    x1 = cellW * line[1] + cellW / 2;\n    y1 = cellH / 2;\n    x2 = x1;\n    y2 = boardLayout.height - cellH / 2;\n  } else if (line[0] === 'diag' && line[1] === 0) {\n    x1 = cellW / 2;\n    y1 = cellH / 2;\n    x2 = boardLayout.width - cellW / 2;\n    y2 = boardLayout.height - cellH / 2;\n  } else if (line[0] === 'diag' && line[1] === 1) {\n    x1 = boardLayout.width - cellW / 2;\n    y1 = cellH / 2;\n    x2 = cellW / 2;\n    y2 = boardLayout.height - cellH / 2;\n  }\n  return _jsxDEV(Svg, {\n    style: {\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      width: boardLayout.width,\n      height: boardLayout.height,\n      pointerEvents: 'none'\n    },\n    width: boardLayout.width,\n    height: boardLayout.height,\n    children: [_jsxDEV(Line, {\n      x1: x1,\n      y1: y1,\n      x2: x2,\n      y2: y2,\n      stroke: glowColor,\n      strokeWidth: glowThickness,\n      strokeLinecap: \"round\",\n      opacity: 0.45\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 7\n    }, this), _jsxDEV(Line, {\n      x1: x1,\n      y1: y1,\n      x2: x2,\n      y2: y2,\n      stroke: color,\n      strokeWidth: lineThickness,\n      strokeLinecap: \"round\",\n      opacity: 0.98\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 303,\n    columnNumber: 5\n  }, this);\n}\nvar styles = StyleSheet.create({\n  root: {\n    flex: 1,\n    backgroundColor: '#0a0a23',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    width: '100%'\n  },\n  topBar: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: '92%',\n    marginTop: Math.max(12, height * 0.018),\n    marginBottom: Math.max(12, height * 0.01),\n    alignSelf: 'center'\n  },\n  topBtn: {\n    backgroundColor: '#18182e',\n    borderWidth: 3,\n    borderColor: '#00fff7',\n    borderRadius: Math.max(18, width * 0.045),\n    padding: 4,\n    width: 40,\n    height: 40,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  topBtnGlow: {\n    shadowColor: '#00fff7',\n    shadowOpacity: 0.18,\n    shadowRadius: 18,\n    shadowOffset: {\n      width: 0,\n      height: 0\n    }\n  },\n  topIcon: {\n    width: 28,\n    height: 28\n  },\n  topTextIcon: {\n    fontFamily: pixelFont,\n    fontSize: Math.min(width * 0.06, 28),\n    textAlign: 'center',\n    textShadowColor: '#18182e',\n    textShadowOffset: {\n      width: 2,\n      height: 2\n    },\n    textShadowRadius: 1\n  },\n  turnBox: {\n    backgroundColor: '#23233a',\n    borderWidth: 3,\n    borderColor: '#00fff7',\n    borderRadius: Math.max(18, width * 0.045),\n    paddingHorizontal: Math.max(12, width * 0.06),\n    paddingVertical: Math.max(4, width * 0.03),\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  turnLabel: {\n    color: '#fff',\n    fontFamily: pixelFont,\n    fontSize: Math.min(width * 0.06, 26),\n    marginBottom: Math.max(2, width * 0.005)\n  },\n  turnIcon: {\n    fontFamily: pixelFont,\n    fontSize: Math.min(width * 0.06, 36)\n  },\n  boardBorder: {\n    borderWidth: 7,\n    borderColor: '#00fff7',\n    borderRadius: Math.max(22, width * 0.045),\n    backgroundColor: '#23233a',\n    padding: Math.max(6, width * 0.005),\n    marginTop: Math.max(12, width * 0.005),\n    marginBottom: Math.max(12, width * 0.005),\n    alignSelf: 'center',\n    width: '99%',\n    maxWidth: undefined\n  },\n  boardInner: {\n    borderWidth: 5,\n    borderColor: '#ff2e7e',\n    borderRadius: Math.max(18, width * 0.045),\n    backgroundColor: '#101926',\n    width: '100%',\n    aspectRatio: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    position: 'relative',\n    overflow: 'hidden',\n    maxWidth: undefined\n  },\n  boardRow: {\n    flexDirection: 'row',\n    width: '100%',\n    height: '33.33%'\n  },\n  cell: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 2,\n    borderColor: '#00fff7',\n    margin: Math.max(2, width * 0.005),\n    aspectRatio: 1,\n    backgroundColor: 'transparent'\n  },\n  cellIcon: {\n    width: '80%',\n    height: '80%'\n  },\n  scoreRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: '80%',\n    marginTop: Math.max(12, width * 0.01),\n    marginBottom: 0,\n    alignSelf: 'center'\n  },\n  scoreBox: {\n    backgroundColor: '#18182e',\n    borderWidth: 4,\n    borderColor: '#00fff7',\n    borderRadius: Math.max(14, width * 0.045),\n    paddingVertical: Math.max(16, width * 0.03),\n    paddingHorizontal: Math.max(32, width * 0.06),\n    alignItems: 'center',\n    minWidth: Math.max(80, width * 0.09)\n  },\n  scoreLabel: {\n    color: '#fff',\n    fontFamily: pixelFont,\n    fontSize: Math.min(width * 0.06, 26),\n    marginBottom: Math.max(2, width * 0.005)\n  },\n  scoreValue: {\n    color: '#00fff7',\n    fontFamily: pixelFont,\n    fontSize: Math.min(width * 0.09, 32)\n  },\n  timerBox: {\n    marginTop: Math.max(16, width * 0.01),\n    backgroundColor: '#23233a',\n    borderWidth: 4,\n    borderColor: '#7d2fff',\n    borderRadius: Math.max(14, width * 0.045),\n    paddingVertical: Math.max(12, width * 0.03),\n    paddingHorizontal: Math.max(36, width * 0.06),\n    alignItems: 'center',\n    alignSelf: 'center'\n  },\n  timerText: {\n    color: '#fff',\n    fontFamily: pixelFont,\n    fontSize: Math.min(width * 0.09, 32),\n    letterSpacing: 2\n  },\n  pauseOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(10,10,35,0.93)',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: Math.max(18, width * 0.03),\n    zIndex: 100\n  },\n  pauseBoxBorder: {\n    borderWidth: 6,\n    borderColor: '#00fff7',\n    borderRadius: Math.max(22, width * 0.045),\n    backgroundColor: '#23233a',\n    padding: Math.max(6, width * 0.005),\n    shadowColor: '#00fff7',\n    shadowOpacity: 0.18,\n    shadowRadius: 18,\n    shadowOffset: {\n      width: 0,\n      height: 0\n    }\n  },\n  pauseBox: {\n    borderWidth: 4,\n    borderColor: '#ff2e7e',\n    borderRadius: Math.max(16, width * 0.045),\n    backgroundColor: '#101926',\n    paddingVertical: Math.max(height * 0.03, width * 0.06),\n    paddingHorizontal: Math.max(width * 0.06, 220),\n    alignItems: 'center',\n    maxWidth: Math.min(width * 0.9, 370),\n    minWidth: Math.max(220, width * 0.06)\n  },\n  pauseTitle: {\n    color: '#ff2e7e',\n    fontFamily: pixelFont,\n    fontSize: Math.min(width * 0.06, 26),\n    textAlign: 'center',\n    marginBottom: Math.max(10, width * 0.005),\n    letterSpacing: 1\n  },\n  pauseMsg: {\n    color: '#fff',\n    fontFamily: pixelFont,\n    fontSize: Math.min(width * 0.045, 18),\n    textAlign: 'center',\n    marginBottom: Math.max(18, width * 0.005)\n  },\n  pauseBtn: {\n    width: '90%',\n    alignSelf: 'center',\n    backgroundColor: '#101926',\n    borderWidth: 3,\n    borderColor: '#00fff7',\n    borderRadius: Math.max(12, width * 0.045),\n    paddingVertical: Math.max(height * 0.022, width * 0.03),\n    marginTop: Math.max(height * 0.01, width * 0.005),\n    shadowColor: '#00fff7',\n    shadowOpacity: 0.25,\n    shadowRadius: 10,\n    shadowOffset: {\n      width: 0,\n      height: 0\n    }\n  },\n  pauseBtnText: {\n    color: '#00fff7',\n    fontFamily: pixelFont,\n    fontSize: Math.min(width * 0.06, 22),\n    textAlign: 'center',\n    letterSpacing: 2\n  },\n  exitMsg: {\n    color: '#fff',\n    fontFamily: pixelFont,\n    fontSize: Math.min(width * 0.045, 18),\n    textAlign: 'center',\n    marginBottom: Math.max(8, width * 0.005)\n  },\n  exitWarn: {\n    color: '#ff2e7e',\n    fontFamily: pixelFont,\n    fontSize: Math.min(width * 0.042, 16),\n    textAlign: 'center',\n    marginBottom: Math.max(18, width * 0.005)\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","View","Text","StyleSheet","Image","Dimensions","TouchableOpacity","SafeAreaView","Modal","auth","db","doc","getDoc","setDoc","increment","Svg","Line","addTrikiWinExp","screenWidth","width","screenHeight","height","wp","hp","SPACING","FONT_SIZES","scaleDimension","scaleFont","getResponsiveDimension","jsxDEV","_jsxDEV","pixelFont","equisTriki","require","circleTriki","initialBoard","formatTime","seconds","m","Math","floor","toString","s","padStart","TrikiGameScreen","_ref","_this","navigation","_useState","_useState2","_slicedToArray","board","setBoard","_useState3","_useState4","turn","setTurn","_useState5","user","ai","_useState6","score","setScore","_useState7","_useState8","timer","setTimer","_useState9","_useState0","gameOver","setGameOver","_useState1","_useState10","winnerLine","setWinnerLine","_useState11","_useState12","paused","setPaused","_useState13","_useState14","showExitConfirm","setShowExitConfirm","_useState15","_useState16","boardLayout","setBoardLayout","interval","setInterval","t","clearInterval","empty","forEach","row","i","cell","j","push","length","setTimeout","_empty$Math$floor","random","makeMove","updateStats","_x","_updateStats","apply","arguments","_asyncToGenerator","result","currentUser","userRef","uid","statsRef","userDocRef","statsDoc","exists","victorias","derrotas","empates","_defineProperty","merge","updatedDoc","data","level","trophyId","trophyRef","unlocked","date","Date","toISOString","count","error","console","checkWinner","b","line","newBoard","map","_toConsumableArray","win","_objectSpread","resetBoard","flat","every","style","flex","backgroundColor","children","styles","root","topBar","onPress","goBack","topBtn","topBtnGlow","topTextIcon","color","textShadowColor","textShadowRadius","textShadowOffset","fileName","_jsxFileName","lineNumber","columnNumber","turnBox","turnLabel","turnIcon","fontSize","min","boardBorder","boardInner","onLayout","e","nativeEvent","layout","boardRow","activeOpacity","source","cellIcon","resizeMode","WinnerLine","winnerSymbol","scoreRow","scoreBox","scoreLabel","scoreValue","timerBox","timerText","visible","transparent","animationType","onRequestClose","pauseOverlay","pauseBoxBorder","pauseBox","pauseTitle","pauseMsg","pauseBtn","pauseBtnText","exitMsg","exitWarn","marginBottom","_ref2","lineThickness","glowThickness","cellW","cellH","glowColor","x1","y1","x2","y2","position","left","top","pointerEvents","stroke","strokeWidth","strokeLinecap","opacity","create","alignItems","justifyContent","flexDirection","marginTop","max","alignSelf","borderWidth","borderColor","borderRadius","padding","shadowColor","shadowOpacity","shadowRadius","shadowOffset","topIcon","fontFamily","textAlign","paddingHorizontal","paddingVertical","maxWidth","undefined","aspectRatio","overflow","margin","minWidth","letterSpacing","zIndex"],"sources":["C:/Users/Administrator/Documents/Tricade/src/views/TrikiGameScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { View, Text, StyleSheet, Image, Dimensions, TouchableOpacity, SafeAreaView, Modal } from 'react-native';\r\nimport { auth, db } from '../firebaseConfig';\r\nimport { doc, getDoc, setDoc, increment } from 'firebase/firestore';\r\nimport Svg, { Line } from 'react-native-svg';\r\nimport { addTrikiWinExp } from './ProfileScreen';\r\nimport {\r\n  screenWidth as width,\r\n  screenHeight as height,\r\n  wp,\r\n  hp,\r\n  SPACING,\r\n  FONT_SIZES,\r\n  scaleDimension,\r\n  scaleFont,\r\n  getResponsiveDimension\r\n} from '../utils/dimensions';\r\n\r\nconst pixelFont = 'PressStart2P_400Regular';\r\n\r\nconst equisTriki = require('../assets/equis-triki.png');\r\nconst circleTriki = require('../assets/circle-triki.png');\r\n\r\nconst initialBoard = [\r\n  ['', '', ''],\r\n  ['', '', ''],\r\n  ['', '', ''],\r\n];\r\n\r\nfunction formatTime(seconds) {\r\n  const m = Math.floor(seconds / 60).toString();\r\n  const s = (seconds % 60).toString().padStart(2, '0');\r\n  return `${m}:${s}`;\r\n}\r\n\r\nexport default function TrikiGameScreen({ navigation }) {\r\n  const [board, setBoard] = useState(initialBoard);\r\n  const [turn, setTurn] = useState('X');\r\n  const [score, setScore] = useState({ user: 0, ai: 0 });\r\n  const [timer, setTimer] = useState(240); // 4:00 in seconds\r\n  const [gameOver, setGameOver] = useState(false);\r\n  const [winnerLine, setWinnerLine] = useState(null);\r\n  const [paused, setPaused] = useState(false);\r\n  const [showExitConfirm, setShowExitConfirm] = useState(false);\r\n  const [boardLayout, setBoardLayout] = useState({ width: 0, height: 0 });\r\n\r\n  useEffect(() => {\r\n    if (timer > 0 && !gameOver && !paused) {\r\n      const interval = setInterval(() => setTimer(t => t - 1), 1000);\r\n      return () => clearInterval(interval);\r\n    }\r\n  }, [timer, gameOver, paused]);\r\n\r\n  // Simple AI: pick first empty\r\n  useEffect(() => {\r\n    if (turn === 'O' && !gameOver) {\r\n      const empty = [];\r\n      board.forEach((row, i) => row.forEach((cell, j) => { if (!cell) empty.push([i, j]); }));\r\n      if (empty.length > 0) {\r\n        setTimeout(() => {\r\n          const [i, j] = empty[Math.floor(Math.random() * empty.length)];\r\n          makeMove(i, j);\r\n        }, 600);\r\n      }\r\n    }\r\n  }, [turn, board, gameOver]);\r\n\r\n  async function updateStats(result) {\r\n    if (!auth.currentUser) return;\r\n    const userRef = doc(db, 'users', auth.currentUser.uid);\r\n    const statsRef = doc(userRef, 'trikiStats', 'stats');\r\n    const userDocRef = doc(db, 'users', auth.currentUser.uid);\r\n    try {\r\n      const statsDoc = await getDoc(statsRef);\r\n      if (!statsDoc.exists()) {\r\n        await setDoc(statsRef, {\r\n          victorias: 0,\r\n          derrotas: 0,\r\n          empates: 0\r\n        });\r\n      }\r\n      // Incrementar el contador correspondiente\r\n      await setDoc(statsRef, {\r\n        [result]: increment(1)\r\n      }, { merge: true });\r\n      // Si es victoria, revisar para subir nivel y trofeo progresivo\r\n      if (result === 'victorias') {\r\n        const updatedDoc = await getDoc(statsRef);\r\n        const victorias = updatedDoc.exists() ? updatedDoc.data().victorias || 0 : 0;\r\n        // Cada 5 victorias, sube 2 niveles\r\n        if (victorias > 0 && victorias % 5 === 0) {\r\n          await setDoc(userDocRef, { level: increment(2) }, { merge: true });\r\n        }\r\n        // Trofeos progresivos cada 50 victorias\r\n        if (victorias > 0 && victorias % 50 === 0) {\r\n          const trophyId = `triki${victorias}`;\r\n          const trophyRef = doc(userRef, 'trophies', trophyId);\r\n          await setDoc(trophyRef, { unlocked: true, date: new Date().toISOString(), count: victorias });\r\n          await setDoc(userDocRef, { level: increment(10) }, { merge: true });\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Error updating stats:', error);\r\n    }\r\n  }\r\n\r\n  function checkWinner(b) {\r\n    // Rows\r\n    for (let i = 0; i < 3; i++) {\r\n      if (b[i][0] && b[i][0] === b[i][1] && b[i][1] === b[i][2]) {\r\n        return { line: ['row', i] };\r\n      }\r\n    }\r\n    // Columns\r\n    for (let i = 0; i < 3; i++) {\r\n      if (b[0][i] && b[0][i] === b[1][i] && b[1][i] === b[2][i]) {\r\n        return { line: ['col', i] };\r\n      }\r\n    }\r\n    // Diagonals\r\n    if (b[0][0] && b[0][0] === b[1][1] && b[1][1] === b[2][2]) {\r\n      return { line: ['diag', 0] };\r\n    }\r\n    if (b[0][2] && b[0][2] === b[1][1] && b[1][1] === b[2][0]) {\r\n      return { line: ['diag', 1] };\r\n    }\r\n    return null;\r\n  }\r\n\r\n  function makeMove(i, j) {\r\n    if (board[i][j] || gameOver) return;\r\n    \r\n    const newBoard = board.map(row => [...row]);\r\n    newBoard[i][j] = turn;\r\n    setBoard(newBoard);\r\n    \r\n    const win = checkWinner(newBoard);\r\n    if (win) {\r\n      setGameOver(true);\r\n      setWinnerLine(win.line);\r\n      if (turn === 'X') {\r\n        setScore(s => ({ ...s, user: s.user + 1 }));\r\n        updateStats('victorias');\r\n        addTrikiWinExp();\r\n      } else {\r\n        setScore(s => ({ ...s, ai: s.ai + 1 }));\r\n        updateStats('derrotas');\r\n      }\r\n      setTimeout(resetBoard, 1800);\r\n    } else if (newBoard.flat().every(cell => cell)) {\r\n      setGameOver(true);\r\n      updateStats('empates');\r\n      setTimeout(resetBoard, 1800);\r\n    } else {\r\n      setTurn(turn === 'X' ? 'O' : 'X');\r\n    }\r\n  }\r\n\r\n  function resetBoard() {\r\n    setBoard(initialBoard);\r\n    setTurn('X');\r\n    setGameOver(false);\r\n    setWinnerLine(null);\r\n  }\r\n\r\n  return (\r\n    <SafeAreaView style={{ flex: 1, backgroundColor: '#0a0a23' }}>\r\n      <View style={styles.root}>\r\n        {/* Top bar mejorada */}\r\n        <View style={styles.topBar}>\r\n          {/* Botón de volver */}\r\n          <TouchableOpacity onPress={() => navigation.goBack()} style={[styles.topBtn, styles.topBtnGlow]}>\r\n            <Text style={[styles.topTextIcon, { color: '#00fff7', textShadowColor: '#00fff7', textShadowRadius: 8, textShadowOffset: { width: 0, height: 0 } }]}>←</Text>\r\n          </TouchableOpacity>\r\n          {/* Botón de pausa */}\r\n          <TouchableOpacity onPress={() => setPaused(true)} style={[styles.topBtn, styles.topBtnGlow]}>\r\n            <Text style={[styles.topTextIcon, { color: '#00fff7', textShadowColor: '#00fff7', textShadowRadius: 8, textShadowOffset: { width: 0, height: 0 } }]}>∥</Text>\r\n          </TouchableOpacity>\r\n          {/* Botón de salir */}\r\n          <TouchableOpacity onPress={() => setShowExitConfirm(true)} style={[styles.topBtn, styles.topBtnGlow]}>\r\n            <Text style={[styles.topTextIcon, { color: '#ff2e7e', textShadowColor: '#ff2e7e', textShadowRadius: 8, textShadowOffset: { width: 0, height: 0 } }]}>✖</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n        {/* Turno actual */}\r\n        <View style={styles.turnBox}>\r\n          <Text style={styles.turnLabel}>Turno de:</Text>\r\n          <Text style={[styles.turnIcon, { color: turn === 'X' ? '#00fff7' : '#ff2e7e', fontSize: Math.min(width * 0.06, 36), textShadowColor: turn === 'X' ? '#00fff7' : '#ff2e7e', textShadowRadius: 8 }]}>{turn}</Text>\r\n        </View>\r\n        {/* Board */}\r\n        <View\r\n          style={styles.boardBorder}\r\n        >\r\n          <View\r\n            style={styles.boardInner}\r\n            onLayout={e => setBoardLayout(e.nativeEvent.layout)}\r\n          >\r\n            {board.map((row, i) => (\r\n              <View key={i} style={styles.boardRow}>\r\n                {row.map((cell, j) => (\r\n                  <TouchableOpacity\r\n                    key={j}\r\n                    style={styles.cell}\r\n                    activeOpacity={cell || gameOver || turn === 'O' ? 1 : 0.7}\r\n                    onPress={() => turn === 'X' && !cell && !gameOver ? makeMove(i, j) : null}\r\n                  >\r\n                    {cell === 'X' && <Image source={equisTriki} style={styles.cellIcon} resizeMode=\"contain\" />}\r\n                    {cell === 'O' && <Image source={circleTriki} style={styles.cellIcon} resizeMode=\"contain\" />}\r\n                  </TouchableOpacity>\r\n                ))}\r\n              </View>\r\n            ))}\r\n            {/* Winner line */}\r\n            {winnerLine && <WinnerLine line={winnerLine} boardLayout={boardLayout} winnerSymbol={turn} />}\r\n          </View>\r\n        </View>\r\n        {/* Score and timer */}\r\n        <View style={styles.scoreRow}>\r\n          <View style={styles.scoreBox}><Text style={styles.scoreLabel}>TÚ</Text><Text style={styles.scoreValue}>{score.user}</Text></View>\r\n          <View style={styles.scoreBox}><Text style={styles.scoreLabel}>IA</Text><Text style={styles.scoreValue}>{score.ai}</Text></View>\r\n        </View>\r\n        <View style={styles.timerBox}>\r\n          <Text style={styles.timerText}>{formatTime(timer)}</Text>\r\n        </View>\r\n        {/* Modal de pausa */}\r\n        <Modal\r\n          visible={paused}\r\n          transparent\r\n          animationType=\"fade\"\r\n          onRequestClose={() => setPaused(false)}\r\n        >\r\n          <View style={styles.pauseOverlay}>\r\n            <View style={styles.pauseBoxBorder}>\r\n              <View style={styles.pauseBox}>\r\n                <Text style={styles.pauseTitle}>Juego pausado</Text>\r\n                <Text style={styles.pauseMsg}>¿Sigues ahí?</Text>\r\n                <TouchableOpacity style={styles.pauseBtn} onPress={() => setPaused(false)}>\r\n                  <Text style={styles.pauseBtnText}>Continuar</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n          </View>\r\n        </Modal>\r\n        {/* Modal de confirmación de salida */}\r\n        <Modal\r\n          visible={showExitConfirm}\r\n          transparent\r\n          animationType=\"fade\"\r\n          onRequestClose={() => setShowExitConfirm(false)}\r\n        >\r\n          <View style={styles.pauseOverlay}>\r\n            <View style={styles.pauseBoxBorder}>\r\n              <View style={styles.pauseBox}>\r\n                <Text style={styles.exitMsg}>¿Seguro que que quieres salir?</Text>\r\n                <Text style={styles.exitWarn}>No se guardara el progreso</Text>\r\n                <TouchableOpacity style={[styles.pauseBtn, { marginBottom: 8 }]} onPress={() => { setShowExitConfirm(false); navigation.goBack(); }}>\r\n                  <Text style={[styles.pauseBtnText, { color: '#ff2e7e' }]}>Salir</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.pauseBtn} onPress={() => setShowExitConfirm(false)}>\r\n                  <Text style={[styles.pauseBtnText, { color: '#00fff7' }]}>Cancelar</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n          </View>\r\n        </Modal>\r\n      </View>\r\n    </SafeAreaView>\r\n  );\r\n}\r\n\r\nfunction WinnerLine({ line, boardLayout, winnerSymbol }) {\r\n  if (!boardLayout.width || !boardLayout.height) return null;\r\n  const lineThickness = 10;\r\n  const glowThickness = 22;\r\n  const cellW = boardLayout.width / 3;\r\n  const cellH = boardLayout.height / 3;\r\n  const color = winnerSymbol === 'X' ? '#00fff7' : '#ff2e7e';\r\n  const glowColor = winnerSymbol === 'X' ? '#00fff7aa' : '#ff2e7eaa';\r\n\r\n  let x1, y1, x2, y2;\r\n  if (line[0] === 'row') {\r\n    x1 = cellW / 2;\r\n    y1 = cellH * line[1] + cellH / 2;\r\n    x2 = boardLayout.width - cellW / 2;\r\n    y2 = y1;\r\n  } else if (line[0] === 'col') {\r\n    x1 = cellW * line[1] + cellW / 2;\r\n    y1 = cellH / 2;\r\n    x2 = x1;\r\n    y2 = boardLayout.height - cellH / 2;\r\n  } else if (line[0] === 'diag' && line[1] === 0) {\r\n    x1 = cellW / 2;\r\n    y1 = cellH / 2;\r\n    x2 = boardLayout.width - cellW / 2;\r\n    y2 = boardLayout.height - cellH / 2;\r\n  } else if (line[0] === 'diag' && line[1] === 1) {\r\n    x1 = boardLayout.width - cellW / 2;\r\n    y1 = cellH / 2;\r\n    x2 = cellW / 2;\r\n    y2 = boardLayout.height - cellH / 2;\r\n  }\r\n\r\n  return (\r\n    <Svg\r\n      style={{ position: 'absolute', left: 0, top: 0, width: boardLayout.width, height: boardLayout.height, pointerEvents: 'none' }}\r\n      width={boardLayout.width}\r\n      height={boardLayout.height}\r\n    >\r\n      {/* Glow */}\r\n      <Line\r\n        x1={x1}\r\n        y1={y1}\r\n        x2={x2}\r\n        y2={y2}\r\n        stroke={glowColor}\r\n        strokeWidth={glowThickness}\r\n        strokeLinecap=\"round\"\r\n        opacity={0.45}\r\n      />\r\n      {/* Línea principal */}\r\n      <Line\r\n        x1={x1}\r\n        y1={y1}\r\n        x2={x2}\r\n        y2={y2}\r\n        stroke={color}\r\n        strokeWidth={lineThickness}\r\n        strokeLinecap=\"round\"\r\n        opacity={0.98}\r\n      />\r\n    </Svg>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  root: {\r\n    flex: 1,\r\n    backgroundColor: '#0a0a23',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-start',\r\n    width: '100%',\r\n  },\r\n  topBar: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    width: '92%',\r\n    marginTop: Math.max(12, height * 0.018),\r\n    marginBottom: Math.max(12, height * 0.01),\r\n    alignSelf: 'center',\r\n  },\r\n  topBtn: {\r\n    backgroundColor: '#18182e',\r\n    borderWidth: 3,\r\n    borderColor: '#00fff7',\r\n    borderRadius: Math.max(18, width * 0.045),\r\n    padding: 4,\r\n    width: 40,\r\n    height: 40,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  topBtnGlow: {\r\n    shadowColor: '#00fff7',\r\n    shadowOpacity: 0.18,\r\n    shadowRadius: 18,\r\n    shadowOffset: { width: 0, height: 0 },\r\n  },\r\n  topIcon: {\r\n    width: 28,\r\n    height: 28,\r\n  },\r\n  topTextIcon: {\r\n    fontFamily: pixelFont,\r\n    fontSize: Math.min(width * 0.06, 28),\r\n    textAlign: 'center',\r\n    textShadowColor: '#18182e',\r\n    textShadowOffset: { width: 2, height: 2 },\r\n    textShadowRadius: 1,\r\n  },\r\n  turnBox: {\r\n    backgroundColor: '#23233a',\r\n    borderWidth: 3,\r\n    borderColor: '#00fff7',\r\n    borderRadius: Math.max(18, width * 0.045),\r\n    paddingHorizontal: Math.max(12, width * 0.06),\r\n    paddingVertical: Math.max(4, width * 0.03),\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  turnLabel: {\r\n    color: '#fff',\r\n    fontFamily: pixelFont,\r\n    fontSize: Math.min(width * 0.06, 26),\r\n    marginBottom: Math.max(2, width * 0.005),\r\n  },\r\n  turnIcon: {\r\n    fontFamily: pixelFont,\r\n    fontSize: Math.min(width * 0.06, 36),\r\n  },\r\n  boardBorder: {\r\n    borderWidth: 7,\r\n    borderColor: '#00fff7',\r\n    borderRadius: Math.max(22, width * 0.045),\r\n    backgroundColor: '#23233a',\r\n    padding: Math.max(6, width * 0.005),\r\n    marginTop: Math.max(12, width * 0.005),\r\n    marginBottom: Math.max(12, width * 0.005),\r\n    alignSelf: 'center',\r\n    width: '99%',\r\n    maxWidth: undefined,\r\n  },\r\n  boardInner: {\r\n    borderWidth: 5,\r\n    borderColor: '#ff2e7e',\r\n    borderRadius: Math.max(18, width * 0.045),\r\n    backgroundColor: '#101926',\r\n    width: '100%',\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    position: 'relative',\r\n    overflow: 'hidden',\r\n    maxWidth: undefined,\r\n  },\r\n  boardRow: {\r\n    flexDirection: 'row',\r\n    width: '100%',\r\n    height: '33.33%',\r\n  },\r\n  cell: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderWidth: 2,\r\n    borderColor: '#00fff7',\r\n    margin: Math.max(2, width * 0.005),\r\n    aspectRatio: 1,\r\n    backgroundColor: 'transparent',\r\n  },\r\n  cellIcon: {\r\n    width: '80%',\r\n    height: '80%',\r\n  },\r\n  scoreRow: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    width: '80%',\r\n    marginTop: Math.max(12, width * 0.01),\r\n    marginBottom: 0,\r\n    alignSelf: 'center',\r\n  },\r\n  scoreBox: {\r\n    backgroundColor: '#18182e',\r\n    borderWidth: 4,\r\n    borderColor: '#00fff7',\r\n    borderRadius: Math.max(14, width * 0.045),\r\n    paddingVertical: Math.max(16, width * 0.03),\r\n    paddingHorizontal: Math.max(32, width * 0.06),\r\n    alignItems: 'center',\r\n    minWidth: Math.max(80, width * 0.09),\r\n  },\r\n  scoreLabel: {\r\n    color: '#fff',\r\n    fontFamily: pixelFont,\r\n    fontSize: Math.min(width * 0.06, 26),\r\n    marginBottom: Math.max(2, width * 0.005),\r\n  },\r\n  scoreValue: {\r\n    color: '#00fff7',\r\n    fontFamily: pixelFont,\r\n    fontSize: Math.min(width * 0.09, 32),\r\n  },\r\n  timerBox: {\r\n    marginTop: Math.max(16, width * 0.01),\r\n    backgroundColor: '#23233a',\r\n    borderWidth: 4,\r\n    borderColor: '#7d2fff',\r\n    borderRadius: Math.max(14, width * 0.045),\r\n    paddingVertical: Math.max(12, width * 0.03),\r\n    paddingHorizontal: Math.max(36, width * 0.06),\r\n    alignItems: 'center',\r\n    alignSelf: 'center',\r\n  },\r\n  timerText: {\r\n    color: '#fff',\r\n    fontFamily: pixelFont,\r\n    fontSize: Math.min(width * 0.09, 32),\r\n    letterSpacing: 2,\r\n  },\r\n  pauseOverlay: {\r\n    flex: 1,\r\n    backgroundColor: 'rgba(10,10,35,0.93)',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    padding: Math.max(18, width * 0.03),\r\n    zIndex: 100,\r\n  },\r\n  pauseBoxBorder: {\r\n    borderWidth: 6,\r\n    borderColor: '#00fff7',\r\n    borderRadius: Math.max(22, width * 0.045),\r\n    backgroundColor: '#23233a',\r\n    padding: Math.max(6, width * 0.005),\r\n    shadowColor: '#00fff7',\r\n    shadowOpacity: 0.18,\r\n    shadowRadius: 18,\r\n    shadowOffset: { width: 0, height: 0 },\r\n  },\r\n  pauseBox: {\r\n    borderWidth: 4,\r\n    borderColor: '#ff2e7e',\r\n    borderRadius: Math.max(16, width * 0.045),\r\n    backgroundColor: '#101926',\r\n    paddingVertical: Math.max(height * 0.03, width * 0.06),\r\n    paddingHorizontal: Math.max(width * 0.06, 220),\r\n    alignItems: 'center',\r\n    maxWidth: Math.min(width * 0.9, 370),\r\n    minWidth: Math.max(220, width * 0.06),\r\n  },\r\n  pauseTitle: {\r\n    color: '#ff2e7e',\r\n    fontFamily: pixelFont,\r\n    fontSize: Math.min(width * 0.06, 26),\r\n    textAlign: 'center',\r\n    marginBottom: Math.max(10, width * 0.005),\r\n    letterSpacing: 1,\r\n  },\r\n  pauseMsg: {\r\n    color: '#fff',\r\n    fontFamily: pixelFont,\r\n    fontSize: Math.min(width * 0.045, 18),\r\n    textAlign: 'center',\r\n    marginBottom: Math.max(18, width * 0.005),\r\n  },\r\n  pauseBtn: {\r\n    width: '90%',\r\n    alignSelf: 'center',\r\n    backgroundColor: '#101926',\r\n    borderWidth: 3,\r\n    borderColor: '#00fff7',\r\n    borderRadius: Math.max(12, width * 0.045),\r\n    paddingVertical: Math.max(height * 0.022, width * 0.03),\r\n    marginTop: Math.max(height * 0.01, width * 0.005),\r\n    shadowColor: '#00fff7',\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 10,\r\n    shadowOffset: { width: 0, height: 0 },\r\n  },\r\n  pauseBtnText: {\r\n    color: '#00fff7',\r\n    fontFamily: pixelFont,\r\n    fontSize: Math.min(width * 0.06, 22),\r\n    textAlign: 'center',\r\n    letterSpacing: 2,\r\n  },\r\n  exitMsg: {\r\n    color: '#fff',\r\n    fontFamily: pixelFont,\r\n    fontSize: Math.min(width * 0.045, 18),\r\n    textAlign: 'center',\r\n    marginBottom: Math.max(8, width * 0.005),\r\n  },\r\n  exitWarn: {\r\n    color: '#ff2e7e',\r\n    fontFamily: pixelFont,\r\n    fontSize: Math.min(width * 0.042, 16),\r\n    textAlign: 'center',\r\n    marginBottom: Math.max(18, width * 0.005),\r\n  },\r\n}); "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}